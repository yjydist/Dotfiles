import{$ as e,At as t,B as n,D as r,Et as i,J as a,K as o,M as s,N as c,Ot as l,Pt as u,T as d,U as f,V as p,W as m,X as h,Y as g,_t as _,at as v,et as y,ft as b,ht as x,j as S,jt as C,kt as w,lt as T,mt as E,nt as ee,pt as D,q as O,tt as k,ut as A,w as j,x as te,xt as M}from"./DO0JR7ER.js";import{i as ne,n as N,r as re}from"./CnEnsHnL.js";import{t as ie}from"./CNdGjGfk.js";import"./Dc30IiQz.js";import{A as ae,B as oe,S as se,b as ce,d as le,i as ue,l as de,n as fe,t as pe,u as me,y as he}from"./Dq3bNNT9.js";import{t as ge}from"./BLNk-Hhf.js";import{i as _e,r as ve}from"./Ch85hcd-.js";import{a as ye,i as be,n as xe,t as Se}from"./x5MwCfWL.js";import{c as Ce,h as we,o as Te}from"./DwNTAuCO.js";import{t as Ee}from"./Dxsakos9.js";import{t as De}from"./BvBshIQR.js";import{t as Oe}from"./B4Qbnrge.js";import{t as ke}from"./DV20IOiY.js";function Ae(e){var t=typeof e;return e!=null&&(t==`object`||t==`function`)}var je=Ae,Me=`[object AsyncFunction]`,Ne=`[object Function]`,Pe=`[object GeneratorFunction]`,Fe=`[object Proxy]`;function Ie(e){if(!je(e))return!1;var t=be(e);return t==Ne||t==Pe||t==Me||t==Fe}var Le=Ie,Re=ye[`__core-js_shared__`],ze=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||``);return e?`Symbol(src)_1.`+e:``}();function Be(e){return!!ze&&ze in e}var Ve=Be,He=Function.prototype.toString;function Ue(e){if(e!=null){try{return He.call(e)}catch{}try{return e+``}catch{}}return``}var We=Ue,Ge=/[\\^$.*+?()[\]{}|]/g,Ke=/^\[object .+?Constructor\]$/,qe=Function.prototype,Je=Object.prototype,Ye=qe.toString,Xe=Je.hasOwnProperty,Ze=RegExp(`^`+Ye.call(Xe).replace(Ge,`\\$&`).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,`$1.*?`)+`$`);function Qe(e){return!je(e)||Ve(e)?!1:(Le(e)?Ze:Ke).test(We(e))}var $e=Qe;function et(e,t){return e?.[t]}var tt=et;function nt(e,t){var n=tt(e,t);return $e(n)?n:void 0}var rt=nt;function it(){}var at=it;function ot(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var st=ot;function ct(e){return e!==e}var lt=ct;function ut(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var dt=ut;function ft(e,t,n){return t===t?dt(e,t,n):st(e,lt,n)}var pt=ft;function mt(e,t){return!!(e!=null&&e.length)&&pt(e,t,0)>-1}var ht=mt;function gt(e,t){return e===t||e!==e&&t!==t}var _t=gt,vt=rt(Object,`create`);function yt(){this.__data__=vt?vt(null):{},this.size=0}var bt=yt;function xt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var St=xt,Ct=`__lodash_hash_undefined__`,wt=Object.prototype.hasOwnProperty;function Tt(e){var t=this.__data__;if(vt){var n=t[e];return n===Ct?void 0:n}return wt.call(t,e)?t[e]:void 0}var Et=Tt,Dt=Object.prototype.hasOwnProperty;function Ot(e){var t=this.__data__;return vt?t[e]!==void 0:Dt.call(t,e)}var kt=Ot,At=`__lodash_hash_undefined__`;function jt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vt&&t===void 0?At:t,this}var Mt=jt;function Nt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nt.prototype.clear=bt,Nt.prototype.delete=St,Nt.prototype.get=Et,Nt.prototype.has=kt,Nt.prototype.set=Mt;var Pt=Nt;function Ft(){this.__data__=[],this.size=0}var It=Ft;function Lt(e,t){for(var n=e.length;n--;)if(_t(e[n][0],t))return n;return-1}var Rt=Lt,zt=Array.prototype.splice;function Bt(e){var t=this.__data__,n=Rt(t,e);return n<0?!1:(n==t.length-1?t.pop():zt.call(t,n,1),--this.size,!0)}var Vt=Bt;function Ht(e){var t=this.__data__,n=Rt(t,e);return n<0?void 0:t[n][1]}var Ut=Ht;function Wt(e){return Rt(this.__data__,e)>-1}var Gt=Wt;function Kt(e,t){var n=this.__data__,r=Rt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var qt=Kt;function Jt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jt.prototype.clear=It,Jt.prototype.delete=Vt,Jt.prototype.get=Ut,Jt.prototype.has=Gt,Jt.prototype.set=qt;var Yt=Jt,Xt=rt(ye,`Map`);function Zt(){this.size=0,this.__data__={hash:new Pt,map:new(Xt||Yt),string:new Pt}}var Qt=Zt;function $t(e){var t=typeof e;return t==`string`||t==`number`||t==`symbol`||t==`boolean`?e!==`__proto__`:e===null}var en=$t;function tn(e,t){var n=e.__data__;return en(t)?n[typeof t==`string`?`string`:`hash`]:n.map}var nn=tn;function rn(e){var t=nn(this,e).delete(e);return this.size-=t?1:0,t}var an=rn;function on(e){return nn(this,e).get(e)}var sn=on;function cn(e){return nn(this,e).has(e)}var ln=cn;function un(e,t){var n=nn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var dn=un;function fn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fn.prototype.clear=Qt,fn.prototype.delete=an,fn.prototype.get=sn,fn.prototype.has=ln,fn.prototype.set=dn;var pn=fn,mn=rt(ye,`Set`),hn=`__lodash_hash_undefined__`;function gn(e){return this.__data__.set(e,hn),this}var _n=gn;function vn(e){return this.__data__.has(e)}var yn=vn;function bn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new pn;++t<n;)this.add(e[t])}bn.prototype.add=bn.prototype.push=_n,bn.prototype.has=yn;var xn=bn;function Sn(e,t){return e.has(t)}var Cn=Sn;function wn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var Tn=wn;function En(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Dn=En,On=mn&&1/Tn(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:at,kn=200;function An(e,t,n){var r=-1,i=ht,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=Dn;else if(a>=kn){var l=t?null:On(e);if(l)return Tn(l);o=!1,i=Cn,c=new xn}else c=t?[]:s;outer:for(;++r<a;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue outer;t&&c.push(d),s.push(u)}else i(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}var jn=An;function Mn(e){return e&&e.length?jn(e):[]}var Nn=Mn,Pn={class:`flex flex-col gap-3`},Fn={class:`flex flex-wrap items-center gap-2`},In={class:`flex gap-1 rounded-lg border border-base-content/12 bg-base-200/60 p-1`},Ln=[`onClick`],Rn={class:`inline-flex h-[1.125rem] min-w-5 items-center justify-center rounded-full bg-current/20 px-1.5 text-[0.6875rem] font-semibold`},zn={class:`flex items-center gap-2`},Bn={class:`hidden text-[0.8125rem] text-base-content/60 sm:inline-block`},Vn={class:`relative inline-block h-5 w-9 cursor-pointer`},Hn=[`checked`],Un={class:`max-w-40 flex-1`},Wn=[`value`],Gn={value:``},Kn=[`value`],qn={class:`flex flex-wrap items-center gap-2`},Jn={class:`flex shrink-0 items-center gap-1.5`},Yn={class:`hidden text-[0.8125rem] whitespace-nowrap text-base-content/60 sm:inline-block`},Xn=[`value`],Zn=[`value`],Qn={class:`flex min-w-0 flex-1 items-center gap-1`},$n=[`placeholder`,`value`],er=[`disabled`],tr={key:0,class:`h-4 w-4 animate-spin rounded-full border-2 border-current/30 border-t-current`},nr=k({__name:`ConnectionsToolbar`,props:{tabs:{},activeTab:{},enableQuickFilter:{type:Boolean},sourceIPFilter:{},uniqueSourceIPs:{},sortColumn:{},sortDesc:{type:Boolean},sortableColumns:{},globalFilter:{},paused:{type:Boolean},isClosingConnections:{type:Boolean}},emits:[`update:activeTab`,`update:enableQuickFilter`,`update:sourceIPFilter`,`update:sortColumn`,`update:globalFilter`,`toggleSortOrder`,`togglePaused`,`closeConnections`,`openSettings`],setup(e,{emit:t}){let n=t,{t:r}=te();return(t,i)=>(T(),h(`div`,Pn,[O(`div`,Fn,[O(`div`,In,[(T(!0),h(m,null,A(e.tabs,t=>(T(),h(`button`,{key:t.type,class:w([`flex cursor-pointer items-center gap-2 rounded-md border-none bg-transparent px-3 py-1.5 text-[0.8125rem] font-medium text-base-content/60 transition-all duration-200 hover:bg-base-content/5 hover:text-base-content`,{"bg-primary! text-primary-content! shadow-[0_2px_8px_var(--color-primary)/30]":e.activeTab===t.type}]),onClick:e=>n(`update:activeTab`,t.type)},[O(`span`,null,C(t.name),1),O(`span`,Rn,C(t.count),1)],10,Ln))),128))]),O(`div`,zn,[O(`span`,Bn,C(l(r)(`quickFilter`)),1),O(`label`,Vn,[O(`input`,{type:`checkbox`,class:`peer h-0 w-0 opacity-0`,checked:e.enableQuickFilter,onChange:i[0]||=e=>n(`update:enableQuickFilter`,e.target.checked)},null,40,Hn),i[8]||=O(`span`,{class:`absolute inset-0 rounded-full bg-base-content/20 transition-all duration-200 peer-checked:bg-primary before:absolute before:top-1/2 before:left-0.5 before:h-3.5 before:w-3.5 before:-translate-y-1/2 before:rounded-full before:bg-base-100 before:shadow-sm before:transition-all before:duration-200 before:content-[''] peer-checked:before:left-[calc(100%-2px)] peer-checked:before:-translate-x-full`},null,-1)])]),O(`div`,Un,[O(`select`,{class:`w-full cursor-pointer appearance-none rounded-lg border border-base-content/12 bg-base-200/60 bg-[length:1rem] bg-[right_0.5rem_center] bg-no-repeat py-1.5 pr-7 pl-3 text-[0.8125rem] text-base-content transition-all duration-200 focus:border-primary focus:shadow-[0_0_0_2px_var(--color-primary)/20] focus:outline-none`,style:{"background-image":`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E")`},value:e.sourceIPFilter,onChange:i[1]||=e=>n(`update:sourceIPFilter`,e.target.value)},[O(`option`,Gn,C(l(r)(`all`)),1),(T(!0),h(m,null,A(e.uniqueSourceIPs,e=>(T(),h(`option`,{key:e,value:e},C(e),9,Kn))),128))],40,Wn)])]),O(`div`,qn,[O(`div`,Jn,[O(`span`,Yn,C(l(r)(`sortBy`)),1),O(`select`,{class:`w-full max-w-32 cursor-pointer appearance-none rounded-lg border border-base-content/12 bg-base-200/60 bg-[length:1rem] bg-[right_0.5rem_center] bg-no-repeat py-1.5 pr-7 pl-3 text-[0.8125rem] text-base-content transition-all duration-200 focus:border-primary focus:shadow-[0_0_0_2px_var(--color-primary)/20] focus:outline-none`,style:{"background-image":`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E")`},value:e.sortColumn,onChange:i[2]||=e=>n(`update:sortColumn`,e.target.value)},[(T(!0),h(m,null,A(e.sortableColumns,e=>(T(),h(`option`,{key:e.id,value:e.sortId},C(l(r)(e.key)),9,Zn))),128))],40,Xn),O(`button`,{class:`flex h-8 w-8 shrink-0 cursor-pointer items-center justify-center rounded-lg border border-base-content/12 bg-base-200/60 text-base-content transition-all duration-200 hover:border-base-content/20 hover:bg-base-300`,onClick:i[3]||=e=>n(`toggleSortOrder`)},[e.sortDesc?(T(),a(l(de),{key:0,size:18})):(T(),a(l(me),{key:1,size:18}))])]),O(`div`,Qn,[O(`input`,{type:`search`,class:`min-w-0 flex-1 rounded-lg border border-base-content/12 bg-base-200/60 px-3 py-2 text-[0.8125rem] text-base-content transition-all duration-200 placeholder:text-base-content/40 focus:border-primary focus:bg-base-100 focus:shadow-[0_0_0_2px_var(--color-primary)/20] focus:outline-none`,placeholder:l(r)(`search`),value:e.globalFilter,onInput:i[4]||=e=>n(`update:globalFilter`,e.target.value)},null,40,$n),O(`button`,{class:w([`flex h-8 w-8 shrink-0 cursor-pointer items-center justify-center rounded-lg border border-base-content/12 bg-base-200/60 text-base-content transition-all duration-200 hover:border-base-content/20 hover:bg-base-300`,{"border-warning/30 bg-warning/15 text-warning hover:bg-warning/25":e.paused}]),onClick:i[5]||=e=>n(`togglePaused`)},[e.paused?(T(),a(l(he),{key:0,size:18})):(T(),a(l(ce),{key:1,size:18}))],2),O(`button`,{class:`flex h-8 w-8 shrink-0 cursor-pointer items-center justify-center rounded-lg border border-base-content/12 bg-base-200/60 text-base-content transition-all duration-200 hover:border-error/30 hover:bg-error/15 hover:text-error disabled:cursor-not-allowed disabled:opacity-50`,disabled:e.isClosingConnections,onClick:i[6]||=e=>n(`closeConnections`)},[e.isClosingConnections?(T(),h(`span`,tr)):(T(),a(l(ue),{key:1,size:18}))],8,er),O(`button`,{class:`flex h-8 w-8 shrink-0 cursor-pointer items-center justify-center rounded-lg border border-base-content/12 bg-base-200/60 text-base-content transition-all duration-200 hover:border-base-content/20 hover:bg-base-300`,onClick:i[7]||=e=>n(`openSettings`)},[y(l(le),{size:18})])])])]))}}),rr=Object.assign(nr,{__name:`ConnectionsToolbar`}),ir={class:`conn-table-container min-h-0 flex-1 rounded-xl`},ar={class:`hidden md:table-header-group`},or={class:`sticky top-0 z-10 bg-base-200`},sr={class:`flex items-center gap-1.5`},cr=[`onClick`],lr=[`onClick`],ur=[`onClick`],dr=[`colspan`],fr={class:`flex items-center gap-2`},pr={class:`conn-group-icon flex h-6 w-6 items-center justify-center rounded-md`},mr={class:`font-semibold text-primary`},hr={class:`conn-group-count text-xs`},gr=[`onClick`],_r={class:`conn-td-label mb-0.5 block text-[0.6875rem] tracking-wide uppercase md:hidden`},vr={key:0,class:`conn-empty flex items-center justify-center px-4 py-12 text-sm`},yr=k({__name:`ConnectionsTable`,props:{columns:{},rowModel:{},sortColumn:{},sortDesc:{type:Boolean},groupingColumn:{},expandedGroups:{},tableSizeClass:{}},emits:[`headerClick`,`toggleGrouping`,`toggleGroupExpanded`,`rowClick`],setup(e,{emit:n}){let r=n,{t:i}=te();function o(e){return e.sortable&&!!e.sortId}function s(e,t){return e.sortId?t===e.sortId:!1}return(n,c)=>(T(),h(`div`,ir,[O(`table`,{class:w([`table w-full border-collapse`,e.tableSizeClass])},[O(`thead`,ar,[O(`tr`,or,[(T(!0),h(m,null,A(e.columns,t=>(T(),h(`th`,{key:t.id,class:`conn-th text-left text-xs font-semibold tracking-wide whitespace-nowrap uppercase`},[O(`div`,sr,[O(`div`,{class:w([`flex-1`,{"cursor-pointer transition-colors duration-200 select-none hover:text-primary":o(t)}]),onClick:e=>r(`headerClick`,t.id)},C(l(i)(t.key)),11,cr),s(t,e.sortColumn)&&!e.sortDesc?(T(),a(l(me),{key:0,class:`text-primary`,size:14})):s(t,e.sortColumn)&&e.sortDesc?(T(),a(l(de),{key:1,class:`text-primary`,size:14})):g(``,!0),t.groupable?(T(),h(`button`,{key:2,class:`conn-group-btn flex cursor-pointer items-center justify-center rounded border-none bg-transparent p-1 transition-all duration-200`,onClick:f(e=>r(`toggleGrouping`,t.id),[`stop`])},[e.groupingColumn===t.id?(T(),a(l(pe),{key:0,size:16})):(T(),a(l(fe),{key:1,size:16}))],8,lr)):g(``,!0)])]))),128))])]),O(`tbody`,null,[(T(!0),h(m,null,A(e.rowModel,(n,o)=>(T(),h(m,{key:n.type===`group`?`group-${n.key}`:n.original.id},[n.type===`group`?(T(),h(`tr`,{key:0,class:`conn-group-row cursor-pointer transition-colors duration-200`,onClick:e=>r(`toggleGroupExpanded`,n.key)},[O(`td`,{colspan:e.columns.length,class:`conn-group-cell px-3.5 py-2.5`},[O(`div`,fr,[O(`div`,pr,[e.expandedGroups[n.key]?(T(),a(l(pe),{key:0,size:16})):(T(),a(l(fe),{key:1,size:16}))]),O(`span`,mr,C(n.key),1),O(`span`,hr,`(`+C(n.subRows.length)+`)`,1)])],8,dr)],8,ur)):(T(),h(`tr`,{key:1,class:`conn-data-row cursor-pointer transition-all duration-200`,style:t({animationDelay:`${o%20*15}ms`}),onClick:e=>r(`rowClick`,n.original)},[(T(!0),h(m,null,A(e.columns,e=>(T(),h(`td`,{key:e.id,class:`conn-td break-words`},[O(`span`,_r,C(l(i)(e.key)),1),(T(),a(b(()=>e.render(n.original))))]))),128))],12,gr))],64))),128))])],2),e.rowModel.length===0?(T(),h(`div`,vr,[O(`span`,null,C(l(i)(`noData`)),1)])):g(``,!0)]))}}),br=Object.assign(ge(yr,[[`__scopeId`,`data-v-42b50e7e`]]),{__name:`ConnectionsTable`});function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?xr(Object(n),!0).forEach(function(t){wr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cr(e){"@babel/helpers - typeof";return Cr=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},Cr(e)}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(){return Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(this,arguments)}function Er(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Dr(e,t){if(e==null)return{};var n=Er(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Or=`1.15.6`;function kr(e){if(typeof window<`u`&&window.navigator)return!!navigator.userAgent.match(e)}var Ar=kr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),jr=kr(/Edge/i),Mr=kr(/firefox/i),Nr=kr(/safari/i)&&!kr(/chrome/i)&&!kr(/android/i),Pr=kr(/iP(ad|od|hone)/i),Fr=kr(/chrome/i)&&kr(/android/i),Ir={capture:!1,passive:!1};function P(e,t,n){e.addEventListener(t,n,!Ar&&Ir)}function F(e,t,n){e.removeEventListener(t,n,!Ar&&Ir)}function Lr(e,t){if(t){if(t[0]===`>`&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Rr(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function I(e,t,n,r){if(e){n||=document;do{if(t!=null&&(t[0]===`>`?e.parentNode===n&&Lr(e,t):Lr(e,t))||r&&e===n)return e;if(e===n)break}while(e=Rr(e))}return null}var zr=/\s+/g;function L(e,t,n){e&&t&&(e.classList?e.classList[n?`add`:`remove`](t):e.className=((` `+e.className+` `).replace(zr,` `).replace(` `+t+` `,` `)+(n?` `+t:``)).replace(zr,` `))}function R(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,``):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf(`webkit`)===-1&&(t=`-webkit-`+t),r[t]=n+(typeof n==`string`?``:`px`)}}function Br(e,t){var n=``;if(typeof e==`string`)n=e;else do{var r=R(e,`transform`);r&&r!==`none`&&(n=r+` `+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Vr(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function Hr(){return document.scrollingElement||document.documentElement}function z(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,o,s,c,l,u,d;if(e!==window&&e.parentNode&&e!==Hr()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,c=a.bottom,l=a.right,u=a.height,d=a.width):(o=0,s=0,c=window.innerHeight,l=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i||=e.parentNode,!Ar))do if(i&&i.getBoundingClientRect&&(R(i,`transform`)!==`none`||n&&R(i,`position`)!==`static`)){var f=i.getBoundingClientRect();o-=f.top+parseInt(R(i,`border-top-width`)),s-=f.left+parseInt(R(i,`border-left-width`)),c=o+a.height,l=s+a.width;break}while(i=i.parentNode);if(r&&e!==window){var p=Br(i||e),m=p&&p.a,h=p&&p.d;p&&(o/=h,s/=m,d/=m,u/=h,c=o+u,l=s+d)}return{top:o,left:s,bottom:c,right:l,width:d,height:u}}}function Ur(e,t,n){for(var r=Jr(e,!0),i=z(e)[t];r;){var a=z(r)[n],o=void 0;if(o=n===`top`||n===`left`?i>=a:i<=a,!o)return r;if(r===Hr())break;r=Jr(r,!1)}return!1}function Wr(e,t,n,r){for(var i=0,a=0,o=e.children;a<o.length;){if(o[a].style.display!==`none`&&o[a]!==Q.ghost&&(r||o[a]!==Q.dragged)&&I(o[a],n.draggable,e,!1)){if(i===t)return o[a];i++}a++}return null}function Gr(e,t){for(var n=e.lastElementChild;n&&(n===Q.ghost||R(n,`display`)===`none`||t&&!Lr(n,t));)n=n.previousElementSibling;return n||null}function B(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!==`TEMPLATE`&&e!==Q.clone&&(!t||Lr(e,t))&&n++;return n}function Kr(e){var t=0,n=0,r=Hr();if(e)do{var i=Br(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function qr(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Jr(e,t){if(!e||!e.getBoundingClientRect)return Hr();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=R(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX==`auto`||i.overflowX==`scroll`)||n.clientHeight<n.scrollHeight&&(i.overflowY==`auto`||i.overflowY==`scroll`)){if(!n.getBoundingClientRect||n===document.body)return Hr();if(r||t)return n;r=!0}}while(n=n.parentNode);return Hr()}function Yr(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Xr(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Zr;function Qr(e,t){return function(){if(!Zr){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),Zr=setTimeout(function(){Zr=void 0},t)}}}function $r(){clearTimeout(Zr),Zr=void 0}function ei(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ti(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function ni(e,t,n){var r={};return Array.from(e.children).forEach(function(i){if(!(!I(i,t.draggable,e,!1)||i.animated||i===n)){var a=z(i);r.left=Math.min(r.left??1/0,a.left),r.top=Math.min(r.top??1/0,a.top),r.right=Math.max(r.right??-1/0,a.right),r.bottom=Math.max(r.bottom??-1/0,a.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var V=`Sortable`+new Date().getTime();function ri(){var e=[],t;return{captureAnimationState:function(){e=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if(!(R(t,`display`)===`none`||t===Q.ghost)){e.push({target:t,rect:z(t)});var n=Sr({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=Br(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}})},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(qr(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n==`function`&&n();return}var i=!1,a=0;e.forEach(function(e){var t=0,n=e.target,o=n.fromRect,s=z(n),c=n.prevFromRect,l=n.prevToRect,u=e.rect,d=Br(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&Xr(c,s)&&!Xr(o,s)&&(u.top-s.top)/(u.left-s.left)===(o.top-s.top)/(o.left-s.left)&&(t=ai(u,c,l,r.options)),Xr(s,o)||(n.prevFromRect=o,n.prevToRect=s,t||=r.options.animation,r.animate(n,u,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(t),i?t=setTimeout(function(){typeof n==`function`&&n()},a):typeof n==`function`&&n(),e=[]},animate:function(e,t,n,r){if(r){R(e,`transition`,``),R(e,`transform`,``);var i=Br(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-n.left)/(a||1),c=(t.top-n.top)/(o||1);e.animatingX=!!s,e.animatingY=!!c,R(e,`transform`,`translate3d(`+s+`px,`+c+`px,0)`),this.forRepaintDummy=ii(e),R(e,`transition`,`transform `+r+`ms`+(this.options.easing?` `+this.options.easing:``)),R(e,`transform`,`translate3d(0,0,0)`),typeof e.animated==`number`&&clearTimeout(e.animated),e.animated=setTimeout(function(){R(e,`transition`,``),R(e,`transform`,``),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}}function ii(e){return e.offsetWidth}function ai(e,t,n,r){return Math.sqrt((t.top-e.top)**2+(t.left-e.left)**2)/Math.sqrt((t.top-n.top)**2+(t.left-n.left)**2)*r.animation}var oi=[],si={initializeByDefault:!0},ci={mount:function(e){for(var t in si)si.hasOwnProperty(t)&&!(t in e)&&(e[t]=si[t]);oi.forEach(function(t){if(t.pluginName===e.pluginName)throw`Sortable: Cannot mount plugin ${e.pluginName} more than once`}),oi.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+`Global`;oi.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](Sr({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](Sr({sortable:t},n)))})},initializePlugins:function(e,t,n,r){for(var i in oi.forEach(function(r){var i=r.pluginName;if(!(!e.options[i]&&!r.initializeByDefault)){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,Tr(n,a.defaults)}}),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);a!==void 0&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return oi.forEach(function(r){typeof r.eventProperties==`function`&&Tr(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return oi.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[t]==`function`&&(r=i.optionListeners[t].call(e[i.pluginName],n))}),r}};function li(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,o=e.toEl,s=e.fromEl,c=e.oldIndex,l=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,m=e.extraEventProperties;if(t||=n&&n[V],t){var h,g=t.options,_=`on`+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Ar&&!jr?h=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(h=document.createEvent(`Event`),h.initEvent(r,!0,!0)),h.to=o||n,h.from=s||n,h.item=i||n,h.clone=a,h.oldIndex=c,h.newIndex=l,h.oldDraggableIndex=u,h.newDraggableIndex=d,h.originalEvent=f,h.pullMode=p?p.lastPutMode:void 0;var v=Sr(Sr({},m),ci.getEventProperties(r,t));for(var y in v)h[y]=v[y];n&&n.dispatchEvent(h),g[_]&&g[_].call(t,h)}}var ui=[`evt`],H=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,i=Dr(n,ui);ci.pluginEvent.bind(Q)(e,t,Sr({dragEl:W,parentEl:G,ghostEl:K,rootEl:q,nextEl:di,lastDownEl:fi,cloneEl:J,cloneHidden:pi,dragStarted:Di,putSortable:X,activeSortable:Q.active,originalEvent:r,oldIndex:mi,oldDraggableIndex:hi,newIndex:Y,newDraggableIndex:gi,hideGhostForTarget:Gi,unhideGhostForTarget:Ki,cloneNowHidden:function(){pi=!0},cloneNowShown:function(){pi=!1},dispatchSortableEvent:function(e){U({sortable:t,name:e,originalEvent:r})}},i))};function U(e){li(Sr({putSortable:X,cloneEl:J,targetEl:W,rootEl:q,oldIndex:mi,oldDraggableIndex:hi,newIndex:Y,newDraggableIndex:gi},e))}var W,G,K,q,di,fi,J,pi,mi,Y,hi,gi,_i,X,vi=!1,yi=!1,bi=[],xi,Si,Ci,wi,Ti,Ei,Di,Oi,ki,Ai=!1,ji=!1,Mi,Z,Ni=[],Pi=!1,Fi=[],Ii=typeof document<`u`,Li=Pr,Ri=jr||Ar?`cssFloat`:`float`,zi=Ii&&!Fr&&!Pr&&`draggable`in document.createElement(`div`),Bi=function(){if(Ii){if(Ar)return!1;var e=document.createElement(`x`);return e.style.cssText=`pointer-events:auto`,e.style.pointerEvents===`auto`}}(),Vi=function(e,t){var n=R(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Wr(e,0,t),a=Wr(e,1,t),o=i&&R(i),s=a&&R(a),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+z(i).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+z(a).width;if(n.display===`flex`)return n.flexDirection===`column`||n.flexDirection===`column-reverse`?`vertical`:`horizontal`;if(n.display===`grid`)return n.gridTemplateColumns.split(` `).length<=1?`vertical`:`horizontal`;if(i&&o.float&&o.float!==`none`){var u=o.float===`left`?`left`:`right`;return a&&(s.clear===`both`||s.clear===u)?`vertical`:`horizontal`}return i&&(o.display===`block`||o.display===`flex`||o.display===`table`||o.display===`grid`||c>=r&&n[Ri]===`none`||a&&n[Ri]===`none`&&c+l>r)?`vertical`:`horizontal`},Hi=function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,o=n?t.left:t.top,s=n?t.right:t.bottom,c=n?t.width:t.height;return r===o||i===s||r+a/2===o+c/2},Ui=function(e,t){var n;return bi.some(function(r){var i=r[V].options.emptyInsertThreshold;if(!(!i||Gr(r))){var a=z(r),o=e>=a.left-i&&e<=a.right+i,s=t>=a.top-i&&t<=a.bottom+i;if(o&&s)return n=r}}),n},Wi=function(e){function t(e,n){return function(r,i,a,o){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(e==null&&(n||s))return!0;if(e==null||e===!1)return!1;if(n&&e===`clone`)return e;if(typeof e==`function`)return t(e(r,i,a,o),n)(r,i,a,o);var c=(n?r:i).options.group.name;return e===!0||typeof e==`string`&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;(!r||Cr(r)!=`object`)&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Gi=function(){!Bi&&K&&R(K,`display`,`none`)},Ki=function(){!Bi&&K&&R(K,`display`,``)};Ii&&!Fr&&document.addEventListener(`click`,function(e){if(yi)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),yi=!1,!1},!0);var qi=function(e){if(W){e=e.touches?e.touches[0]:e;var t=Ui(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[V]._onDragOver(n)}}},Ji=function(e){W&&W.parentNode[V]._isOutsideThisEl(e.target)};function Q(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw`Sortable: \`el\` must be an HTMLElement, not ${{}.toString.call(e)}`;this.el=e,this.options=t=Tr({},t),e[V]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?`>li`:`>*`,swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Vi(e,this.options)},ghostClass:`sortable-ghost`,chosenClass:`sortable-chosen`,dragClass:`sortable-drag`,ignore:`a, img`,filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData(`Text`,t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:`data-id`,delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:`sortable-fallback`,fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Q.supportPointer!==!1&&`PointerEvent`in window&&(!Nr||Pr),emptyInsertThreshold:5};for(var r in ci.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Wi(t),this)i.charAt(0)===`_`&&typeof this[i]==`function`&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:zi,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?P(e,`pointerdown`,this._onTapStart):(P(e,`mousedown`,this._onTapStart),P(e,`touchstart`,this._onTapStart)),this.nativeDraggable&&(P(e,`dragover`,this),P(e,`dragenter`,this)),bi.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Tr(this,ri())}Q.prototype={constructor:Q,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Oi=null)},_getDirection:function(e,t){return typeof this.options.direction==`function`?this.options.direction.call(this,e,t,W):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType===`touch`&&e,s=(o||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,l=r.filter;if(ia(n),!W&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Nr&&s&&s.tagName.toUpperCase()===`SELECT`)&&(s=I(s,r.draggable,n,!1),!(s&&s.animated)&&fi!==s)){if(mi=B(s),hi=B(s,r.draggable),typeof l==`function`){if(l.call(this,e,s,this)){U({sortable:t,rootEl:c,name:`filter`,targetEl:s,toEl:n,fromEl:n}),H(`filter`,t,{evt:e}),i&&e.preventDefault();return}}else if(l&&(l=l.split(`,`).some(function(r){if(r=I(c,r.trim(),n,!1),r)return U({sortable:t,rootEl:r,name:`filter`,targetEl:s,fromEl:n,toEl:n}),H(`filter`,t,{evt:e}),!0}),l)){i&&e.preventDefault();return}r.handle&&!I(c,r.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var r=this,i=r.el,a=r.options,o=i.ownerDocument,s;if(n&&!W&&n.parentNode===i){var c=z(n);if(q=i,W=n,G=W.parentNode,di=W.nextSibling,fi=n,_i=a.group,Q.dragged=W,xi={target:W,clientX:(t||e).clientX,clientY:(t||e).clientY},Ti=xi.clientX-c.left,Ei=xi.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,W.style[`will-change`]=`all`,s=function(){if(H(`delayEnded`,r,{evt:e}),Q.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Mr&&r.nativeDraggable&&(W.draggable=!0),r._triggerDragStart(e,t),U({sortable:r,name:`choose`,originalEvent:e}),L(W,a.chosenClass,!0)},a.ignore.split(`,`).forEach(function(e){Vr(W,e.trim(),Zi)}),P(o,`dragover`,qi),P(o,`mousemove`,qi),P(o,`touchmove`,qi),a.supportPointer?(P(o,`pointerup`,r._onDrop),!this.nativeDraggable&&P(o,`pointercancel`,r._onDrop)):(P(o,`mouseup`,r._onDrop),P(o,`touchend`,r._onDrop),P(o,`touchcancel`,r._onDrop)),Mr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,W.draggable=!0),H(`delayStart`,this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(jr||Ar))){if(Q.eventCanceled){this._onDrop();return}a.supportPointer?(P(o,`pointerup`,r._disableDelayedDrag),P(o,`pointercancel`,r._disableDelayedDrag)):(P(o,`mouseup`,r._disableDelayedDrag),P(o,`touchend`,r._disableDelayedDrag),P(o,`touchcancel`,r._disableDelayedDrag)),P(o,`mousemove`,r._delayedDragTouchMoveHandler),P(o,`touchmove`,r._delayedDragTouchMoveHandler),a.supportPointer&&P(o,`pointermove`,r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){W&&Zi(W),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;F(e,`mouseup`,this._disableDelayedDrag),F(e,`touchend`,this._disableDelayedDrag),F(e,`touchcancel`,this._disableDelayedDrag),F(e,`pointerup`,this._disableDelayedDrag),F(e,`pointercancel`,this._disableDelayedDrag),F(e,`mousemove`,this._delayedDragTouchMoveHandler),F(e,`touchmove`,this._delayedDragTouchMoveHandler),F(e,`pointermove`,this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t||=e.pointerType==`touch`&&e,!this.nativeDraggable||t?this.options.supportPointer?P(document,`pointermove`,this._onTouchMove):t?P(document,`touchmove`,this._onTouchMove):P(document,`mousemove`,this._onTouchMove):(P(W,`dragend`,this),P(q,`dragstart`,this._onDragStart));try{document.selection?aa(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(vi=!1,q&&W){H(`dragStarted`,this,{evt:t}),this.nativeDraggable&&P(document,`dragover`,Ji);var n=this.options;!e&&L(W,n.dragClass,!1),L(W,n.ghostClass,!0),Q.active=this,e&&this._appendGhost(),U({sortable:this,name:`start`,originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Si){this._lastX=Si.clientX,this._lastY=Si.clientY,Gi();for(var e=document.elementFromPoint(Si.clientX,Si.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Si.clientX,Si.clientY),e!==t);)t=e;if(W.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]){var n=void 0;if(n=t[V]._onDragOver({clientX:Si.clientX,clientY:Si.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=Rr(t));Ki()}},_onTouchMove:function(e){if(xi){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=K&&Br(K,!0),o=K&&a&&a.a,s=K&&a&&a.d,c=Li&&Z&&Kr(Z),l=(i.clientX-xi.clientX+r.x)/(o||1)+(c?c[0]-Ni[0]:0)/(o||1),u=(i.clientY-xi.clientY+r.y)/(s||1)+(c?c[1]-Ni[1]:0)/(s||1);if(!Q.active&&!vi){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(K){a?(a.e+=l-(Ci||0),a.f+=u-(wi||0)):a={a:1,b:0,c:0,d:1,e:l,f:u};var d=`matrix(${a.a},${a.b},${a.c},${a.d},${a.e},${a.f})`;R(K,`webkitTransform`,d),R(K,`mozTransform`,d),R(K,`msTransform`,d),R(K,`transform`,d),Ci=l,wi=u,Si=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!K){var e=this.options.fallbackOnBody?document.body:q,t=z(W,!0,Li,!0,e),n=this.options;if(Li){for(Z=e;R(Z,`position`)===`static`&&R(Z,`transform`)===`none`&&Z!==document;)Z=Z.parentNode;Z!==document.body&&Z!==document.documentElement?(Z===document&&(Z=Hr()),t.top+=Z.scrollTop,t.left+=Z.scrollLeft):Z=Hr(),Ni=Kr(Z)}K=W.cloneNode(!0),L(K,n.ghostClass,!1),L(K,n.fallbackClass,!0),L(K,n.dragClass,!0),R(K,`transition`,``),R(K,`transform`,``),R(K,`box-sizing`,`border-box`),R(K,`margin`,0),R(K,`top`,t.top),R(K,`left`,t.left),R(K,`width`,t.width),R(K,`height`,t.height),R(K,`opacity`,`0.8`),R(K,`position`,Li?`absolute`:`fixed`),R(K,`zIndex`,`100000`),R(K,`pointerEvents`,`none`),Q.ghost=K,e.appendChild(K),R(K,`transform-origin`,Ti/parseInt(K.style.width)*100+`% `+Ei/parseInt(K.style.height)*100+`%`)}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;if(H(`dragStart`,this,{evt:e}),Q.eventCanceled){this._onDrop();return}H(`setupClone`,this),Q.eventCanceled||(J=ti(W),J.removeAttribute(`id`),J.draggable=!1,J.style[`will-change`]=``,this._hideClone(),L(J,this.options.chosenClass,!1),Q.clone=J),n.cloneId=aa(function(){H(`clone`,n),!Q.eventCanceled&&(n.options.removeCloneOnHide||q.insertBefore(J,W),n._hideClone(),U({sortable:n,name:`clone`}))}),!t&&L(W,i.dragClass,!0),t?(yi=!0,n._loopId=setInterval(n._emulateDragOver,50)):(F(document,`mouseup`,n._onDrop),F(document,`touchend`,n._onDrop),F(document,`touchcancel`,n._onDrop),r&&(r.effectAllowed=`move`,i.setData&&i.setData.call(n,r,W)),P(document,`drop`,n),R(W,`transform`,`translateZ(0)`)),vi=!0,n._dragStartId=aa(n._dragStarted.bind(n,t,e)),P(document,`selectstart`,n),Di=!0,window.getSelection().removeAllRanges(),Nr&&R(document.body,`user-select`,`none`)},_onDragOver:function(e){var t=this.el,n=e.target,r,i,a,o=this.options,s=o.group,c=Q.active,l=_i===s,u=o.sort,d=X||c,f,p=this,m=!1;if(Pi)return;function h(o,s){H(o,p,Sr({evt:e,isOwner:l,axis:f?`vertical`:`horizontal`,revert:a,dragRect:r,targetRect:i,canSort:u,fromSortable:d,target:n,completed:_,onMove:function(n,i){return Xi(q,t,W,r,n,z(n),e,i)},changed:v},s))}function g(){h(`dragOverAnimationCapture`),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function _(r){return h(`dragOverCompleted`,{insertion:r}),r&&(l?c._hideClone():c._showClone(p),p!==d&&(L(W,X?X.options.ghostClass:c.options.ghostClass,!1),L(W,o.ghostClass,!0)),X!==p&&p!==Q.active?X=p:p===Q.active&&X&&(X=null),d===p&&(p._ignoreWhileAnimating=n),p.animateAll(function(){h(`dragOverAnimationComplete`),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(n===W&&!W.animated||n===t&&!n.animated)&&(Oi=null),!o.dragoverBubble&&!e.rootEl&&n!==document&&(W.parentNode[V]._isOutsideThisEl(e.target),!r&&qi(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function v(){Y=B(W),gi=B(W,o.draggable),U({sortable:p,name:`change`,toEl:t,newIndex:Y,newDraggableIndex:gi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=I(n,o.draggable,t,!0),h(`dragOver`),Q.eventCanceled)return m;if(W.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||p._ignoreWhileAnimating===n)return _(!1);if(yi=!1,c&&!o.disabled&&(l?u||(a=G!==q):X===this||(this.lastPutMode=_i.checkPull(this,c,W,e))&&s.checkPut(this,c,W,e))){if(f=this._getDirection(e,n)===`vertical`,r=z(W),h(`dragOverValid`),Q.eventCanceled)return m;if(a)return G=q,g(),this._hideClone(),h(`revert`),Q.eventCanceled||(di?q.insertBefore(W,di):q.appendChild(W)),_(!0);var y=Gr(t,o.draggable);if(!y||ea(e,f,this)&&!y.animated){if(y===W)return _(!1);if(y&&t===e.target&&(n=y),n&&(i=z(n)),Xi(q,t,W,r,n,i,e,!!n)!==!1)return g(),y&&y.nextSibling?t.insertBefore(W,y.nextSibling):t.appendChild(W),G=t,v(),_(!0)}else if(y&&$i(e,f,this)){var b=Wr(t,0,o,!0);if(b===W)return _(!1);if(n=b,i=z(n),Xi(q,t,W,r,n,i,e,!1)!==!1)return g(),t.insertBefore(W,b),G=t,v(),_(!0)}else if(n.parentNode===t){i=z(n);var x=0,S,C=W.parentNode!==t,w=!Hi(W.animated&&W.toRect||r,n.animated&&n.toRect||i,f),T=f?`top`:`left`,E=Ur(n,`top`,`top`)||Ur(W,`top`,`top`),ee=E?E.scrollTop:void 0;Oi!==n&&(S=i[T],Ai=!1,ji=!w&&o.invertSwap||C),x=ta(e,n,i,f,w?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,ji,Oi===n);var D;if(x!==0){var O=B(W);do O-=x,D=G.children[O];while(D&&(R(D,`display`)===`none`||D===K))}if(x===0||D===n)return _(!1);Oi=n,ki=x;var k=n.nextElementSibling,A=!1;A=x===1;var j=Xi(q,t,W,r,n,i,e,A);if(j!==!1)return(j===1||j===-1)&&(A=j===1),Pi=!0,setTimeout(Qi,30),g(),A&&!k?t.appendChild(W):n.parentNode.insertBefore(W,A?k:n),E&&ei(E,0,ee-E.scrollTop),G=W.parentNode,S!==void 0&&!ji&&(Mi=Math.abs(S-z(n)[T])),v(),_(!0)}if(t.contains(W))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){F(document,`mousemove`,this._onTouchMove),F(document,`touchmove`,this._onTouchMove),F(document,`pointermove`,this._onTouchMove),F(document,`dragover`,qi),F(document,`mousemove`,qi),F(document,`touchmove`,qi)},_offUpEvents:function(){var e=this.el.ownerDocument;F(e,`mouseup`,this._onDrop),F(e,`touchend`,this._onDrop),F(e,`pointerup`,this._onDrop),F(e,`pointercancel`,this._onDrop),F(e,`touchcancel`,this._onDrop),F(document,`selectstart`,this)},_onDrop:function(e){var t=this.el,n=this.options;if(Y=B(W),gi=B(W,n.draggable),H(`drop`,this,{evt:e}),G=W&&W.parentNode,Y=B(W),gi=B(W,n.draggable),Q.eventCanceled){this._nulling();return}vi=!1,ji=!1,Ai=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),oa(this.cloneId),oa(this._dragStartId),this.nativeDraggable&&(F(document,`drop`,this),F(t,`dragstart`,this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Nr&&R(document.body,`user-select`,``),R(W,`transform`,``),e&&(Di&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),K&&K.parentNode&&K.parentNode.removeChild(K),(q===G||X&&X.lastPutMode!==`clone`)&&J&&J.parentNode&&J.parentNode.removeChild(J),W&&(this.nativeDraggable&&F(W,`dragend`,this),Zi(W),W.style[`will-change`]=``,Di&&!vi&&L(W,X?X.options.ghostClass:this.options.ghostClass,!1),L(W,this.options.chosenClass,!1),U({sortable:this,name:`unchoose`,toEl:G,newIndex:null,newDraggableIndex:null,originalEvent:e}),q===G?Y!==mi&&Y>=0&&(U({sortable:this,name:`update`,toEl:G,originalEvent:e}),U({sortable:this,name:`sort`,toEl:G,originalEvent:e})):(Y>=0&&(U({rootEl:G,name:`add`,toEl:G,fromEl:q,originalEvent:e}),U({sortable:this,name:`remove`,toEl:G,originalEvent:e}),U({rootEl:G,name:`sort`,toEl:G,fromEl:q,originalEvent:e}),U({sortable:this,name:`sort`,toEl:G,originalEvent:e})),X&&X.save()),Q.active&&((Y==null||Y===-1)&&(Y=mi,gi=hi),U({sortable:this,name:`end`,toEl:G,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){H(`nulling`,this),q=W=G=K=di=J=fi=pi=xi=Si=Di=Y=gi=mi=hi=Oi=ki=X=_i=Q.dragged=Q.ghost=Q.clone=Q.active=null,Fi.forEach(function(e){e.checked=!0}),Fi.length=Ci=wi=0},handleEvent:function(e){switch(e.type){case`drop`:case`dragend`:this._onDrop(e);break;case`dragenter`:case`dragover`:W&&(this._onDragOver(e),Yi(e));break;case`selectstart`:e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)t=n[r],I(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||ra(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(e,t){var i=r.children[t];I(i,this.options.draggable,r,!1)&&(n[e]=i)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return I(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=ci.modifyOption(this,e,t);r===void 0?n[e]=t:n[e]=r,e===`group`&&Wi(n)},destroy:function(){H(`destroy`,this);var e=this.el;e[V]=null,F(e,`mousedown`,this._onTapStart),F(e,`touchstart`,this._onTapStart),F(e,`pointerdown`,this._onTapStart),this.nativeDraggable&&(F(e,`dragover`,this),F(e,`dragenter`,this)),Array.prototype.forEach.call(e.querySelectorAll(`[draggable]`),function(e){e.removeAttribute(`draggable`)}),this._onDrop(),this._disableDelayedDragEvents(),bi.splice(bi.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!pi){if(H(`hideClone`,this),Q.eventCanceled)return;R(J,`display`,`none`),this.options.removeCloneOnHide&&J.parentNode&&J.parentNode.removeChild(J),pi=!0}},_showClone:function(e){if(e.lastPutMode!==`clone`){this._hideClone();return}if(pi){if(H(`showClone`,this),Q.eventCanceled)return;W.parentNode==q&&!this.options.group.revertClone?q.insertBefore(J,W):di?q.insertBefore(J,di):q.appendChild(J),this.options.group.revertClone&&this.animate(W,J),R(J,`display`,``),pi=!1}}};function Yi(e){e.dataTransfer&&(e.dataTransfer.dropEffect=`move`),e.cancelable&&e.preventDefault()}function Xi(e,t,n,r,i,a,o,s){var c,l=e[V],u=l.options.onMove,d;return window.CustomEvent&&!Ar&&!jr?c=new CustomEvent(`move`,{bubbles:!0,cancelable:!0}):(c=document.createEvent(`Event`),c.initEvent(`move`,!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=i||t,c.relatedRect=a||z(t),c.willInsertAfter=s,c.originalEvent=o,e.dispatchEvent(c),u&&(d=u.call(l,c,o)),d}function Zi(e){e.draggable=!1}function Qi(){Pi=!1}function $i(e,t,n){var r=z(Wr(n.el,0,n.options,!0)),i=ni(n.el,n.options,K),a=10;return t?e.clientX<i.left-a||e.clientY<r.top&&e.clientX<r.right:e.clientY<i.top-a||e.clientY<r.bottom&&e.clientX<r.left}function ea(e,t,n){var r=z(Gr(n.el,n.options.draggable)),i=ni(n.el,n.options,K),a=10;return t?e.clientX>i.right+a||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>i.bottom+a||e.clientX>r.right&&e.clientY>r.top}function ta(e,t,n,r,i,a,o,s){var c=r?e.clientY:e.clientX,l=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(s&&Mi<l*i){if(!Ai&&(ki===1?c>u+l*a/2:c<d-l*a/2)&&(Ai=!0),Ai)f=!0;else if(ki===1?c<u+Mi:c>d-Mi)return-ki}else if(c>u+l*(1-i)/2&&c<d-l*(1-i)/2)return na(t)}return f||=o,f&&(c<u+l*a/2||c>d-l*a/2)?c>u+l/2?1:-1:0}function na(e){return B(W)<B(e)?1:-1}function ra(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function ia(e){Fi.length=0;for(var t=e.getElementsByTagName(`input`),n=t.length;n--;){var r=t[n];r.checked&&Fi.push(r)}}function aa(e){return setTimeout(e,0)}function oa(e){return clearTimeout(e)}Ii&&P(document,`touchmove`,function(e){(Q.active||vi)&&e.cancelable&&e.preventDefault()}),Q.utils={on:P,off:F,css:R,find:Vr,is:function(e,t){return!!I(e,t,e,!1)},extend:Yr,throttle:Qr,closest:I,toggleClass:L,clone:ti,index:B,nextTick:aa,cancelNextTick:oa,detectDirection:Vi,getChild:Wr,expando:V},Q.get=function(e){return e[V]},Q.mount=function(){var e=[...arguments];e[0].constructor===Array&&(e=e[0]),e.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw`Sortable: Mounted plugin must be a constructor function, not ${{}.toString.call(e)}`;e.utils&&(Q.utils=Sr(Sr({},Q.utils),e.utils)),ci.mount(e)})},Q.create=function(e,t){return new Q(e,t)},Q.version=Or;var $=[],sa,ca,la=!1,ua,da,fa,pa;function ma(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)e.charAt(0)===`_`&&typeof this[e]==`function`&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?P(document,`dragover`,this._handleAutoScroll):this.options.supportPointer?P(document,`pointermove`,this._handleFallbackAutoScroll):t.touches?P(document,`touchmove`,this._handleFallbackAutoScroll):P(document,`mousemove`,this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?F(document,`dragover`,this._handleAutoScroll):(F(document,`pointermove`,this._handleFallbackAutoScroll),F(document,`touchmove`,this._handleFallbackAutoScroll),F(document,`mousemove`,this._handleFallbackAutoScroll)),ga(),ha(),$r()},nulling:function(){fa=ca=sa=la=pa=ua=da=null,$.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,i);if(fa=e,t||this.options.forceAutoScrollFallback||jr||Ar||Nr){_a(e,this.options,a,t);var o=Jr(a,!0);la&&(!pa||r!==ua||i!==da)&&(pa&&ga(),pa=setInterval(function(){var a=Jr(document.elementFromPoint(r,i),!0);a!==o&&(o=a,ha()),_a(e,n.options,a,t)},10),ua=r,da=i)}else{if(!this.options.bubbleScroll||Jr(a,!0)===Hr()){ha();return}_a(e,this.options,Jr(a,!1),!1)}}},Tr(e,{pluginName:`scroll`,initializeByDefault:!0})}function ha(){$.forEach(function(e){clearInterval(e.pid)}),$=[]}function ga(){clearInterval(pa)}var _a=Qr(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,c=Hr(),l=!1,u;ca!==n&&(ca=n,ha(),sa=t.scroll,u=t.scrollFn,sa===!0&&(sa=Jr(n,!0)));var d=0,f=sa;do{var p=f,m=z(p),h=m.top,g=m.bottom,_=m.left,v=m.right,y=m.width,b=m.height,x=void 0,S=void 0,C=p.scrollWidth,w=p.scrollHeight,T=R(p),E=p.scrollLeft,ee=p.scrollTop;p===c?(x=y<C&&(T.overflowX===`auto`||T.overflowX===`scroll`||T.overflowX===`visible`),S=b<w&&(T.overflowY===`auto`||T.overflowY===`scroll`||T.overflowY===`visible`)):(x=y<C&&(T.overflowX===`auto`||T.overflowX===`scroll`),S=b<w&&(T.overflowY===`auto`||T.overflowY===`scroll`));var D=x&&(Math.abs(v-i)<=o&&E+y<C)-(Math.abs(_-i)<=o&&!!E),O=S&&(Math.abs(g-a)<=o&&ee+b<w)-(Math.abs(h-a)<=o&&!!ee);if(!$[d])for(var k=0;k<=d;k++)$[k]||($[k]={});($[d].vx!=D||$[d].vy!=O||$[d].el!==p)&&($[d].el=p,$[d].vx=D,$[d].vy=O,clearInterval($[d].pid),(D!=0||O!=0)&&(l=!0,$[d].pid=setInterval(function(){r&&this.layer===0&&Q.active._onTouchMove(fa);var t=$[this.layer].vy?$[this.layer].vy*s:0,n=$[this.layer].vx?$[this.layer].vx*s:0;typeof u==`function`&&u.call(Q.dragged.parentNode[V],n,t,e,fa,$[this.layer].el)!==`continue`||ei($[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=Jr(f,!1)));la=l}},30),va=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=n||i;o();var l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(l.clientX,l.clientY);s(),c&&!c.el.contains(u)&&(a(`spill`),this.onSpill({dragEl:r,putSortable:n}))}};function ya(){}ya.prototype={startIndex:null,dragStart:function(e){this.startIndex=e.oldDraggableIndex},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Wr(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:va},Tr(ya,{pluginName:`revertOnSpill`});function ba(){}ba.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:va},Tr(ba,{pluginName:`removeOnSpill`}),Q.mount(new ma),Q.mount(ba,ya);var xa=Q;function Sa(e,t,n={}){let r,{document:i=j,watchElement:a=!1,...c}=n,l={onUpdate:e=>{Ta(t,e.oldIndex,e.newIndex,e)}},u=o(()=>typeof e==`string`?i?.querySelector(e):d(e)),f=()=>{r?.destroy(),r=void 0},p=e=>{!e||r!==void 0||(r=new xa(e,{...l,...c}))},m=()=>{let e=u.value;e&&p(e)},h=(e,t)=>{if(t!==void 0)r?.option(e,t);else return r?.option(e)},g;return a&&typeof e!=`string`?g=D(u,e=>{f(),e&&p(e)},{immediate:!0,flush:`post`}):S(m),s(()=>{g?.(),f()}),{stop:()=>{f()},start:m,option:h}}function Ca(e,t,n){let r=e.children[n];e.insertBefore(t,r)}function wa(e){e.parentNode&&e.parentNode.removeChild(e)}function Ta(e,t,n,r=null){r!=null&&(wa(r.item),Ca(r.from,r.item,t));let a=_(e),o=a?[...i(e)]:i(e);if(n>=0&&n<o.length){let r=o.splice(t,1)[0];v(()=>{o.splice(n,0,r),a&&(e.value=o)})}}var Ea={class:`flex flex-col gap-4`},Da={class:`flex flex-col`},Oa={class:`flex flex-col`},ka={value:`xs`},Aa={value:`sm`},ja={value:`md`},Ma={value:`lg`},Na={class:`flex flex-col`},Pa={class:`flex flex-col gap-4`},Fa={class:`flex overflow-hidden rounded-lg border border-base-content/15`},Ia=[`value`],La={class:`flex flex-col gap-2`},Ra={class:`min-w-0 flex-1 overflow-hidden text-sm text-ellipsis whitespace-nowrap`},za=[`onClick`],Ba={class:`flex flex-col`},Va={class:`flex items-center gap-3`},Ha={class:`text-sm text-base-content`},Ua={class:`relative inline-block h-5 w-9 cursor-pointer`},Wa=[`checked`,`onChange`],Ga=k({__name:`ConnectionsSettingsModal`,props:{allColumns:{},untaggedSourceIPs:{}},setup(t,{expose:r}){let i=t,{t:s}=te(),c=ie(),u=M(),d=M(null),f=M(``),g=M(``),v=o({get:()=>{let e=c.connectionsTableColumnOrder,t=i.allColumns.map(e=>e.id),n=e.filter(e=>t.includes(e)),r=t.filter(t=>!e.includes(t));return[...n,...r]},set:e=>{c.connectionsTableColumnOrder=[...e]}});function b(e){return i.allColumns.find(t=>t.id===e)}Sa(d,v,{handle:`.drag-handle`,animation:150});function S(e){c.connectionsTableColumnVisibility={...c.connectionsTableColumnVisibility,[e]:!c.connectionsTableColumnVisibility[e]}}function w(){g.value&&f.value&&(c.clientSourceIPTags.some(e=>e.tagName===g.value||e.sourceIP===f.value)||(c.clientSourceIPTags=[...c.clientSourceIPTags,{tagName:g.value,sourceIP:f.value}]),g.value=``,f.value=``)}function ee(e){c.clientSourceIPTags=c.clientSourceIPTags.filter(t=>t.tagName!==e)}function D(){c.connectionsTableColumnVisibility={...ne},c.connectionsTableColumnOrder=[...re]}return r({open:()=>u.value?.open(),close:()=>u.value?.close()}),(r,i)=>{let o=Oe,k=Ee,j=ke;return T(),a(j,{ref_key:`modalRef`,ref:u,title:l(s)(`connectionsSettings`)},{icon:E(()=>[y(l(se),{size:24})]),default:E(()=>[O(`div`,Ea,[O(`div`,Da,[y(o,{"with-divider":``},{default:E(()=>[e(C(l(s)(`quickFilter`)),1)]),_:1}),x(O(`input`,{"onUpdate:modelValue":i[0]||=e=>l(c).quickFilterRegex=e,type:`text`,class:`w-full rounded-lg border border-base-content/15 bg-base-200/80 px-3 py-2 text-sm text-base-content transition-all duration-200 focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none`,placeholder:`DIRECT|direct|dns-out`},null,512),[[p,l(c).quickFilterRegex]])]),O(`div`,Oa,[y(o,{"with-divider":``},{default:E(()=>[e(C(l(s)(`tableSize`)),1)]),_:1}),x(O(`select`,{"onUpdate:modelValue":i[1]||=e=>l(c).connectionsTableSize=e,class:`w-full cursor-pointer appearance-none rounded-lg border border-base-content/15 bg-base-200/80 bg-[url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%3E%3Cpath%20d%3D%22m6%209%206%206%206-6%22%2F%3E%3C%2Fsvg%3E')] bg-[right_0.5rem_center] bg-no-repeat px-3 py-2 pr-8 text-sm text-base-content transition-all duration-200 focus:border-primary focus:outline-none`},[O(`option`,ka,C(l(s)(`xs`)),1),O(`option`,Aa,C(l(s)(`sm`)),1),O(`option`,ja,C(l(s)(`md`)),1),O(`option`,Ma,C(l(s)(`lg`)),1)],512),[[n,l(c).connectionsTableSize]])]),O(`div`,Na,[y(o,{"with-divider":``},{default:E(()=>[e(C(l(s)(`tagClientSourceIPWithName`)),1)]),_:1}),O(`div`,Pa,[O(`div`,Fa,[x(O(`select`,{"onUpdate:modelValue":i[2]||=e=>_(f)?f.value=e:null,class:`cursor-pointer appearance-none rounded-none border-r border-none border-base-content/15 bg-base-200/80 bg-[url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%3E%3Cpath%20d%3D%22m6%209%206%206%206-6%22%2F%3E%3C%2Fsvg%3E')] bg-[right_0.5rem_center] bg-no-repeat px-3 py-2 pr-8 text-sm text-base-content transition-all duration-200 focus:border-primary focus:outline-none`},[i[4]||=O(`option`,{value:``},null,-1),(T(!0),h(m,null,A(t.untaggedSourceIPs,e=>(T(),h(`option`,{key:e,value:e},C(e||l(s)(`inner`)),9,Ia))),128))],512),[[n,l(f)]]),x(O(`input`,{"onUpdate:modelValue":i[3]||=e=>_(g)?g.value=e:null,class:`flex-1 rounded-none border-none bg-base-200/80 px-3 py-2 text-sm text-base-content transition-all duration-200 focus:outline-none`,placeholder:`name`},null,512),[[p,l(g)]]),y(k,{class:`rounded-none`,onClick:w},{default:E(()=>[e(C(l(s)(`tag`)),1)]),_:1})]),O(`div`,La,[(T(!0),h(m,null,A(l(c).clientSourceIPTags,e=>(T(),h(`div`,{key:e.tagName,class:`flex items-center justify-between gap-2 rounded-lg bg-primary px-3 py-2 text-primary-content`},[O(`span`,Ra,C(e.tagName)+` (`+C(e.sourceIP)+`)`,1),O(`button`,{class:`flex h-5 w-5 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-inherit opacity-70 transition-opacity duration-200 hover:opacity-100`,onClick:t=>ee(e.tagName)},[y(l(ue),{size:12})],8,za)]))),128))])])]),O(`div`,Ba,[y(o,{"with-divider":``},{default:E(()=>[e(C(l(s)(`columns`)),1)]),_:1}),O(`div`,{ref_key:`columnListRef`,ref:d,class:`flex flex-col gap-1`},[(T(!0),h(m,null,A(l(v),e=>(T(),h(`div`,{key:e,class:`flex items-center justify-between gap-2 rounded-lg bg-base-200/80 px-3 py-2 transition-colors duration-200 hover:bg-base-content/8`},[O(`div`,Va,[y(l(ae),{class:`drag-handle shrink-0 cursor-grab text-base-content/40 transition-colors duration-200 hover:text-base-content/70 active:cursor-grabbing`,size:16}),O(`span`,Ha,C(l(s)(b(e)?.key||e)),1)]),O(`label`,Ua,[O(`input`,{type:`checkbox`,class:`peer h-0 w-0 opacity-0`,checked:l(c).connectionsTableColumnVisibility[e],onChange:t=>S(e)},null,40,Wa),i[5]||=O(`span`,{class:`absolute inset-0 rounded-full bg-base-content/20 transition-all duration-200 peer-checked:bg-primary before:absolute before:top-1/2 before:left-0.5 before:h-3.5 before:w-3.5 before:-translate-y-1/2 before:rounded-full before:bg-base-100 before:shadow-sm before:transition-all before:duration-200 before:content-[''] peer-checked:before:left-[calc(100%-2px)] peer-checked:before:-translate-x-full`},null,-1)])]))),128))],512)]),y(k,{class:`cursor-pointer rounded-lg border-none bg-neutral px-4 py-2 text-sm text-neutral-content transition-all duration-200 hover:opacity-90`,onClick:D},{default:E(()=>[e(C(l(s)(`reset`)),1)]),_:1})])]),_:1},8,[`title`])}}}),Ka=Object.assign(Ga,{__name:`ConnectionsSettingsModal`}),qa=u(we(),1),Ja={key:0,class:`flex max-h-[70vh] flex-col gap-4 overflow-x-hidden overflow-y-auto`},Ya={class:`rounded-lg border border-base-content/8 bg-base-200/80 p-3`},Xa={class:`mb-2 text-sm font-semibold text-primary`},Za={class:`grid grid-cols-[auto_1fr] gap-x-4 gap-y-1 text-sm`},Qa={class:`min-w-0 font-mono break-all text-base-content`},$a={class:`text-base-content/60`},eo={class:`min-w-0 break-all text-base-content`},to={class:`text-base-content/60`},no={class:`min-w-0 break-all text-base-content`},ro={class:`text-base-content/60`},io={class:`min-w-0 break-all text-base-content`},ao={class:`rounded-lg border border-base-content/8 bg-base-200/80 p-3`},oo={class:`mb-2 text-sm font-semibold text-primary`},so={class:`grid grid-cols-[auto_1fr] gap-x-4 gap-y-1 text-sm`},co={class:`text-base-content/60`},lo={class:`min-w-0 break-all text-base-content`},uo={class:`text-base-content/60`},fo={class:`min-w-0 break-all text-base-content`},po={class:`text-base-content/60`},mo={class:`min-w-0 break-all text-base-content`},ho={class:`text-base-content/60`},go={class:`min-w-0 break-all text-base-content`},_o={class:`rounded-lg border border-base-content/8 bg-base-200/80 p-3`},vo={class:`mb-2 text-sm font-semibold text-primary`},yo={class:`grid grid-cols-[auto_1fr] gap-x-4 gap-y-1 text-sm`},bo={class:`text-base-content/60`},xo={class:`min-w-0 break-all text-base-content`},So={class:`text-base-content/60`},Co={class:`min-w-0 break-all text-base-content`},wo={class:`text-base-content/60`},To={class:`min-w-0 break-all text-base-content`},Eo={class:`text-base-content/60`},Do={class:`min-w-0 break-all text-base-content`},Oo={class:`text-base-content/60`},ko={class:`min-w-0 break-all text-base-content`},Ao={class:`rounded-lg border border-base-content/8 bg-base-200/80 p-3`},jo={class:`mb-2 text-sm font-semibold text-primary`},Mo={class:`grid grid-cols-[auto_1fr] gap-x-4 gap-y-1 text-sm`},No={class:`text-base-content/60`},Po={class:`min-w-0 font-mono break-all text-base-content`},Fo={class:`text-base-content/60`},Io={class:`min-w-0 font-mono break-all text-base-content`},Lo={class:`text-base-content/60`},Ro={class:`min-w-0 font-mono break-all text-base-content`},zo={class:`rounded-lg border border-base-content/8 bg-base-200/80 p-3`},Bo={class:`mb-2 text-sm font-semibold text-primary`},Vo={class:`grid grid-cols-[auto_1fr] gap-x-4 gap-y-1 text-sm`},Ho={class:`text-base-content/60`},Uo={class:`min-w-0 break-all text-base-content`},Wo={class:`text-base-content/60`},Go={class:`min-w-0 font-mono break-all text-base-content`},Ko={class:`text-base-content/60`},qo={class:`min-w-0 break-all text-base-content`},Jo={class:`rounded-lg border border-base-content/8 bg-base-200/80 p-3`},Yo={class:`mb-2 text-sm font-semibold text-primary`},Xo={class:`grid grid-cols-[auto_1fr] gap-x-4 gap-y-1 text-sm`},Zo={class:`text-base-content/60`},Qo={class:`min-w-0 break-all text-base-content`},$o={class:`text-base-content/60`},es={class:`min-w-0 text-xs break-all text-base-content`},ts={class:`min-w-0 break-all text-base-content`},ns={class:`rounded-lg border border-base-content/8 bg-base-200/80 p-3`},rs={class:`mb-2 text-sm font-semibold text-primary`},is={class:`flex flex-wrap gap-1`},as={key:0,class:`rounded-lg border border-base-content/8 bg-base-200/80 p-3`},os={class:`mb-2 text-sm font-semibold text-primary`},ss={class:`grid grid-cols-[auto_1fr] gap-x-4 gap-y-1 text-sm`},cs={class:`text-base-content/60`},ls={class:`min-w-0 break-all text-base-content`},us={class:`text-base-content/60`},ds={class:`min-w-0 break-all text-base-content`},fs=k({__name:`ConnectionDetailsModal`,props:{connection:{}},setup(e,{expose:t}){let n=M(),{t:r}=te();return t({open:()=>n.value?.open(),close:()=>n.value?.close()}),(t,i)=>{let o=ke;return T(),a(o,{ref_key:`modalRef`,ref:n,title:l(r)(`connectionsDetails`)},{icon:E(()=>[y(l(se),{size:24})]),default:E(()=>[e.connection?(T(),h(`div`,Ja,[O(`div`,Ya,[O(`div`,Xa,C(l(r)(`basic`)),1),O(`div`,Za,[i[0]||=O(`div`,{class:`text-base-content/60`},`ID`,-1),O(`div`,Qa,C(e.connection.id),1),O(`div`,$a,C(l(r)(`start`)),1),O(`div`,eo,C(l(qa.default)(e.connection.start).format(`HH:mm:ss`)),1),O(`div`,to,C(l(r)(`rule`)),1),O(`div`,no,C(e.connection.rule),1),O(`div`,ro,C(l(r)(`rulePayload`)),1),O(`div`,io,C(e.connection.rulePayload||`-`),1)])]),O(`div`,ao,[O(`div`,oo,C(l(r)(`traffic`)),1),O(`div`,so,[O(`div`,co,C(l(r)(`download`)),1),O(`div`,lo,C(l(Se)(e.connection.download)),1),O(`div`,uo,C(l(r)(`upload`)),1),O(`div`,fo,C(l(Se)(e.connection.upload)),1),O(`div`,po,C(l(r)(`dlSpeed`)),1),O(`div`,mo,C(l(Se)(e.connection.downloadSpeed))+`/s `,1),O(`div`,ho,C(l(r)(`ulSpeed`)),1),O(`div`,go,C(l(Se)(e.connection.uploadSpeed))+`/s `,1)])]),O(`div`,_o,[O(`div`,vo,C(l(r)(`metadata`)),1),O(`div`,yo,[O(`div`,bo,C(l(r)(`network`)),1),O(`div`,xo,C(e.connection.metadata.network),1),O(`div`,So,C(l(r)(`type`)),1),O(`div`,Co,C(e.connection.metadata.type),1),O(`div`,wo,C(l(r)(`host`)),1),O(`div`,To,C(e.connection.metadata.host||`-`),1),O(`div`,Eo,C(l(r)(`sniffHost`)),1),O(`div`,Do,C(e.connection.metadata.sniffHost||`-`),1),O(`div`,Oo,C(l(r)(`dnsMode`)),1),O(`div`,ko,C(e.connection.metadata.dnsMode||`-`),1)])]),O(`div`,Ao,[O(`div`,jo,C(l(r)(`sourceAndDestination`)),1),O(`div`,Mo,[O(`div`,No,C(l(r)(`source`)),1),O(`div`,Po,C(`${e.connection.metadata.sourceIP}:${e.connection.metadata.sourcePort}`),1),O(`div`,Fo,C(l(r)(`destination`)),1),O(`div`,Io,C(e.connection.metadata.destinationIP?`${e.connection.metadata.destinationIP}:${e.connection.metadata.destinationPort}`:`${e.connection.metadata.host}:${e.connection.metadata.destinationPort}`),1),O(`div`,Lo,C(l(r)(`remoteDestination`)),1),O(`div`,Ro,C(e.connection.metadata.remoteDestination||`-`),1)])]),O(`div`,zo,[O(`div`,Bo,C(l(r)(`inbound`)),1),O(`div`,Vo,[O(`div`,Ho,C(l(r)(`inboundName`)),1),O(`div`,Uo,C(e.connection.metadata.inboundName||`-`),1),O(`div`,Wo,C(l(r)(`inboundIP`)),1),O(`div`,Go,C(e.connection.metadata.inboundIP?`${e.connection.metadata.inboundIP}:${e.connection.metadata.inboundPort}`:`-`),1),O(`div`,Ko,C(l(r)(`inboundUser`)),1),O(`div`,qo,C(e.connection.metadata.inboundUser||`-`),1)])]),O(`div`,Jo,[O(`div`,Yo,C(l(r)(`process`)),1),O(`div`,Xo,[O(`div`,Zo,C(l(r)(`processName`)),1),O(`div`,Qo,C(e.connection.metadata.process||`-`),1),O(`div`,$o,C(l(r)(`processPath`)),1),O(`div`,es,C(e.connection.metadata.processPath||`-`),1),i[1]||=O(`div`,{class:`text-base-content/60`},`UID`,-1),O(`div`,ts,C(e.connection.metadata.uid||`-`),1)])]),O(`div`,ns,[O(`div`,rs,C(l(r)(`chains`)),1),O(`div`,is,[(T(!0),h(m,null,A(e.connection.chains,(e,t)=>(T(),h(`span`,{key:t,class:`inline-flex items-center rounded-md bg-neutral px-2 py-1 text-xs font-medium text-neutral-content`},C(e),1))),128))])]),e.connection.metadata.specialProxy||e.connection.metadata.specialRules?(T(),h(`div`,as,[O(`div`,os,C(l(r)(`special`)),1),O(`div`,ss,[O(`div`,cs,C(l(r)(`specialProxy`)),1),O(`div`,ls,C(e.connection.metadata.specialProxy||`-`),1),O(`div`,us,C(l(r)(`specialRules`)),1),O(`div`,ds,C(e.connection.metadata.specialRules||`-`),1)])])):g(``,!0)])):g(``,!0)]),_:1},8,[`title`])}}}),ps=Object.assign(fs,{__name:`ConnectionDetailsModal`}),ms={class:`flex h-full min-h-0 flex-col gap-3`},hs={class:`flex shrink-0 justify-center md:hidden`},gs={class:`min-h-0 flex-1 overflow-auto rounded-xl border border-base-content/10 bg-base-200/50`},_s={class:`hidden shrink-0 items-center justify-between gap-4 md:flex`},vs={class:`flex items-center gap-3`},ys=[`value`],bs={class:`text-xs whitespace-nowrap text-base-content/60`},xs=k({__name:`connections`,setup(e){let{t,locale:i}=te();c({title:o(()=>t(`connections`))});let a=xe(),s=ie(),u=M(),d=M(),f=M(null),p=M(`active`),g=M(``),v=r(`enableQuickFilter`,!1),b=M(``),S=r(`connectionsTableSortColumn`,`ConnectTime`),w=r(`connectionsTableSortDesc`,!0),E=r(`connectionsTableGrouping`,null),k=M({}),j=M(0),ne=r(`connectionsTablePageSize`,50),re=M(!1),ae=e=>Se(e).toString();function se(e){return e.metadata.process||e.metadata.processPath?.replace(/^.*[/\\](.*)$/,`$1`)||`-`}function ce(e){return`${e.metadata.host||Te(e.metadata.destinationIP)}:${e.metadata.destinationPort}`}function le(e){return e.rulePayload?`${e.rule} : ${e.rulePayload}`:e.rule}function de(e){let n=e.metadata.sourceIP||t(`inner`);return s.clientSourceIPTags.find(e=>e.sourceIP===n)?.tagName||n}function fe(e){return e.metadata.remoteDestination||e.metadata.destinationIP||e.metadata.host}function pe(e){return e.metadata.inboundUser||e.metadata.inboundIP||e.metadata.inboundName||e.metadata.type||`-`}function me(e){_e(e)}let he=[{id:N.Close,key:`close`,groupable:!1,sortable:!1,render:e=>ee(`button`,{class:`conn-close-btn`,onClick:t=>{t.stopPropagation(),me(e.id)}},ee(ue,{size:14}))},{id:N.Type,key:`type`,groupable:!0,sortable:!0,sortId:`Type`,render:e=>`${e.metadata.type}(${e.metadata.network})`,groupValue:e=>`${e.metadata.type}(${e.metadata.network})`},{id:N.Process,key:`process`,groupable:!0,sortable:!0,sortId:`Process`,render:e=>se(e),groupValue:e=>se(e)},{id:N.Host,key:`host`,groupable:!0,sortable:!0,sortId:`Host`,render:e=>ce(e),groupValue:e=>ce(e)},{id:N.SniffHost,key:`sniffHost`,groupable:!0,sortable:!1,render:e=>e.metadata.sniffHost||`-`,groupValue:e=>e.metadata.sniffHost||`-`},{id:N.Rule,key:`rule`,groupable:!0,sortable:!1,render:e=>le(e),groupValue:e=>le(e)},{id:N.Chains,key:`chains`,groupable:!0,sortable:!1,render:e=>{let t=[...e.chains].reverse(),n=[];return t.forEach((e,t)=>{t>0&&n.push(ee(oe,{class:`inline-block`,size:18})),n.push(ee(`span`,{class:`align-middle`},e))}),ee(`span`,n)},groupValue:e=>e.chains.join(` > `)},{id:N.ConnectTime,key:`connectTime`,groupable:!1,sortable:!0,sortId:`ConnectTime`,render:e=>Ce(e.start,i.value)},{id:N.DlSpeed,key:`dlSpeed`,groupable:!1,sortable:!0,sortId:`DlSpeed`,render:e=>`${ae(e.downloadSpeed)}/s`},{id:N.UlSpeed,key:`ulSpeed`,groupable:!1,sortable:!0,sortId:`UlSpeed`,render:e=>`${ae(e.uploadSpeed)}/s`},{id:N.Download,key:`dl`,groupable:!1,sortable:!0,sortId:`Download`,render:e=>ae(e.download)},{id:N.Upload,key:`ul`,groupable:!1,sortable:!0,sortId:`Upload`,render:e=>ae(e.upload)},{id:N.SourceIP,key:`sourceIP`,groupable:!0,sortable:!0,sortId:`SourceIP`,render:e=>de(e),groupValue:e=>de(e)},{id:N.SourcePort,key:`sourcePort`,groupable:!1,sortable:!1,render:e=>String(e.metadata.sourcePort)},{id:N.Destination,key:`destination`,groupable:!0,sortable:!1,render:e=>fe(e),groupValue:e=>fe(e)},{id:N.InboundUser,key:`inboundUser`,groupable:!0,sortable:!0,render:e=>pe(e),groupValue:e=>pe(e)}],ge=o(()=>{let e=s.connectionsTableColumnOrder,t=s.connectionsTableColumnVisibility;return[...he].sort((t,n)=>{let r=e.indexOf(t.id),i=e.indexOf(n.id);return(r===-1?1/0:r)-(i===-1?1/0:i)}).filter(e=>t[e.id]!==!1)}),ye=o(()=>he.filter(e=>e.sortable)),be=o(()=>[{type:`active`,name:t(`active`),count:a.activeConnections.length},{type:`closed`,name:t(`closed`),count:a.closedConnections.length}]),we=o(()=>Nn(a.allConnections.map(e=>{let n=e.metadata.sourceIP||t(`inner`);return s.clientSourceIPTags.find(e=>e.sourceIP===n)?.tagName||n})).sort()),Ee=o(()=>Nn(a.allConnections.map(e=>e.metadata.sourceIP)).sort().filter(e=>!s.clientSourceIPTags.some(t=>t.sourceIP===e))),Oe=o(()=>s.tableSizeClassName(s.connectionsTableSize)),ke=o(()=>{let e=p.value===`active`?a.activeConnections:a.closedConnections;if(v.value&&s.quickFilterRegex)try{let t=new RegExp(s.quickFilterRegex,`i`);e=e.filter(e=>!e.chains.some(e=>t.test(e)))}catch{}if(b.value&&(e=e.filter(e=>{let n=e.metadata.sourceIP||t(`inner`);return(s.clientSourceIPTags.find(e=>e.sourceIP===n)?.tagName||n)===b.value})),g.value){let t=g.value.toLowerCase();e=e.filter(e=>e.metadata.host?.toLowerCase().includes(t)||e.metadata.process?.toLowerCase().includes(t)||e.metadata.sourceIP?.toLowerCase().includes(t)||e.rule?.toLowerCase().includes(t)||e.chains.some(e=>e.toLowerCase().includes(t)))}return[...e].sort((e,t)=>{let n=0;switch(S.value){case`ConnectTime`:n=new Date(e.start).getTime()-new Date(t.start).getTime();break;case`DlSpeed`:n=e.downloadSpeed-t.downloadSpeed;break;case`UlSpeed`:n=e.uploadSpeed-t.uploadSpeed;break;case`Download`:n=e.download-t.download;break;case`Upload`:n=e.upload-t.upload;break;case`Host`:n=(e.metadata.host||``).localeCompare(t.metadata.host||``);break;case`Type`:n=e.metadata.type.localeCompare(t.metadata.type);break;case`Process`:n=(e.metadata.process||``).localeCompare(t.metadata.process||``);break;case`SourceIP`:n=(e.metadata.sourceIP||``).localeCompare(t.metadata.sourceIP||``);break}return w.value?-n:n})}),Ae=o(()=>Math.max(1,Math.ceil(ke.value.length/ne.value))),je=o(()=>{let e=j.value,t=Ae.value,n=[];n.push(0);for(let r=Math.max(1,e-1);r<=Math.min(t-2,e+1);r++)n.includes(r)||n.push(r);return t>1&&!n.includes(t-1)&&n.push(t-1),n.sort((e,t)=>e-t)}),Me=o(()=>{let e=j.value*ne.value;return ke.value.slice(e,e+ne.value)}),Ne=o(()=>{let e=ke.value.length;return`${j.value*ne.value+1}-${Math.min((j.value+1)*ne.value,e)} / ${e}`});D([p,g,b,v],()=>{j.value=0});let Pe=o(()=>E.value?he.find(e=>e.id===E.value):null),Fe=o(()=>{let e=Pe.value;if(!e?.groupValue)return Me.value.map(e=>({type:`data`,original:e,depth:0}));let t=new Map;for(let n of ke.value){let r=e.groupValue(n),i=t.get(r);i?i.push(n):t.set(r,[n])}let n=[];for(let[e,r]of t)if(n.push({type:`group`,key:e,depth:0,subRows:r}),k.value[e])for(let e of r)n.push({type:`data`,original:e,depth:1});return n});function Ie(e){let t=he.find(t=>t.id===e);!t?.sortable||!t.sortId||(S.value===t.sortId?w.value?w.value=!1:(S.value=``,w.value=!0):(S.value=t.sortId,w.value=!0))}function Le(e){E.value===e?E.value=null:E.value=e,k.value={}}function Re(e){k.value[e]=!k.value[e]}function ze(){w.value=!w.value}async function Be(){re.value=!0;try{g.value?await Promise.allSettled(ke.value.map(e=>_e(e.id))):await ve()}finally{re.value=!1}}function Ve(e){f.value=e,d.value?.open()}return(e,t)=>{let r=rr,i=De,o=br,s=Ka,c=ps;return T(),h(`div`,ms,[y(r,{class:`shrink-0`,tabs:l(be),"active-tab":l(p),"enable-quick-filter":l(v),"source-i-p-filter":l(b),"unique-source-i-ps":l(we),"sort-column":l(S),"sort-desc":l(w),"sortable-columns":l(ye),"global-filter":l(g),paused:l(a).paused,"is-closing-connections":l(re),"onUpdate:activeTab":t[0]||=e=>p.value=e,"onUpdate:enableQuickFilter":t[1]||=e=>v.value=e,"onUpdate:sourceIPFilter":t[2]||=e=>b.value=e,"onUpdate:sortColumn":t[3]||=e=>S.value=e,"onUpdate:globalFilter":t[4]||=e=>g.value=e,onToggleSortOrder:ze,onTogglePaused:t[5]||=e=>l(a).paused=!l(a).paused,onCloseConnections:Be,onOpenSettings:t[6]||=e=>l(u)?.open()},null,8,[`tabs`,`active-tab`,`enable-quick-filter`,`source-i-p-filter`,`unique-source-i-ps`,`sort-column`,`sort-desc`,`sortable-columns`,`global-filter`,`paused`,`is-closing-connections`]),O(`div`,hs,[y(i,{"current-page":l(j),"total-pages":l(Ae),"visible-pages":l(je),onGoToPage:t[7]||=e=>j.value=e,onPrevious:t[8]||=e=>j.value--,onNext:t[9]||=e=>j.value++},null,8,[`current-page`,`total-pages`,`visible-pages`])]),O(`div`,gs,[y(o,{columns:l(ge),"row-model":l(Fe),"sort-column":l(S),"sort-desc":l(w),"grouping-column":l(E),"expanded-groups":l(k),"table-size-class":l(Oe),onHeaderClick:Ie,onToggleGrouping:Le,onToggleGroupExpanded:Re,onRowClick:Ve},null,8,[`columns`,`row-model`,`sort-column`,`sort-desc`,`grouping-column`,`expanded-groups`,`table-size-class`])]),O(`div`,_s,[O(`div`,vs,[x(O(`select`,{"onUpdate:modelValue":t[10]||=e=>_(ne)?ne.value=e:null,class:`cursor-pointer rounded-md border border-base-content/10 bg-base-100 px-2.5 py-1.5 text-[0.8125rem] text-base-content transition-colors duration-200 focus:border-primary focus:outline-none`},[(T(),h(m,null,A([20,50,100,200],e=>O(`option`,{key:e,value:e},C(e),9,ys)),64))],512),[[n,l(ne),void 0,{number:!0}]]),O(`span`,bs,C(l(Ne)),1)]),y(i,{"current-page":l(j),"total-pages":l(Ae),"visible-pages":l(je),onGoToPage:t[11]||=e=>j.value=e,onPrevious:t[12]||=e=>j.value--,onNext:t[13]||=e=>j.value++},null,8,[`current-page`,`total-pages`,`visible-pages`])]),y(s,{ref_key:`settingsModal`,ref:u,"all-columns":he,"untagged-source-i-ps":l(Ee)},null,8,[`untagged-source-i-ps`]),y(c,{ref_key:`detailsModal`,ref:d,connection:l(f)},null,8,[`connection`])])}}});export{xs as default};