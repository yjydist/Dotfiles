import{$ as e,At as t,B as n,C as r,D as i,J as a,K as o,N as s,Ot as c,Pt as l,U as u,W as d,X as f,Y as p,_t as m,at as h,ct as g,et as _,ft as v,ht as y,jt as b,kt as x,lt as S,pt as C,q as w,st as T,tt as E,ut as D,x as ee,xt as O,z as te}from"./DO0JR7ER.js";import{t as k}from"./CnEnsHnL.js";import{t as A}from"./CNdGjGfk.js";import{t as ne}from"./Dc30IiQz.js";import{D as j,F as M,G as N,H as P,I as F,J as I,K as re,L,M as ie,P as R,S as ae,X as oe,Y as se,_ as z,a as ce,b as le,f as ue,k as de,s as fe,v as pe,y as me}from"./Dq3bNNT9.js";import{y as he}from"./Ch85hcd-.js";import{n as ge,t as B}from"./x5MwCfWL.js";import{t as _e}from"./E1qO1bOd.js";import{a as ve,d as ye,i as be,l as xe}from"./DwNTAuCO.js";import{t as Se}from"./BvBshIQR.js";var Ce=l(_e(),1),we={class:`relative h-full w-full`},Te={key:0,class:`absolute inset-0 flex items-center justify-center`},Ee=E({__name:`RealtimeLineChart`,props:{title:{},seriesConfig:{},isLoading:{type:Boolean,default:!1},initialData:{default:()=>[]},valueMode:{default:`bytes`}},emits:[`chartReady`],setup(e,{expose:t,emit:n}){let r=e,i=n,a=(e,t=!1)=>r.valueMode===`number`?String(e):t?`${B(e).toString()}/s`:B(e).toString(),o=O(),s,c=A();function l(){let e=xe();return{chart:{type:`areaspline`,animation:{duration:800,easing:`linear`},backgroundColor:e.backgroundColor},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:r.title,style:{color:e.textColor}},legend:{enabled:!0,itemStyle:{color:e.textColor},itemHoverStyle:{color:e.textColorHover}},xAxis:{type:`datetime`,tickPixelInterval:100,labels:{style:{color:e.textColor},formatter(){let e=new Date(this.value);return`${e.getMinutes().toString().padStart(2,`0`)}:${e.getSeconds().toString().padStart(2,`0`)}`}},lineColor:e.lineColor,tickColor:e.tickColor},yAxis:{title:{text:void 0},labels:{style:{color:e.textColor},formatter(){return a(this.value)}},gridLineColor:e.gridLineColor,min:0},tooltip:{shared:!0,formatter(){let e=new Date(this.x),t=`<b>${`${e.getMinutes().toString().padStart(2,`0`)}:${e.getSeconds().toString().padStart(2,`0`)}`}</b><br/>`;return this.points?.forEach(e=>{t+=`<span style="color:${e.color}">\u25CF</span> ${e.series.name}: <b>${a(e.y,!0)}</b><br/>`}),t}},plotOptions:{areaspline:{fillOpacity:.3,marker:{enabled:!1},lineWidth:2,states:{hover:{lineWidth:3}},threshold:null}},series:r.seriesConfig.map((t,n)=>({type:`areaspline`,name:t.name,color:t.color||e.seriesColors[n]||Ce.default.getOptions().colors?.[n]||`hsl(${n*120}, 70%, 50%)`,data:r.initialData?.[n]||[]}))}}let u={addPoint:(e,t,n)=>{if(s?.series[e]){let r=s.series[e].data.length>=30;s.series[e].addPoint([t,n],!0,r,{duration:800,easing:`linear`})}},addPoints:e=>{if(!s)return;let t=new Map;e.forEach(e=>{t.has(e.seriesIndex)||t.set(e.seriesIndex,[]),t.get(e.seriesIndex).push({time:e.time,value:e.value})}),t.forEach((e,t)=>{let n=s?.series[t];n&&e.forEach(e=>{let t=n.data.length>=30;n.addPoint([e.time,e.value],!1,t)})}),s.redraw({duration:800,easing:`linear`})},setSeriesData:(e,t)=>{s?.series[e]&&s.series[e].setData(t,!0,!1,!1)}};return t({chartRef:u}),T(()=>{if(!o.value)return;s=Ce.default.chart(o.value,l()),i(`chartReady`,u);let e=new ResizeObserver(()=>{s&&o.value&&s.setSize(o.value.clientWidth,o.value.clientHeight,!0)});e.observe(o.value),g(()=>{e.disconnect(),s?.destroy()})}),C(()=>r.title,e=>{s&&s.setTitle({text:e})}),C(()=>r.seriesConfig,e=>{s&&(e.forEach((e,t)=>{s.series[t]&&s.series[t].update({type:`areaspline`,name:e.name,color:e.color},!1)}),s.redraw())},{deep:!0}),C(()=>c.curTheme,()=>{requestAnimationFrame(()=>{if(s){let e=xe();s.update({chart:{backgroundColor:e.backgroundColor},title:{style:{color:e.textColor}},legend:{itemStyle:{color:e.textColor},itemHoverStyle:{color:e.textColorHover}},xAxis:{labels:{style:{color:e.textColor}},lineColor:e.lineColor,tickColor:e.tickColor},yAxis:{labels:{style:{color:e.textColor}},gridLineColor:e.gridLineColor}},!0,!1,!1)}})}),(t,n)=>(S(),f(`div`,we,[e.isLoading?(S(),f(`div`,Te,[...n[0]||=[w(`span`,{class:`inline-block h-10 w-10 bg-base-content [mask-size:contain] [mask-position:center] [mask-repeat:no-repeat]`,style:{maskImage:`url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Ccircle cx=%274%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270%27/%3E%3C/circle%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270.15s%27/%3E%3C/circle%3E%3Ccircle cx=%2720%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270.3s%27/%3E%3C/circle%3E%3C/svg%3E')`,WebkitMaskImage:`url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Ccircle cx=%274%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270%27/%3E%3C/circle%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270.15s%27/%3E%3C/circle%3E%3Ccircle cx=%2720%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270.3s%27/%3E%3C/circle%3E%3C/svg%3E')`}},null,-1)]])):p(``,!0),w(`div`,{ref_key:`containerRef`,ref:o,class:x([`h-full w-full transition-opacity duration-200 ease-in-out`,{"opacity-0":e.isLoading}])},null,2)]))}}),De=Object.assign(Ee,{__name:`RealtimeLineChart`}),Oe=l(_e(),1),ke={class:`relative h-full w-full`},Ae={key:0,class:`absolute inset-0 flex items-center justify-center`},je=E({__name:`HighchartsAutoSize`,props:{options:{},isLoading:{type:Boolean,default:!1}},setup(e){let t=e,n=O(),r,i=A();function a(){let e=xe();return{chart:{animation:{duration:300},backgroundColor:e.backgroundColor},credits:{enabled:!1},accessibility:{enabled:!1},legend:{itemStyle:{color:e.textColor},itemHoverStyle:{color:e.textColorHover}},title:{style:{color:e.textColor}}}}return T(()=>{if(!n.value)return;let e=a(),i={...e,...t.options,chart:{...e.chart,...t.options.chart}};r=Oe.default.chart(n.value,i);let o=n.value.clientWidth,s=n.value.clientHeight,c=new ResizeObserver(()=>{if(r&&n.value){let e=n.value.clientWidth,t=n.value.clientHeight;(e!==o||t!==s)&&(o=e,s=t,r.setSize(e,t,!1))}});c.observe(n.value),g(()=>{c.disconnect(),r?.destroy()})}),C(()=>t.options,e=>{r&&r.update(e,!0,!1,!1)},{deep:!0}),C(()=>i.curTheme,()=>{requestAnimationFrame(()=>{if(r){let e=xe();r.update({chart:{backgroundColor:e.backgroundColor},title:{style:{color:e.textColor}},legend:{itemStyle:{color:e.textColor},itemHoverStyle:{color:e.textColorHover}},xAxis:{labels:{style:{color:e.textColor}},lineColor:e.lineColor,tickColor:e.tickColor},yAxis:{labels:{style:{color:e.textColor}},gridLineColor:e.gridLineColor}},!0,!1,!1)}})}),(t,r)=>(S(),f(`div`,ke,[e.isLoading?(S(),f(`div`,Ae,[...r[0]||=[w(`span`,{class:`inline-block size-10 bg-base-content [mask-image:url("data:image/svg+xml,%3Csvg_xmlns='http://www.w3.org/2000/svg'_viewBox='0_0_24_24'%3E%3Ccircle_cx='4'_cy='12'_r='2'_fill='currentColor'%3E%3Canimate_attributeName='opacity'_dur='0.75s'_values='1;0.5;1'_repeatCount='indefinite'_begin='0'/%3E%3C/circle%3E%3Ccircle_cx='12'_cy='12'_r='2'_fill='currentColor'%3E%3Canimate_attributeName='opacity'_dur='0.75s'_values='1;0.5;1'_repeatCount='indefinite'_begin='0.15s'/%3E%3C/circle%3E%3Ccircle_cx='20'_cy='12'_r='2'_fill='currentColor'%3E%3Canimate_attributeName='opacity'_dur='0.75s'_values='1;0.5;1'_repeatCount='indefinite'_begin='0.3s'/%3E%3C/circle%3E%3C/svg%3E")] [mask-size:contain] [mask-position:center] [mask-repeat:no-repeat]`},null,-1)]])):p(``,!0),w(`div`,{ref_key:`containerRef`,ref:n,class:x([`h-full w-full transition-opacity duration-200 ease-in-out`,{"opacity-0":e.isLoading}])},null,2)]))}}),Me=Object.assign(je,{__name:`HighchartsAutoSize`}),Ne={"ip.sb":`https://api.ip.sb/geoip`,"ipwho.is":`https://ipwho.is/`,"ipapi.is":`https://api.ipapi.is/`};function Pe(e){return{ip:e.ip,country:e.country,city:e.city,asn:e.asn,org:e.asn_organization}}function Fe(e){return{ip:e.ip,country:e.country,countryCode:e.country_code,city:e.city,region:e.region,asn:e.connection?.asn,org:e.connection?.org,isp:e.connection?.isp,latitude:e.latitude,longitude:e.longitude,timezone:e.timezone?.id}}function Ie(e){return{ip:e.ip,country:e.location?.country,countryCode:e.location?.country_code,city:e.location?.city,region:e.location?.state,asn:e.asn?.asn,org:e.asn?.org,isProxy:e.is_proxy,isVPN:e.is_vpn,latitude:e.location?.latitude,longitude:e.location?.longitude,timezone:e.location?.timezone}}async function Le(e){let t=Ne[e],n=await he.get(t,{timeout:1e4}).json();switch(e){case`ip.sb`:return Pe(n);case`ipwho.is`:return Fe(n);case`ipapi.is`:return Ie(n);default:throw Error(`Unknown IP provider: ${e}`)}}function Re(){let e=O(`ip.sb`),t=O(null),n=O(!1),r=O(null);async function i(i){let a=i??e.value;n.value=!0,r.value=null;try{t.value=await Le(a),e.value=a}catch(e){r.value=e instanceof Error?e.message:`Failed to fetch IP info`,t.value=null}finally{n.value=!1}}return{currentProvider:e,ipInfo:t,isLoading:n,error:r,fetchIP:i}}var ze={class:`rounded-xl border p-4 shadow-sm`,style:{background:`color-mix(in oklch, var(--color-base-200) 60%, transparent)`,"border-color":`color-mix(
        in oklch,
        var(--color-base-content) 10%,
        transparent
      )`,"box-shadow":`0 2px 8px
        color-mix(in oklch, var(--color-base-content) 5%, transparent)`}},Be={class:`mb-3.5 flex items-center justify-between gap-3`},Ve={class:`flex items-center gap-2`},He={class:`flex h-8 w-8 items-center justify-center rounded-lg text-primary`,style:{background:`color-mix(
              in oklch,
              var(--color-primary) 15%,
              transparent
            )`}},Ue={class:`m-0 text-[0.9375rem] font-semibold text-base-content`},We={class:`flex items-center gap-1.5`},Ge=[`value`],Ke=[`value`],qe=[`disabled`],Je={key:0,class:`flex justify-center py-6`},Ye={key:1,class:`rounded-lg p-3 text-[0.8125rem] text-error`,style:{background:`color-mix(in oklch, var(--color-error) 10%, transparent)`,border:`1px solid
          color-mix(in oklch, var(--color-error) 20%, transparent)`}},Xe={key:2,class:`flex flex-col gap-2.5`},Ze={class:`-mx-1 -mt-1 mb-1 flex items-center justify-between gap-3 rounded-lg px-2.5 py-2`,style:{background:`color-mix(in oklch, var(--color-primary) 8%, transparent)`,border:`1px solid
            color-mix(in oklch, var(--color-primary) 15%, transparent)`}},Qe={class:`shrink-0 text-[0.8125rem] text-base-content/60`},$e=[`title`],et={key:0,class:`flex items-center justify-between gap-3`},tt={class:`shrink-0 text-[0.8125rem] text-base-content/60`},nt={class:`overflow-hidden text-right text-[0.8125rem] font-medium text-ellipsis whitespace-nowrap text-base-content`},rt={key:1,class:`flex items-center justify-between gap-3`},it={class:`shrink-0 text-[0.8125rem] text-base-content/60`},at={class:`overflow-hidden text-right text-[0.8125rem] font-medium text-ellipsis whitespace-nowrap text-base-content`},ot={key:2,class:`flex items-center justify-between gap-3`},st={class:`shrink-0 text-[0.8125rem] text-base-content/60`},ct=[`title`],lt={key:3,class:`flex items-center justify-between gap-3`},ut={class:`overflow-hidden text-right font-mono text-[0.8125rem] font-semibold text-ellipsis whitespace-nowrap text-base-content`},dt={key:4,class:`flex items-center justify-between gap-3`},ft=[`title`],pt={key:5,class:`flex items-center justify-between gap-3`},mt={class:`shrink-0 text-[0.8125rem] text-base-content/60`},ht={class:`flex gap-1`},gt={key:0,class:`inline-flex items-center rounded-full px-2 py-0.5 text-[0.6875rem] font-semibold tracking-wide text-warning uppercase`,style:{background:`color-mix(
                in oklch,
                var(--color-warning) 15%,
                transparent
              )`}},_t={key:1,class:`inline-flex items-center rounded-full px-2 py-0.5 text-[0.6875rem] font-semibold tracking-wide text-warning uppercase`,style:{background:`color-mix(
                in oklch,
                var(--color-warning) 15%,
                transparent
              )`}},vt={key:2,class:`inline-flex items-center rounded-full px-2 py-0.5 text-[0.6875rem] font-semibold tracking-wide text-success uppercase`,style:{background:`color-mix(
                in oklch,
                var(--color-success) 15%,
                transparent
              )`}},yt={key:3,class:`py-6 text-center text-sm text-base-content/50`},bt=E({__name:`IPInfoCard`,setup(e){let{t}=ee(),{currentProvider:n,ipInfo:r,isLoading:i,error:a,fetchIP:o}=Re(),s=[{value:`ip.sb`,label:`IP.SB`},{value:`ipwho.is`,label:`ipwho.is`},{value:`ipapi.is`,label:`ipapi.is`}];T(()=>{o()});function l(e){let t=e.target;o(t.value)}return(e,u)=>(S(),f(`div`,ze,[w(`div`,Be,[w(`div`,Ve,[w(`div`,He,[_(c(ce),{size:18})]),w(`h3`,Ue,b(c(t)(`currentIP`)),1)]),w(`div`,We,[w(`select`,{value:c(n),class:`cursor-pointer appearance-none rounded-md bg-base-100 py-1.5 pr-6 pl-2.5 text-xs text-base-content transition-all duration-200 focus:border-primary focus:outline-none`,style:{border:`1px solid
              color-mix(in oklch, var(--color-base-content) 10%, transparent)`,"background-image":`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E")`,"background-repeat":`no-repeat`,"background-position":`right 0.375rem center`},onChange:l},[(S(),f(d,null,D(s,e=>w(`option`,{key:e.value,value:e.value},b(e.label),9,Ke)),64))],40,Ge),w(`button`,{class:x([`flex h-7 w-7 cursor-pointer items-center justify-center rounded-md border border-base-content/10 bg-transparent text-base-content/60 transition-all duration-200 hover:bg-base-300 hover:text-base-content disabled:cursor-not-allowed disabled:opacity-50`,{"animate-spin":c(i)}]),disabled:c(i),onClick:u[0]||=e=>c(o)()},[_(c(z),{size:16})],10,qe)])]),c(i)?(S(),f(`div`,Je,[...u[1]||=[w(`span`,{class:`h-6 w-6 animate-spin rounded-full border-2 border-base-content/10 border-t-primary`},null,-1)]])):c(a)?(S(),f(`div`,Ye,[w(`span`,null,b(c(a)),1)])):c(r)?(S(),f(`div`,Xe,[w(`div`,Ze,[w(`span`,Qe,b(c(t)(`ipAddress`)),1),w(`span`,{class:`overflow-hidden text-right font-mono text-[0.8125rem] font-semibold text-ellipsis whitespace-nowrap text-primary`,title:c(r).ip},b(c(r).ip),9,$e)]),c(r).country?(S(),f(`div`,et,[w(`span`,tt,b(c(t)(`country`)),1),w(`span`,nt,b(c(r).country),1)])):p(``,!0),c(r).city?(S(),f(`div`,rt,[w(`span`,it,b(c(t)(`city`)),1),w(`span`,at,b(c(r).city),1)])):p(``,!0),c(r).org?(S(),f(`div`,ot,[w(`span`,st,b(c(t)(`organization`)),1),w(`span`,{class:`overflow-hidden text-right text-[0.8125rem] font-medium text-ellipsis whitespace-nowrap text-base-content`,title:c(r).org},b(c(r).org),9,ct)])):p(``,!0),c(r).asn?(S(),f(`div`,lt,[u[2]||=w(`span`,{class:`shrink-0 text-[0.8125rem] text-base-content/60`},` ASN `,-1),w(`span`,ut,` AS`+b(c(r).asn),1)])):p(``,!0),c(r).isp?(S(),f(`div`,dt,[u[3]||=w(`span`,{class:`shrink-0 text-[0.8125rem] text-base-content/60`},` ISP `,-1),w(`span`,{class:`overflow-hidden text-right text-[0.8125rem] font-medium text-ellipsis whitespace-nowrap text-base-content`,title:c(r).isp},b(c(r).isp),9,ft)])):p(``,!0),c(r).isProxy!==void 0||c(r).isVPN!==void 0?(S(),f(`div`,pt,[w(`span`,mt,b(c(t)(`proxyDetection`)),1),w(`div`,ht,[c(r).isProxy?(S(),f(`span`,gt,` Proxy `)):p(``,!0),c(r).isVPN?(S(),f(`span`,_t,` VPN `)):p(``,!0),!c(r).isProxy&&!c(r).isVPN?(S(),f(`span`,vt,b(c(t)(`clean`)),1)):p(``,!0)])])):p(``,!0)])):(S(),f(`div`,yt,b(c(t)(`noData`)),1))]))}}),xt=Object.assign(bt,{__name:`IPInfoCard`}),St=[{name:`Google`,url:`https://www.google.com/generate_204`},{name:`Cloudflare`,url:`https://www.cloudflare.com/cdn-cgi/trace`},{name:`GitHub`,url:`https://github.com`}];async function Ct(e){try{let t=performance.now();await fetch(e,{method:`HEAD`,mode:`no-cors`,cache:`no-store`});let n=performance.now();return Math.round(n-t)}catch{return null}}function wt(){let e=O(new Map),t=O(!1),n=O(St);async function r(t,n){e.value.set(n,{url:n,latency:null,status:`pending`,timestamp:Date.now()});let r=await Ct(n);return e.value.set(n,{url:n,latency:r,status:r===null?`error`:`success`,timestamp:Date.now()}),r}async function i(){t.value=!0;let e=n.value.map(e=>r(e.name,e.url));await Promise.all(e),t.value=!1}function a(t){return e.value.get(t)}return{results:e,isTestingAll:t,targets:n,testLatency:r,testAllLatencies:i,getResult:a,allResults:o(()=>n.value.map(t=>({name:t.name,url:t.url,result:e.value.get(t.url)}))),averageLatency:o(()=>{let t=Array.from(e.value.values()).filter(e=>e.status===`success`&&e.latency!==null);if(t.length===0)return null;let n=t.reduce((e,t)=>e+(t.latency??0),0);return Math.round(n/t.length)})}}var Tt={class:`rounded-xl border border-base-content/10 p-4`,style:{background:`color-mix(in oklch, var(--color-base-200) 60%, transparent)`}},Et={class:`mb-3 flex items-center justify-between gap-2`},Dt={class:`flex items-center gap-2`},Ot={class:`m-0 text-base font-semibold text-base-content`},kt={class:`flex items-center gap-2`},At=[`disabled`],jt={class:`flex flex-col gap-3`},Mt={class:`w-20 shrink-0 overflow-hidden text-sm text-ellipsis whitespace-nowrap text-base-content`},Nt={class:`h-2 flex-1 overflow-hidden rounded-full bg-base-content/10`},Pt={class:`w-16 shrink-0 text-right font-mono text-sm text-base-content`},Ft={key:0,class:`inline-block h-3 w-3 animate-spin rounded-full border-2 border-base-content/20 border-t-primary`},It={key:1},Lt={key:2,class:`text-error`},Rt={key:3,class:`text-base-content/40`},zt=E({__name:`LatencyCard`,setup(e){let{t:n}=ee(),{allResults:r,isTestingAll:i,testAllLatencies:a,averageLatency:o}=wt();T(()=>{a()});function s(e){return e==null?`bg-base-content/10 text-base-content/50`:e<100?`bg-success/15 text-success`:e<300?`bg-warning/15 text-warning`:`bg-error/15 text-error`}function l(e){return e==null?`0%`:`${Math.min(e/500*100,100)}%`}function u(e){return e==null?`bg-base-content/20`:e<100?`bg-success`:e<300?`bg-warning`:`bg-error`}return(e,m)=>(S(),f(`div`,Tt,[w(`div`,Et,[w(`div`,Dt,[_(c(oe),{class:`h-5 w-5 text-primary`}),w(`h3`,Ot,b(c(n)(`networkLatency`)),1)]),w(`div`,kt,[c(o)===null?p(``,!0):(S(),f(`span`,{key:0,class:x([`rounded-md px-2 py-1 text-xs font-semibold`,s(c(o))])},b(c(n)(`average`))+`: `+b(c(o))+`ms `,3)),w(`button`,{class:x([`flex h-7 w-7 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-base-content/60 transition-all duration-200 hover:bg-base-content/10 hover:text-base-content disabled:cursor-not-allowed disabled:opacity-50`,{"animate-spin":c(i)}]),disabled:c(i),onClick:m[0]||=(...e)=>c(a)&&c(a)(...e)},[_(c(z),{class:`h-4 w-4`})],10,At)])]),w(`div`,jt,[(S(!0),f(d,null,D(c(r),e=>(S(),f(`div`,{key:e.url,class:`flex items-center gap-3`},[w(`span`,Mt,b(e.name),1),w(`div`,Nt,[w(`div`,{class:x([`h-full rounded-full transition-[width] duration-500 ease-out`,u(e.result?.latency)]),style:t({width:l(e.result?.latency)})},null,6)]),w(`span`,Pt,[e.result?.status===`pending`?(S(),f(`span`,Ft)):e.result?.status===`success`?(S(),f(`span`,It,b(e.result.latency)+`ms `,1)):e.result?.status===`error`?(S(),f(`span`,Lt,b(c(n)(`timeout`)),1)):(S(),f(`span`,Rt,`-`))])]))),128))])]))}}),Bt=Object.assign(zt,{__name:`LatencyCard`}),Vt={value:()=>{}};function Ht(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+``)||r in n||/[\s.]/.test(r))throw Error(`illegal type: `+r);n[r]=[]}return new Ut(n)}function Ut(e){this._=e}function Wt(e,t){return e.trim().split(/^|\s+/).map(function(e){var n=``,r=e.indexOf(`.`);if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw Error(`unknown type: `+e);return{type:e,name:n}})}Ut.prototype=Ht.prototype={constructor:Ut,on:function(e,t){var n=this._,r=Wt(e+``,n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Gt(n[i],e.name)))return i;return}if(t!=null&&typeof t!=`function`)throw Error(`invalid callback: `+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=Kt(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Kt(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ut(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Gt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Kt(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Vt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var qt=Ht,Jt={svg:`http://www.w3.org/2000/svg`,xhtml:`http://www.w3.org/1999/xhtml`,xlink:`http://www.w3.org/1999/xlink`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`};function Yt(e){var t=e+=``,n=t.indexOf(`:`);return n>=0&&(t=e.slice(0,n))!==`xmlns`&&(e=e.slice(n+1)),Jt.hasOwnProperty(t)?{space:Jt[t],local:e}:e}function Xt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===`http://www.w3.org/1999/xhtml`&&t.documentElement.namespaceURI===`http://www.w3.org/1999/xhtml`?t.createElement(e):t.createElementNS(n,e)}}function Zt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qt(e){var t=Yt(e);return(t.local?Zt:Xt)(t)}function $t(){}function en(e){return e==null?$t:function(){return this.querySelector(e)}}function tn(e){typeof e!=`function`&&(e=en(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=Array(o),c,l,u=0;u<o;++u)(c=a[u])&&(l=e.call(c,c.__data__,u,a))&&(`__data__`in c&&(l.__data__=c.__data__),s[u]=l);return new H(r,this._parents)}function nn(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rn(){return[]}function an(e){return e==null?rn:function(){return this.querySelectorAll(e)}}function on(e){return function(){return nn(e.apply(this,arguments))}}function sn(e){e=typeof e==`function`?on(e):an(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&(r.push(e.call(c,c.__data__,l,o)),i.push(c));return new H(r,i)}function cn(e){return function(){return this.matches(e)}}function ln(e){return function(t){return t.matches(e)}}var un=Array.prototype.find;function dn(e){return function(){return un.call(this.children,e)}}function fn(){return this.firstElementChild}function pn(e){return this.select(e==null?fn:dn(typeof e==`function`?e:ln(e)))}var mn=Array.prototype.filter;function hn(){return Array.from(this.children)}function gn(e){return function(){return mn.call(this.children,e)}}function _n(e){return this.selectAll(e==null?hn:gn(typeof e==`function`?e:ln(e)))}function vn(e){typeof e!=`function`&&(e=cn(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new H(r,this._parents)}function yn(e){return Array(e.length)}function bn(){return new H(this._enter||this._groups.map(yn),this._parents)}function xn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}xn.prototype={constructor:xn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Sn(e){return function(){return e}}function Cn(e,t,n,r,i,a){for(var o=0,s,c=t.length,l=a.length;o<l;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new xn(e,a[o]);for(;o<c;++o)(s=t[o])&&(i[o]=s)}function wn(e,t,n,r,i,a,o){var s,c,l=new Map,u=t.length,d=a.length,f=Array(u),p;for(s=0;s<u;++s)(c=t[s])&&(f[s]=p=o.call(c,c.__data__,s,t)+``,l.has(p)?i[s]=c:l.set(p,c));for(s=0;s<d;++s)p=o.call(e,a[s],s,a)+``,(c=l.get(p))?(r[s]=c,c.__data__=a[s],l.delete(p)):n[s]=new xn(e,a[s]);for(s=0;s<u;++s)(c=t[s])&&l.get(f[s])===c&&(i[s]=c)}function Tn(e){return e.__data__}function En(e,t){if(!arguments.length)return Array.from(this,Tn);var n=t?wn:Cn,r=this._parents,i=this._groups;typeof e!=`function`&&(e=Sn(e));for(var a=i.length,o=Array(a),s=Array(a),c=Array(a),l=0;l<a;++l){var u=r[l],d=i[l],f=d.length,p=Dn(e.call(u,u&&u.__data__,l,r)),m=p.length,h=s[l]=Array(m),g=o[l]=Array(m);n(u,d,h,g,c[l]=Array(f),p,t);for(var _=0,v=0,y,b;_<m;++_)if(y=h[_]){for(_>=v&&(v=_+1);!(b=g[v])&&++v<m;);y._next=b||null}}return o=new H(o,r),o._enter=s,o._exit=c,o}function Dn(e){return typeof e==`object`&&`length`in e?e:Array.from(e)}function On(){return new H(this._exit||this._groups.map(yn),this._parents)}function kn(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e==`function`?(r=e(r),r&&=r.selection()):r=r.append(e+``),t!=null&&(i=t(i),i&&=i.selection()),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function An(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=Array(i),c=0;c<o;++c)for(var l=n[c],u=r[c],d=l.length,f=s[c]=Array(d),p,m=0;m<d;++m)(p=l[m]||u[m])&&(f[m]=p);for(;c<i;++c)s[c]=n[c];return new H(s,this._parents)}function jn(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Mn(e){e||=Nn;function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,r=n.length,i=Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,c=i[a]=Array(s),l,u=0;u<s;++u)(l=o[u])&&(c[u]=l);c.sort(t)}return new H(i,this._parents).order()}function Nn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Pn(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Fn(){return Array.from(this)}function In(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Ln(){let e=0;for(let t of this)++e;return e}function Rn(){return!this.node()}function zn(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function Bn(e){return function(){this.removeAttribute(e)}}function Vn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hn(e,t){return function(){this.setAttribute(e,t)}}function Un(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Gn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Kn(e,t){var n=Yt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Vn:Bn:typeof t==`function`?n.local?Gn:Wn:n.local?Un:Hn)(n,t))}function qn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Jn(e){return function(){this.style.removeProperty(e)}}function Yn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xn(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Zn(e,t,n){return arguments.length>1?this.each((t==null?Jn:typeof t==`function`?Xn:Yn)(e,t,n??``)):V(this.node(),e)}function V(e,t){return e.style.getPropertyValue(t)||qn(e).getComputedStyle(e,null).getPropertyValue(t)}function Qn(e){return function(){delete this[e]}}function $n(e,t){return function(){this[e]=t}}function er(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function tr(e,t){return arguments.length>1?this.each((t==null?Qn:typeof t==`function`?er:$n)(e,t)):this.node()[e]}function nr(e){return e.trim().split(/^|\s+/)}function rr(e){return e.classList||new ir(e)}function ir(e){this._node=e,this._names=nr(e.getAttribute(`class`)||``)}ir.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute(`class`,this._names.join(` `)))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute(`class`,this._names.join(` `)))},contains:function(e){return this._names.indexOf(e)>=0}};function ar(e,t){for(var n=rr(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function or(e,t){for(var n=rr(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function sr(e){return function(){ar(this,e)}}function cr(e){return function(){or(this,e)}}function lr(e,t){return function(){(t.apply(this,arguments)?ar:or)(this,e)}}function ur(e,t){var n=nr(e+``);if(arguments.length<2){for(var r=rr(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t==`function`?lr:t?sr:cr)(n,t))}function dr(){this.textContent=``}function fr(e){return function(){this.textContent=e}}function pr(e){return function(){this.textContent=e.apply(this,arguments)??``}}function mr(e){return arguments.length?this.each(e==null?dr:(typeof e==`function`?pr:fr)(e)):this.node().textContent}function hr(){this.innerHTML=``}function gr(e){return function(){this.innerHTML=e}}function _r(e){return function(){this.innerHTML=e.apply(this,arguments)??``}}function vr(e){return arguments.length?this.each(e==null?hr:(typeof e==`function`?_r:gr)(e)):this.node().innerHTML}function yr(){this.nextSibling&&this.parentNode.appendChild(this)}function br(){return this.each(yr)}function xr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sr(){return this.each(xr)}function Cr(e){var t=typeof e==`function`?e:Qt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function wr(){return null}function Tr(e,t){var n=typeof e==`function`?e:Qt(e),r=t==null?wr:typeof t==`function`?t:en(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Er(){var e=this.parentNode;e&&e.removeChild(this)}function Dr(){return this.each(Er)}function Or(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ar(e){return this.select(e?kr:Or)}function jr(e){return arguments.length?this.property(`__data__`,e):this.node().__data__}function Mr(e){return function(t){e.call(this,t,this.__data__)}}function Nr(e){return e.trim().split(/^|\s+/).map(function(e){var t=``,n=e.indexOf(`.`);return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function Pr(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Fr(e,t,n){return function(){var r=this.__on,i,a=Mr(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Ir(e,t,n){var r=Nr(e+``),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(i=0,u=s[c];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?Fr:Pr,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function Lr(e,t,n){var r=qn(e),i=r.CustomEvent;typeof i==`function`?i=new i(t,n):(i=r.document.createEvent(`Event`),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Rr(e,t){return function(){return Lr(this,e,t)}}function zr(e,t){return function(){return Lr(this,e,t.apply(this,arguments))}}function Br(e,t){return this.each((typeof t==`function`?zr:Rr)(e,t))}function*Vr(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Hr=[null];function H(e,t){this._groups=e,this._parents=t}function Ur(){return new H([[document.documentElement]],Hr)}function Wr(){return this}H.prototype=Ur.prototype={constructor:H,select:tn,selectAll:sn,selectChild:pn,selectChildren:_n,filter:vn,data:En,enter:bn,exit:On,join:kn,merge:An,selection:Wr,order:jn,sort:Mn,call:Pn,nodes:Fn,node:In,size:Ln,empty:Rn,each:zn,attr:Kn,style:Zn,property:tr,classed:ur,text:mr,html:vr,raise:br,lower:Sr,append:Cr,insert:Tr,remove:Dr,clone:Ar,datum:jr,on:Ir,dispatch:Br,[Symbol.iterator]:Vr};var Gr=Ur;function Kr(e){return typeof e==`string`?new H([[document.querySelector(e)]],[document.documentElement]):new H([[e]],Hr)}function qr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Jr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yr(){}var Xr=.7,Zr=1/Xr,U=`\\s*([+-]?\\d+)\\s*`,Qr=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*`,W=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,$r=/^#([0-9a-f]{3,8})$/,ei=RegExp(`^rgb\\(${U},${U},${U}\\)$`),ti=RegExp(`^rgb\\(${W},${W},${W}\\)$`),ni=RegExp(`^rgba\\(${U},${U},${U},${Qr}\\)$`),ri=RegExp(`^rgba\\(${W},${W},${W},${Qr}\\)$`),ii=RegExp(`^hsl\\(${Qr},${W},${W}\\)$`),ai=RegExp(`^hsla\\(${Qr},${W},${W},${Qr}\\)$`),oi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qr(Yr,di,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:si,formatHex:si,formatHex8:ci,formatHsl:li,formatRgb:ui,toString:ui});function si(){return this.rgb().formatHex()}function ci(){return this.rgb().formatHex8()}function li(){return xi(this).formatHsl()}function ui(){return this.rgb().formatRgb()}function di(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=$r.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fi(t):n===3?new G(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ei.exec(e))?new G(t[1],t[2],t[3],1):(t=ti.exec(e))?new G(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ni.exec(e))?pi(t[1],t[2],t[3],t[4]):(t=ri.exec(e))?pi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ii.exec(e))?bi(t[1],t[2]/100,t[3]/100,1):(t=ai.exec(e))?bi(t[1],t[2]/100,t[3]/100,t[4]):oi.hasOwnProperty(e)?fi(oi[e]):e===`transparent`?new G(NaN,NaN,NaN,0):null}function fi(e){return new G(e>>16&255,e>>8&255,e&255,1)}function pi(e,t,n,r){return r<=0&&(e=t=n=NaN),new G(e,t,n,r)}function mi(e){return e instanceof Yr||(e=di(e)),e?(e=e.rgb(),new G(e.r,e.g,e.b,e.opacity)):new G}function hi(e,t,n,r){return arguments.length===1?mi(e):new G(e,t,n,r??1)}function G(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qr(G,hi,Jr(Yr,{brighter(e){return e=e==null?Zr:Zr**+e,new G(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xr:Xr**+e,new G(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new G(K(this.r),K(this.g),K(this.b),yi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gi,formatHex:gi,formatHex8:_i,formatRgb:vi,toString:vi}));function gi(){return`#${q(this.r)}${q(this.g)}${q(this.b)}`}function _i(){return`#${q(this.r)}${q(this.g)}${q(this.b)}${q((isNaN(this.opacity)?1:this.opacity)*255)}`}function vi(){let e=yi(this.opacity);return`${e===1?`rgb(`:`rgba(`}${K(this.r)}, ${K(this.g)}, ${K(this.b)}${e===1?`)`:`, ${e})`}`}function yi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function K(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function q(e){return e=K(e),(e<16?`0`:``)+e.toString(16)}function bi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new J(e,t,n,r)}function xi(e){if(e instanceof J)return new J(e.h,e.s,e.l,e.opacity);if(e instanceof Yr||(e=di(e)),!e)return new J;if(e instanceof J)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new J(o,s,c,e.opacity)}function Si(e,t,n,r){return arguments.length===1?xi(e):new J(e,t,n,r??1)}function J(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qr(J,Si,Jr(Yr,{brighter(e){return e=e==null?Zr:Zr**+e,new J(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xr:Xr**+e,new J(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new G(Ti(e>=240?e-240:e+120,i,r),Ti(e,i,r),Ti(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new J(Ci(this.h),wi(this.s),wi(this.l),yi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=yi(this.opacity);return`${e===1?`hsl(`:`hsla(`}${Ci(this.h)}, ${wi(this.s)*100}%, ${wi(this.l)*100}%${e===1?`)`:`, ${e})`}`}}));function Ci(e){return e=(e||0)%360,e<0?e+360:e}function wi(e){return Math.max(0,Math.min(1,e||0))}function Ti(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Ei=e=>()=>e;function Di(e,t){return function(n){return e+n*t}}function Oi(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function ki(e){return(e=+e)==1?Ai:function(t,n){return n-t?Oi(t,n,e):Ei(isNaN(t)?n:t)}}function Ai(e,t){var n=t-e;return n?Di(e,n):Ei(isNaN(e)?t:e)}var ji=(function e(t){var n=ki(t);function r(e,t){var r=n((e=hi(e)).r,(t=hi(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Ai(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r})(1);function Y(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ni=new RegExp(Mi.source,`g`);function Pi(e){return function(){return e}}function Fi(e){return function(t){return e(t)+``}}function Ii(e,t){var n=Mi.lastIndex=Ni.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=Mi.exec(e))&&(i=Ni.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Y(r,i)})),n=Ni.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Fi(c[0].x):Pi(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}var Li=180/Math.PI,Ri={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zi(e,t,n,r,i,a){var o,s,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Li,skewX:Math.atan(c)*Li,scaleX:o,scaleY:s}}var Bi;function Vi(e){let t=new(typeof DOMMatrix==`function`?DOMMatrix:WebKitCSSMatrix)(e+``);return t.isIdentity?Ri:zi(t.a,t.b,t.c,t.d,t.e,t.f)}function Hi(e){return e==null||(Bi||=document.createElementNS(`http://www.w3.org/2000/svg`,`g`),Bi.setAttribute(`transform`,e),!(e=Bi.transform.baseVal.consolidate()))?Ri:(e=e.matrix,zi(e.a,e.b,e.c,e.d,e.e,e.f))}function Ui(e,t,n,r){function i(e){return e.length?e.pop()+` `:``}function a(e,r,i,a,o,s){if(e!==i||r!==a){var c=o.push(`translate(`,null,t,null,n);s.push({i:c-4,x:Y(e,i)},{i:c-2,x:Y(r,a)})}else (i||a)&&o.push(`translate(`+i+t+a+n)}function o(e,t,n,a){e===t?t&&n.push(i(n)+`rotate(`+t+r):(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+`rotate(`,null,r)-2,x:Y(e,t)}))}function s(e,t,n,a){e===t?t&&n.push(i(n)+`skewX(`+t+r):a.push({i:n.push(i(n)+`skewX(`,null,r)-2,x:Y(e,t)})}function c(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+`scale(`,null,`,`,null,`)`);o.push({i:s-4,x:Y(e,n)},{i:s-2,x:Y(t,r)})}else (n!==1||r!==1)&&a.push(i(a)+`scale(`+n+`,`+r+`)`)}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),o(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t=-1,n=i.length,a;++t<n;)r[(a=i[t]).i]=a.x(e);return r.join(``)}}}var Wi=Ui(Vi,`px, `,`px)`,`deg)`),Gi=Ui(Hi,`, `,`)`,`)`),Ki=0,qi=0,Ji=0,Yi=1e3,Xi,Zi,Qi=0,$i=0,ea=0,ta=typeof performance==`object`&&performance.now?performance:Date,na=typeof window==`object`&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ra(){return $i||=(na(ia),ta.now()+ea)}function ia(){$i=0}function aa(){this._call=this._time=this._next=null}aa.prototype=oa.prototype={constructor:aa,restart:function(e,t,n){if(typeof e!=`function`)throw TypeError(`callback is not a function`);n=(n==null?ra():+n)+(t==null?0:+t),!this._next&&Zi!==this&&(Zi?Zi._next=this:Xi=this,Zi=this),this._call=e,this._time=n,da()},stop:function(){this._call&&(this._call=null,this._time=1/0,da())}};function oa(e,t,n){var r=new aa;return r.restart(e,t,n),r}function sa(){ra(),++Ki;for(var e=Xi,t;e;)(t=$i-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ki}function ca(){$i=(Qi=ta.now())+ea,Ki=qi=0;try{sa()}finally{Ki=0,ua(),$i=0}}function la(){var e=ta.now(),t=e-Qi;t>Yi&&(ea-=t,Qi=e)}function ua(){for(var e,t=Xi,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Xi=n);Zi=e,da(r)}function da(e){Ki||(qi&&=clearTimeout(qi),e-$i>24?(e<1/0&&(qi=setTimeout(ca,e-ta.now()-ea)),Ji&&=clearInterval(Ji)):(Ji||=(Qi=ta.now(),setInterval(la,Yi)),Ki=1,na(ca)))}function fa(e,t,n){var r=new aa;return t=t==null?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}var pa=qt(`start`,`end`,`cancel`,`interrupt`),ma=[];function ha(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;_a(e,n,{name:t,index:r,group:i,on:pa,tween:ma,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function ga(e,t){var n=Z(e,t);if(n.state>0)throw Error(`too late; already scheduled`);return n}function X(e,t){var n=Z(e,t);if(n.state>3)throw Error(`too late; already running`);return n}function Z(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error(`transition not found`);return n}function _a(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=oa(a,0,n.time);function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,u,d,f;if(n.state!==1)return c();for(l in r)if(f=r[l],f.name===n.name){if(f.state===3)return fa(o);f.state===4?(f.state=6,f.timer.stop(),f.on.call(`interrupt`,e,e.__data__,f.index,f.group),delete r[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call(`cancel`,e,e.__data__,f.index,f.group),delete r[l])}if(fa(function(){n.state===3&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=2,n.on.call(`start`,e,e.__data__,n.index,n.group),n.state===2){for(n.state=3,i=Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=f);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(e,r);n.state===5&&(n.on.call(`end`,e,e.__data__,n.index,n.group),c())}function c(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}}function va(e,t){var n=e.__transition,r,i,a=!0,o;if(n){for(o in t=t==null?null:t+``,n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?`interrupt`:`cancel`,e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function ya(e){return this.each(function(){va(this,e)})}function ba(e,t){var n,r;return function(){var i=X(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function xa(e,t,n){var r,i;if(typeof n!=`function`)throw Error();return function(){var a=X(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}a.tween=i}}function Sa(e,t){var n=this._id;if(e+=``,arguments.length<2){for(var r=Z(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?ba:xa)(n,e,t))}function Ca(e,t,n){var r=e._id;return e.each(function(){var e=X(this,r);(e.value||={})[t]=n.apply(this,arguments)}),function(e){return Z(e,r).value[t]}}function wa(e,t){var n;return(typeof t==`number`?Y:t instanceof di?ji:(n=di(t))?(t=n,ji):Ii)(e,t)}function Ta(e){return function(){this.removeAttribute(e)}}function Ea(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Da(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function Oa(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function ka(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function Aa(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function ja(e,t){var n=Yt(e),r=n===`transform`?Gi:wa;return this.attrTween(e,typeof t==`function`?(n.local?Aa:ka)(n,r,Ca(this,`attr.`+e,t)):t==null?(n.local?Ea:Ta)(n):(n.local?Oa:Da)(n,r,t))}function Ma(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Na(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Pa(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Na(e,i)),n}return i._value=t,i}function Fa(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ma(e,i)),n}return i._value=t,i}function Ia(e,t){var n=`attr.`+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!=`function`)throw Error();var r=Yt(e);return this.tween(n,(r.local?Pa:Fa)(r,t))}function La(e,t){return function(){ga(this,e).delay=+t.apply(this,arguments)}}function Ra(e,t){return t=+t,function(){ga(this,e).delay=t}}function za(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?La:Ra)(t,e)):Z(this.node(),t).delay}function Ba(e,t){return function(){X(this,e).duration=+t.apply(this,arguments)}}function Va(e,t){return t=+t,function(){X(this,e).duration=t}}function Ha(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?Ba:Va)(t,e)):Z(this.node(),t).duration}function Ua(e,t){if(typeof t!=`function`)throw Error();return function(){X(this,e).ease=t}}function Wa(e){var t=this._id;return arguments.length?this.each(Ua(t,e)):Z(this.node(),t).ease}function Ga(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!=`function`)throw Error();X(this,e).ease=n}}function Ka(e){if(typeof e!=`function`)throw Error();return this.each(Ga(this._id,e))}function qa(e){typeof e!=`function`&&(e=cn(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new Q(r,this._parents,this._name,this._id)}function Ja(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=Array(r),s=0;s<a;++s)for(var c=t[s],l=n[s],u=c.length,d=o[s]=Array(u),f,p=0;p<u;++p)(f=c[p]||l[p])&&(d[p]=f);for(;s<r;++s)o[s]=t[s];return new Q(o,this._parents,this._name,this._id)}function Ya(e){return(e+``).trim().split(/^|\s+/).every(function(e){var t=e.indexOf(`.`);return t>=0&&(e=e.slice(0,t)),!e||e===`start`})}function Xa(e,t,n){var r,i,a=Ya(t)?ga:X;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function Za(e,t){var n=this._id;return arguments.length<2?Z(this.node(),n).on.on(e):this.each(Xa(n,e,t))}function Qa(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function $a(){return this.on(`end.remove`,Qa(this._id))}function eo(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=en(e));for(var r=this._groups,i=r.length,a=Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,l=a[o]=Array(c),u,d,f=0;f<c;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&(`__data__`in u&&(d.__data__=u.__data__),l[f]=d,ha(l[f],t,n,f,l,Z(u,n)));return new Q(a,this._parents,t,n)}function to(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=an(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],l=c.length,u,d=0;d<l;++d)if(u=c[d]){for(var f=e.call(u,u.__data__,d,c),p,m=Z(u,n),h=0,g=f.length;h<g;++h)(p=f[h])&&ha(p,t,n,h,f,m);a.push(f),o.push(u)}return new Q(a,o,t,n)}var no=Gr.prototype.constructor;function ro(){return new no(this._groups,this._parents)}function io(e,t){var n,r,i;return function(){var a=V(this,e),o=(this.style.removeProperty(e),V(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function ao(e){return function(){this.style.removeProperty(e)}}function oo(e,t,n){var r,i=n+``,a;return function(){var o=V(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function so(e,t,n){var r,i,a;return function(){var o=V(this,e),s=n(this),c=s+``;return s??(c=s=(this.style.removeProperty(e),V(this,e))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s))}}function co(e,t){var n,r,i,a=`style.`+t,o=`end.`+a,s;return function(){var c=X(this,e),l=c.on,u=c.value[a]==null?s||=ao(t):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(o,i=u),c.on=r}}function lo(e,t,n){var r=(e+=``)==`transform`?Wi:wa;return t==null?this.styleTween(e,io(e,r)).on(`end.style.`+e,ao(e)):typeof t==`function`?this.styleTween(e,so(e,r,Ca(this,`style.`+e,t))).each(co(this._id,e)):this.styleTween(e,oo(e,r,t),n).on(`end.style.`+e,null)}function uo(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function fo(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&uo(e,a,n)),r}return a._value=t,a}function po(e,t,n){var r=`style.`+(e+=``);if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!=`function`)throw Error();return this.tween(r,fo(e,t,n??``))}function mo(e){return function(){this.textContent=e}}function ho(e){return function(){this.textContent=e(this)??``}}function go(e){return this.tween(`text`,typeof e==`function`?ho(Ca(this,`text`,e)):mo(e==null?``:e+``))}function _o(e){return function(t){this.textContent=e.call(this,t)}}function vo(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&_o(r)),t}return r._value=e,r}function yo(e){var t=`text`;if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=`function`)throw Error();return this.tween(t,vo(e))}function bo(){for(var e=this._name,t=this._id,n=wo(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)if(c=o[l]){var u=Z(c,t);ha(c,e,n,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Q(r,this._parents,e,n)}function xo(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var n=X(this,r),i=n.on;i!==e&&(t=(e=i).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t}),i===0&&a()})}var So=0;function Q(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Co(e){return Gr().transition(e)}function wo(){return++So}var $=Gr.prototype;Q.prototype=Co.prototype={constructor:Q,select:eo,selectAll:to,selectChild:$.selectChild,selectChildren:$.selectChildren,filter:qa,merge:Ja,selection:ro,transition:bo,call:$.call,nodes:$.nodes,node:$.node,size:$.size,empty:$.empty,each:$.each,on:Za,attr:ja,attrTween:Ia,style:lo,styleTween:po,text:go,textTween:yo,remove:$a,tween:Sa,delay:za,duration:Ha,ease:Wa,easeVarying:Ka,end:xo,[Symbol.iterator]:$[Symbol.iterator]};function To(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Eo={time:null,delay:0,duration:250,ease:To};function Do(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}function Oo(e){var t,n;e instanceof Q?(t=e._id,e=e._name):(t=wo(),(n=Eo).time=ra(),e=e==null?null:e+``);for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&ha(c,e,t,l,o,n||Do(c,t));return new Q(r,this._parents,e,t)}Gr.prototype.interrupt=ya,Gr.prototype.transition=Oo;var{abs:ko,max:Ao,min:jo}=Math;[`w`,`e`].map(Mo),[`n`,`s`].map(Mo),[`n`,`w`,`e`,`s`,`nw`,`ne`,`sw`,`se`].map(Mo);function Mo(e){return{type:e}}function No(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Po(){return this.eachAfter(No)}function Fo(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this}function Io(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Lo(e,t){for(var n=this,r=[n],i=[],a,o,s,c=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++c,this);return this}function Ro(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r}function zo(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Bo(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Vo(e){for(var t=this,n=Ho(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Ho(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Uo(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Wo(){return Array.from(this)}function Go(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Ko(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*qo(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Jo(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Zo)):t===void 0&&(t=Xo);for(var n=new es(e),r,i=[n],a,o,s,c;r=i.pop();)if((o=t(r.data))&&(c=(o=Array.from(o)).length))for(r.children=o,s=c-1;s>=0;--s)i.push(a=o[s]=new es(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore($o)}function Yo(){return Jo(this).eachBefore(Qo)}function Xo(e){return e.children}function Zo(e){return Array.isArray(e)?e[1]:null}function Qo(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function $o(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function es(e){this.data=e,this.depth=this.height=0,this.parent=null}es.prototype=Jo.prototype={constructor:es,count:Po,each:Fo,eachAfter:Lo,eachBefore:Io,find:Ro,sum:zo,sort:Bo,path:Vo,ancestors:Uo,descendants:Wo,leaves:Go,links:Ko,copy:Yo,[Symbol.iterator]:qo};function ts(e,t){return e.parent===t.parent?1:2}function ns(e){var t=e.children;return t?t[0]:e.t}function rs(e){var t=e.children;return t?t[t.length-1]:e.t}function is(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function as(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function os(e,t,n){return e.a.parent===t.parent?e.a:n}function ss(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}ss.prototype=Object.create(es.prototype);function cs(e){for(var t=new ss(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new ss(a[o],o)),i.parent=n;return(t.parent=new ss(null,0)).children=[t],t}function ls(){var e=ts,t=1,n=1,r=null;function i(i){var s=cs(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(c);else{var l=i,u=i,d=i;i.eachBefore(function(e){e.x<l.x&&(l=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var f=l===u?1:e(l,u)/2,p=f-l.x,m=t/(u.x+f+p),h=n/(d.depth||1);i.eachBefore(function(e){e.x=(e.x+p)*m,e.y=e.depth*h})}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){as(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=s(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(t,n,r){if(n){for(var i=t,a=t,o=n,s=i.parent.children[0],c=i.m,l=a.m,u=o.m,d=s.m,f;o=rs(o),i=ns(i),o&&i;)s=ns(s),a=rs(a),a.a=t,f=o.z+u-i.z-c+e(o._,i._),f>0&&(is(os(o,t,r),t,f),c+=f,l+=f),u+=o.m,c+=i.m,d+=s.m,l+=a.m;o&&!rs(a)&&(a.t=o,a.m+=u-l),i&&!ns(s)&&(s.t=i,s.m+=c-d,r=t)}return r}function c(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function us(e,t,n){this.k=e,this.x=t,this.y=n}us.prototype={constructor:us,scale:function(e){return e===1?this:new us(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new us(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return`translate(`+this.x+`,`+this.y+`) scale(`+this.k+`)`}};var ds=new us(1,0,0);fs.prototype=us.prototype;function fs(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ds;return e.__zoom}var ps={class:`mb-4 flex items-center justify-between`},ms={class:`flex items-center gap-2`},hs=[`title`],gs={class:`flex flex-wrap gap-2 text-sm text-base-content/60`},_s={class:`mb-4 flex flex-wrap gap-4 text-xs`},vs={class:`flex items-center gap-1`},ys={class:`flex items-center gap-1`},bs={class:`flex items-center gap-1`},xs={class:`flex items-center gap-1`},Ss={class:`flex items-center gap-1`},Cs={key:0,class:`flex flex-col items-center justify-center py-8 text-base-content/60`},ws=E({__name:`NetworkTopology`,setup(e){let{t}=ee(),n=ge(),r=A(),i=O(null),s=O(null),l=O(new Set),u=O(!1),d=O(null),p=o(()=>u.value&&d.value?d.value:n.activeConnections),m=null,y=null,E=null;function D(e,t=`600 11px sans-serif`){E||=document.createElement(`canvas`);let n=E.getContext(`2d`);return n?(n.font=t,n.measureText(e).width):e.length*7}let te=!1;function k(){te||(te=!0,requestAnimationFrame(()=>{te=!1,L()}))}let ne=o(()=>{let e=p.value,t=new Map;e.forEach(e=>{let n=e.metadata.sourceIP||`Unknown`,r=String(e.metadata.sourcePort||`Unknown`),i=e.rule||`Direct`,a=e.rulePayload,o=a?`${i}: ${a}`:i,s=e.chains||[],c=s[0]??`Direct`,l=s.length>1?s[1]??`Direct`:s[0]??`Direct`,u=e.download+e.upload;t.has(l)||t.set(l,{data:{id:`group-${l}`,name:l,type:`group`,connections:0,traffic:0},proxies:new Map});let d=t.get(l);d.data.connections++,d.data.traffic+=u,d.proxies.has(c)||d.proxies.set(c,{data:{id:`proxy-${l}-${c}`,name:c,type:`proxy`,connections:0,traffic:0},rules:new Map});let f=d.proxies.get(c);f.data.connections++,f.data.traffic+=u,f.rules.has(o)||f.rules.set(o,{data:{id:`rule-${l}-${c}-${o}`,name:o,type:`rule`,connections:0,traffic:0},clients:new Map});let p=f.rules.get(o);p.data.connections++,p.data.traffic+=u,p.clients.has(n)||p.clients.set(n,{data:{id:`client-${l}-${c}-${o}-${n}`,name:n,type:`client`,connections:0,traffic:0},ports:new Map});let m=p.clients.get(n);m.data.connections++,m.data.traffic+=u,m.ports.has(r)||m.ports.set(r,{id:`port-${l}-${c}-${o}-${n}-${r}`,name:r,type:`port`,connections:0,traffic:0});let h=m.ports.get(r);h.connections++,h.traffic+=u});let n=[];function r(e,t=!1){return(l.value.has(e.id)||t)&&e.children&&e.children.length>0?{...e,_children:e.children,children:void 0,collapsed:!0}:{...e,collapsed:!1}}return t.forEach(e=>{let t={...e.data,children:[]};e.proxies.forEach(e=>{let n={...e.data,children:[]};e.rules.forEach(e=>{let t={...e.data,children:[]};e.clients.forEach(e=>{let n=Array.from(e.ports.values()),r=l.value.has(`expanded-${e.data.id}`)?{...e.data,children:n,collapsed:!1}:{...e.data,_children:n,children:void 0,collapsed:!0};t.children.push(r)}),!l.value.has(`expanded-${e.data.id}`)&&t.children.length>0?(t._children=t.children,t.children=void 0,t.collapsed=!0):t.collapsed=!1,n.children.push(t)});let i=r(n);t.children.push(i)});let i=r(t);n.push(i)}),{id:`root`,name:`Connections`,type:`root`,connections:e.length,traffic:e.reduce((e,t)=>e+t.download+t.upload,0),children:n}}),j=o(()=>{let e=p.value,t=new Set,n=new Set,r=new Set,i=new Set;return e.forEach(e=>{t.add(e.metadata.sourceIP||`Unknown`),n.add(e.rule||`Direct`);let a=e.chains||[];i.add(a[0]??`Direct`),r.add(a.length>1?a[1]??`Direct`:a[0]??`Direct`)}),{clientCount:t.size,ruleCount:n.size,groupCount:r.size,proxyCount:i.size,totalTraffic:e.reduce((e,t)=>e+t.download+t.upload,0)}});function M(){let e=ye();return{root:{fill:e.neutral,bg:`color-mix(in oklch, ${e.neutral} 15%, transparent)`},client:{fill:e.primary,bg:`color-mix(in oklch, ${e.primary} 15%, transparent)`},port:{fill:e.warning,bg:`color-mix(in oklch, ${e.warning} 15%, transparent)`},rule:{fill:e.secondary,bg:`color-mix(in oklch, ${e.secondary} 15%, transparent)`},group:{fill:e.accent,bg:`color-mix(in oklch, ${e.accent} 15%, transparent)`},proxy:{fill:e.info,bg:`color-mix(in oklch, ${e.info} 15%, transparent)`},baseContent:e.baseContent}}function N(){let e=r.curTheme;return m&&y===e?m:(m=M(),y=e,m)}function P(e){return N()[e].fill}function F(e){return N()[e].bg}function I(e){switch(e){case`client`:return R;case`port`:return de;case`rule`:return ie;case`group`:return ae;case`proxy`:return ue;default:return ae}}function re(e,t){let n=`expanded-${e}`;t?e.startsWith(`rule-`)||e.startsWith(`client-`)?l.value.add(n):l.value.delete(e):e.startsWith(`rule-`)||e.startsWith(`client-`)?l.value.delete(n):l.value.add(e)}function L(){if(!i.value||!s.value)return;let e=ne.value;if(!e.children||e.children.length===0)return;Kr(i.value).selectAll(`*`).remove();let t=Jo(e),n=s.value.clientWidth;ls().nodeSize([50,100]).separation((e,t)=>e.parent===t.parent?1:1.5)(t);let r=new Map,a=t.descendants();for(let e of a)if(e.data.type!==`root`){let t=D(e.data.name),n=e.data.children&&e.data.children.length>0||e.data._children&&e.data._children.length>0?20:0;r.set(e.data.id,t+32+n)}function o(e){return r.get(e.data.id)??80}let c=new Map;t.descendants().forEach(e=>{if(e.data.type!==`root`){let t=o(e),n=c.get(e.depth)??0;c.set(e.depth,Math.max(n,t))}});let l=new Map,u=0;for(let e=1;e<=c.size;e++){let t=c.get(e)??100;if(e===1)u=t/2;else{let n=c.get(e-1)??100;u+=n/2+40+t/2}l.set(e,u)}t.descendants().forEach(e=>{e.data.type!==`root`&&e.depth>0&&(e.y=l.get(e.depth)??e.y)});let d=1/0,f=-1/0;t.each(e=>{let t=e.x??0;t<d&&(d=t),t>f&&(f=t)});let p=f-d+50,m=Math.max(400,p+25+40),h=0;t.each(e=>{if(e.data.type!==`root`){let t=r.get(e.data.id)??80,n=(e.y??0)+t/2;n>h&&(h=n)}});let g=Math.max(n,h+60+40),_=Kr(i.value).attr(`width`,g).attr(`height`,m).append(`g`).attr(`transform`,`translate(60, ${-d+50/2+25})`),v=N(),y=t.links().filter(e=>e.source.data.type!==`root`);_.selectAll(`.link`).data(y).join(`path`).attr(`class`,`link`).attr(`d`,e=>{let t=e.source,n=e.target,r=o(t),i=o(n),a=t.y-0+r/2,s=t.x,c=n.y-0-i/2,l=n.x,u=(a+c)/2;return`M${a},${s} C${u},${s} ${u},${l} ${c},${l}`}).attr(`fill`,`none`).attr(`stroke`,v.baseContent).attr(`stroke-opacity`,.3).attr(`stroke-width`,e=>Math.max(1,Math.min(4,e.target.data.connections/5)));let b=_.selectAll(`.node`).data(t.descendants().filter(e=>e.data.type!==`root`)).join(`g`).attr(`class`,`node`).attr(`transform`,e=>`translate(${(e.y??0)-0},${e.x})`).style(`cursor`,e=>e.data.children&&e.data.children.length>0||e.data._children&&e.data._children.length>0?`pointer`:`default`).on(`click`,(e,t)=>{(t.data.children&&t.data.children.length>0||t.data._children&&t.data._children.length>0)&&re(t.data.id,t.data.collapsed??!1)});b.append(`text`).attr(`dy`,-30/2-4).attr(`text-anchor`,`middle`).attr(`fill`,e=>P(e.data.type)).attr(`font-size`,`10px`).attr(`font-weight`,`500`).text(e=>`${e.data.connections}`),b.append(`rect`).attr(`x`,e=>-o(e)/2).attr(`y`,-30/2).attr(`width`,e=>o(e)).attr(`height`,30).attr(`rx`,6).attr(`fill`,e=>F(e.data.type)).attr(`stroke`,e=>P(e.data.type)).attr(`stroke-width`,2),b.filter(e=>!!(e.data.children&&e.data.children.length>0||e.data._children&&e.data._children.length>0)).append(`text`).attr(`x`,e=>o(e)/2-12).attr(`dy`,`0.35em`).attr(`text-anchor`,`middle`).attr(`fill`,e=>P(e.data.type)).attr(`font-size`,`14px`).attr(`font-weight`,`700`).text(e=>e.data.collapsed?`+`:``),b.append(`text`).attr(`dy`,`0.31em`).attr(`text-anchor`,`middle`).attr(`fill`,e=>P(e.data.type)).attr(`font-size`,`11px`).attr(`font-weight`,`600`).text(e=>e.data.name),b.append(`title`).text(e=>`${e.data.name}\n${e.data.connections} connections\n${B(e.data.traffic).toString()}`)}function oe(){u.value?d.value=null:d.value=[...n.activeConnections],u.value=!u.value}return C([()=>ne.value,()=>r.curTheme],()=>{h(k)},{deep:!0}),T(()=>{h(k);let e=new ResizeObserver(()=>k());s.value&&e.observe(s.value),g(()=>{e.disconnect(),E=null,m=null})}),(e,n)=>(S(),f(`div`,null,[w(`div`,ps,[w(`div`,ms,[w(`button`,{class:x([`flex h-6 w-6 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-base-content transition-all duration-200 ease-in-out hover:bg-base-content/10`,{"text-warning":c(u)}]),title:c(u)?c(t)(`resume`):c(t)(`pause`),onClick:oe},[c(u)?(S(),a(c(me),{key:0,class:`h-4 w-4`})):(S(),a(c(le),{key:1,class:`h-4 w-4`}))],10,hs)]),w(`div`,gs,[w(`span`,null,b(c(j).clientCount)+` `+b(c(t)(`clients`)),1),n[0]||=w(`span`,null,``,-1),w(`span`,null,b(c(j).ruleCount)+` `+b(c(t)(`rules`)),1),n[1]||=w(`span`,null,``,-1),w(`span`,null,b(c(j).groupCount)+` `+b(c(t)(`groups`)),1),n[2]||=w(`span`,null,``,-1),w(`span`,null,b(c(j).proxyCount)+` `+b(c(t)(`nodes`)),1),n[3]||=w(`span`,null,``,-1),w(`span`,null,b(c(B)(c(j).totalTraffic).toString()),1)])]),w(`div`,_s,[w(`div`,vs,[(S(),a(v(I(`group`)),{class:`h-4 w-4 text-accent`})),w(`span`,null,b(c(t)(`proxyGroups`)),1)]),w(`div`,ys,[(S(),a(v(I(`proxy`)),{class:`h-4 w-4 text-info`})),w(`span`,null,b(c(t)(`proxyNodes`)),1)]),w(`div`,bs,[(S(),a(v(I(`rule`)),{class:`h-4 w-4 text-secondary`})),w(`span`,null,b(c(t)(`rules`)),1)]),w(`div`,xs,[(S(),a(v(I(`client`)),{class:`h-4 w-4 text-primary`})),w(`span`,null,b(c(t)(`sourceIP`)),1)]),w(`div`,Ss,[(S(),a(v(I(`port`)),{class:`h-4 w-4 text-warning`})),w(`span`,null,b(c(t)(`sourcePort`)),1)])]),c(p).length===0?(S(),f(`div`,Cs,[_(c(z),{class:`mb-2 h-8 w-8 animate-pulse`}),w(`span`,null,b(c(t)(`waitingForConnections`)),1)])):(S(),f(`div`,{key:1,ref_key:`containerRef`,ref:s,class:`touch-pan-x touch-pan-y overflow-x-auto`},[(S(),f(`svg`,{ref_key:`svgRef`,ref:i,class:`min-h-[25rem]`},null,512))],512))]))}}),Ts=Object.assign(ws,{__name:`NetworkTopology`}),Es={class:`rounded-xl border border-base-content/10 bg-base-200/50 p-4`},Ds={class:`flex flex-col gap-2`},Os={class:`flex items-center justify-between gap-2`},ks={class:`flex items-center gap-2`},As={class:`font-semibold`},js={class:`relative`},Ms=[`title`],Ns={key:0,class:`flex items-center gap-2`},Ps=[`value`],Fs={class:`hidden sm:inline`},Is={key:0,class:`flex flex-col gap-1 rounded-lg border border-base-content/10 bg-base-200/80 p-3 sm:flex-row sm:flex-wrap sm:items-center sm:gap-4`},Ls={class:`flex flex-col`},Rs={class:`text-xs text-base-content/60`},zs={class:`text-lg font-bold text-primary`},Bs={key:0,class:`flex flex-col`},Vs={class:`text-xs text-base-content/60`},Hs=[`title`],Us={class:`flex flex-col`},Ws={class:`text-xs text-base-content/60`},Gs={class:`text-lg font-bold`},Ks={class:`flex flex-col`},qs={class:`text-xs text-base-content/60`},Js={class:`text-lg font-bold`},Ys={class:`flex flex-col`},Xs={class:`text-xs text-base-content/60`},Zs={class:`text-lg font-bold text-secondary`},Qs={class:`flex shrink-0 items-center justify-center py-2 md:hidden`},$s={class:`hidden overflow-x-auto rounded-lg lg:block`},ec={class:`w-full text-sm`},tc={class:`border-b border-base-content/10 bg-base-200/80`},nc={class:`px-3 py-2 text-left text-base-content`},rc={class:`px-3 py-2 text-left text-base-content`},ic={class:`px-3 py-2 text-left text-base-content`},ac={class:`px-3 py-2 text-left text-base-content`},oc={class:`px-3 py-2 text-left text-base-content`},sc={class:`px-3 py-2 text-left text-base-content`},cc={key:0},lc={colspan:`6`,class:`px-3 py-4 text-center text-base-content/70`},uc={class:`px-3 py-2 font-mono text-base-content`},dc=[`title`],fc={class:`flex items-center gap-1`},pc={class:`text-sm`},mc={class:`px-3 py-2 text-base-content`},hc={class:`px-3 py-2 text-base-content`},gc={class:`px-3 py-2 font-bold text-primary`},_c={class:`px-3 py-2`},vc=[`title`,`onClick`],yc={class:`flex flex-col gap-3 lg:hidden`},bc={key:0,class:`flex flex-col gap-2 rounded-lg border border-base-content/10 bg-base-200/80 p-3`},xc={class:`flex items-center gap-2`},Sc={class:`text-xs font-semibold text-base-content/60`},Cc={class:`flex flex-1 gap-2`},wc={key:1,class:`rounded-lg border border-base-content/10 bg-base-200/80 p-4 text-center text-base-content/70`},Tc={class:`mb-2 flex items-start justify-between`},Ec={class:`flex-1`},Dc={class:`text-xs font-semibold text-base-content/60 uppercase`},Oc={class:`font-mono text-sm font-bold break-all text-base-content`},kc=[`title`,`onClick`],Ac={key:0,class:`mb-2`},jc={class:`text-xs font-semibold text-base-content/60 uppercase`},Mc={class:`flex items-center gap-1 text-sm text-base-content`},Nc={class:`text-xs text-base-content/60`},Pc={class:`grid grid-cols-3 gap-2`},Fc={class:`text-xs font-semibold text-base-content/60 uppercase`},Ic={class:`text-sm font-medium text-base-content`},Lc={class:`text-xs font-semibold text-base-content/60 uppercase`},Rc={class:`text-sm font-medium text-base-content`},zc={class:`text-xs font-semibold text-base-content/60 uppercase`},Bc={class:`text-sm font-bold text-primary`},Vc={class:`hidden shrink-0 items-center justify-between gap-2 pt-2 md:flex`},Hc={class:`flex shrink-0 items-center gap-1.5`},Uc=[`value`],Wc={class:`text-xs whitespace-nowrap text-base-content/60`},Gc=E({__name:`DataUsageTable`,setup(t){let{t:r,locale:s}=ee(),l=ge(),h=O(`total`),g=O(`desc`),v=i(`showDataUsageTable`,!1),T=i(`dataUsageView`,`sourceIP`),E=O(0),k=i(`dataUsageTablePageSize`,50),A=e=>B(e).toString(),ne=o(()=>[{label:r(`devices`),value:`sourceIP`},{label:r(`host`),value:`host`},{label:r(`proxies`),value:`outbound`},{label:r(`process`),value:`process`}]);function M(e){h.value===e?g.value=g.value===`asc`?`desc`:`asc`:(h.value=e,g.value=`desc`)}let P=o(()=>{let e=l.dataUsageMap[T.value]||{},t=Object.values(e),n=h.value,r=g.value;return t.sort((e,t)=>{let i=0;switch(n){case`label`:i=e.label.localeCompare(t.label);break;case`duration`:i=(e.firstSeen?e.lastSeen-e.firstSeen:0)-(t.firstSeen?t.lastSeen-t.firstSeen:0);break;case`upload`:i=e.upload-t.upload;break;case`download`:i=e.download-t.download;break;case`total`:i=e.total-t.total;break}return r===`asc`?i:-i})}),F=o(()=>{let e=P.value,t=e.reduce((e,t)=>e+t.upload,0),n=e.reduce((e,t)=>e+t.download,0),r=2**53-1,i=0;e.forEach(e=>{e.firstSeen&&e.firstSeen<r&&(r=e.firstSeen),e.lastSeen&&e.lastSeen>i&&(i=e.lastSeen)});let a=r!==2**53-1&&i>0;return{count:e.length,upload:t,download:n,total:t+n,firstSeen:a?r:void 0,lastSeen:a?i:void 0}}),re=o(()=>Math.max(1,Math.ceil(P.value.length/k.value))),ie=o(()=>{let e=E.value,t=re.value,n=[];n.push(0);for(let r=Math.max(1,e-1);r<=Math.min(t-2,e+1);r++)n.includes(r)||n.push(r);return t>1&&!n.includes(t-1)&&n.push(t-1),n.sort((e,t)=>e-t)}),R=o(()=>{let e=E.value*k.value;return P.value.slice(e,e+k.value)}),ae=o(()=>{let e=P.value.length;return`${E.value*k.value+1}-${Math.min((E.value+1)*k.value,e)} / ${e}`});C([T],()=>{E.value=0});function oe(){confirm(r(`confirmClearAll`))&&l.clearDataUsage()}function se(e){l.removeDataUsageEntry(T.value,e)}let z=o(()=>{let e=ne.value.find(e=>e.value===T.value);return e?e.label:r(`name`)});return(t,i)=>{let o=Se;return S(),f(`div`,Es,[w(`div`,Ds,[w(`div`,Os,[w(`div`,ks,[w(`h3`,As,b(c(r)(`dataUsage`)),1),w(`div`,js,[w(`button`,{class:`flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-info hover:bg-base-content/10`,title:c(r)(`dataUsageInfo`)},[_(c(j),{size:18})],8,Ms)]),y(w(`input`,{"onUpdate:modelValue":i[0]||=e=>m(v)?v.value=e:null,type:`checkbox`,class:`toggle toggle-primary`},null,512),[[te,c(v)]])]),c(v)?(S(),f(`div`,Ns,[y(w(`select`,{"onUpdate:modelValue":i[1]||=e=>m(T)?T.value=e:null,class:`h-8 rounded-lg border border-base-content/12 bg-base-200/80 px-2 text-sm text-base-content focus:outline-none`},[(S(!0),f(d,null,D(c(ne),e=>(S(),f(`option`,{key:e.value,value:e.value},b(e.label),9,Ps))),128))],512),[[n,c(T)]]),w(`button`,{class:`flex h-8 items-center gap-1 rounded-lg bg-error/15 px-3 text-sm text-error transition-colors hover:bg-error/25`,onClick:oe},[_(c(fe),{size:16}),w(`span`,Fs,b(c(r)(`clearAll`)),1)])])):p(``,!0)]),c(v)?(S(),f(d,{key:0},[c(F).count>0?(S(),f(`div`,Is,[w(`div`,Ls,[w(`div`,Rs,b(c(z)),1),w(`div`,zs,b(c(F).count),1)]),c(F).firstSeen&&c(F).lastSeen?(S(),f(`div`,Bs,[w(`div`,Vs,b(c(r)(`timeRange`)),1),w(`div`,{class:`flex items-center gap-1 text-sm font-semibold`,title:c(be)(c(F).firstSeen,c(F).lastSeen,c(s))},[_(c(L),{size:16}),w(`span`,null,b(c(ve)(c(F).firstSeen,c(F).lastSeen)),1)],8,Hs)])):p(``,!0),w(`div`,Us,[w(`div`,Ws,b(c(r)(`uploadTotal`)),1),w(`div`,Gs,b(A(c(F).upload)),1)]),w(`div`,Ks,[w(`div`,qs,b(c(r)(`downloadTotal`)),1),w(`div`,Js,b(A(c(F).download)),1)]),w(`div`,Ys,[w(`div`,Xs,b(c(r)(`grandTotal`)),1),w(`div`,Zs,b(A(c(F).total)),1)])])):p(``,!0),w(`div`,Qs,[_(o,{"current-page":c(E),"total-pages":c(re),"visible-pages":c(ie),onGoToPage:i[2]||=e=>E.value=e,onPrevious:i[3]||=e=>E.value--,onNext:i[4]||=e=>E.value++},null,8,[`current-page`,`total-pages`,`visible-pages`])]),w(`div`,$s,[w(`table`,ec,[w(`thead`,null,[w(`tr`,tc,[w(`th`,nc,[w(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:i[5]||=e=>M(`label`)},[w(`span`,null,b(c(z)),1),c(h)===`label`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:14})):c(h)===`label`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:14})):p(``,!0)])]),w(`th`,rc,[w(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:i[6]||=e=>M(`duration`)},[w(`span`,null,b(c(r)(`duration`)),1),c(h)===`duration`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:14})):c(h)===`duration`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:14})):p(``,!0)])]),w(`th`,ic,[w(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:i[7]||=e=>M(`upload`)},[w(`span`,null,b(c(r)(`upload`)),1),c(h)===`upload`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:14})):c(h)===`upload`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:14})):p(``,!0)])]),w(`th`,ac,[w(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:i[8]||=e=>M(`download`)},[w(`span`,null,b(c(r)(`download`)),1),c(h)===`download`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:14})):c(h)===`download`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:14})):p(``,!0)])]),w(`th`,oc,[w(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:i[9]||=e=>M(`total`)},[w(`span`,null,b(c(r)(`total`)),1),c(h)===`total`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:14})):c(h)===`total`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:14})):p(``,!0)])]),w(`th`,sc,b(c(r)(`actions`)),1)])]),w(`tbody`,null,[c(R).length===0?(S(),f(`tr`,cc,[w(`td`,lc,b(c(r)(`noDataUsageYet`)),1)])):(S(!0),f(d,{key:1},D(c(R),e=>(S(),f(`tr`,{key:e.label,class:`border-b border-base-content/5 transition-colors hover:bg-base-content/5`},[w(`td`,uc,b(e.label),1),w(`td`,{class:`px-3 py-2 text-base-content`,title:e.firstSeen?c(be)(e.firstSeen,e.lastSeen,c(s)):`-`},[w(`div`,fc,[_(c(L),{size:14,class:`text-base-content/60`}),w(`span`,pc,b(e.firstSeen?c(ve)(e.firstSeen,e.lastSeen):`-`),1)])],8,dc),w(`td`,mc,b(A(e.upload)),1),w(`td`,hc,b(A(e.download)),1),w(`td`,gc,b(A(e.total)),1),w(`td`,_c,[w(`button`,{class:`flex h-6 w-6 cursor-pointer items-center justify-center rounded text-error hover:bg-error/20`,title:c(r)(`remove`),onClick:u(t=>se(e.label),[`stop`])},[_(c(fe),{size:14})],8,vc)])]))),128))])])]),w(`div`,yc,[c(R).length>0?(S(),f(`div`,bc,[w(`div`,xc,[w(`div`,Sc,b(c(r)(`sortBy`)),1),w(`div`,Cc,[w(`button`,{class:x([`flex-1 rounded px-2 py-1 text-xs transition-colors`,c(h)===`label`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:i[10]||=e=>M(`label`)},[e(b(c(r)(`name`))+` `,1),c(h)===`label`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:12})):c(h)===`label`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:12})):p(``,!0)],2),w(`button`,{class:x([`flex-1 rounded px-2 py-1 text-xs transition-colors`,c(h)===`duration`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:i[11]||=e=>M(`duration`)},[e(b(c(r)(`duration`))+` `,1),c(h)===`duration`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:12})):c(h)===`duration`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:12})):p(``,!0)],2),w(`button`,{class:x([`flex-1 rounded px-2 py-1 text-xs transition-colors`,c(h)===`upload`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:i[12]||=e=>M(`upload`)},[e(b(c(r)(`upload`))+` `,1),c(h)===`upload`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:12})):c(h)===`upload`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:12})):p(``,!0)],2),w(`button`,{class:x([`flex-1 rounded px-2 py-1 text-xs transition-colors`,c(h)===`download`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:i[13]||=e=>M(`download`)},[e(b(c(r)(`download`))+` `,1),c(h)===`download`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:12})):c(h)===`download`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:12})):p(``,!0)],2),w(`button`,{class:x([`flex-1 rounded px-2 py-1 text-xs transition-colors`,c(h)===`total`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:i[14]||=e=>M(`total`)},[e(b(c(r)(`total`))+` `,1),c(h)===`total`&&c(g)===`asc`?(S(),a(c(N),{key:0,size:12})):c(h)===`total`&&c(g)===`desc`?(S(),a(c(I),{key:1,size:12})):p(``,!0)],2)])])])):p(``,!0),c(R).length===0?(S(),f(`div`,wc,b(c(r)(`noDataUsageYet`)),1)):p(``,!0),(S(!0),f(d,null,D(c(R),e=>(S(),f(`div`,{key:e.label,class:`rounded-lg border border-base-content/10 bg-base-200/80 p-4`},[w(`div`,Tc,[w(`div`,Ec,[w(`div`,Dc,b(c(z)),1),w(`div`,Oc,b(e.label),1)]),w(`button`,{class:`flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-error hover:bg-error/20`,title:c(r)(`remove`),onClick:u(t=>se(e.label),[`stop`])},[_(c(fe),{size:16})],8,kc)]),e.firstSeen?(S(),f(`div`,Ac,[w(`div`,jc,b(c(r)(`timeRange`)),1),w(`div`,Mc,[_(c(L),{size:14,class:`text-base-content/60`}),w(`span`,null,b(c(ve)(e.firstSeen,e.lastSeen)),1)]),w(`div`,Nc,b(c(be)(e.firstSeen,e.lastSeen,c(s))),1)])):p(``,!0),i[19]||=w(`div`,{class:`my-2 h-px bg-base-content/10`},null,-1),w(`div`,Pc,[w(`div`,null,[w(`div`,Fc,b(c(r)(`upload`)),1),w(`div`,Ic,b(A(e.upload)),1)]),w(`div`,null,[w(`div`,Lc,b(c(r)(`download`)),1),w(`div`,Rc,b(A(e.download)),1)]),w(`div`,null,[w(`div`,zc,b(c(r)(`total`)),1),w(`div`,Bc,b(A(e.total)),1)])])]))),128))]),w(`div`,Vc,[w(`div`,Hc,[y(w(`select`,{"onUpdate:modelValue":i[15]||=e=>m(k)?k.value=e:null,class:`h-7 rounded-lg border border-base-content/12 bg-base-200/80 px-2 text-xs text-base-content focus:outline-none`},[(S(),f(d,null,D([20,50,100,200],e=>w(`option`,{key:e,value:e},b(e),9,Uc)),64))],512),[[n,c(k),void 0,{number:!0}]]),w(`span`,Wc,b(c(ae)),1)]),_(o,{"current-page":c(E),"total-pages":c(re),"visible-pages":c(ie),onGoToPage:i[16]||=e=>E.value=e,onPrevious:i[17]||=e=>E.value--,onNext:i[18]||=e=>E.value++},null,8,[`current-page`,`total-pages`,`visible-pages`])])],64)):p(``,!0)])])}}}),Kc=Object.assign(Gc,{__name:`DataUsageTable`}),qc={class:`flex h-full flex-col gap-4 overflow-x-hidden overflow-y-auto p-1 pr-2 sm:pr-3`},Jc={class:`-m-1 grid min-w-0 grid-cols-2 gap-3 p-1 sm:grid-cols-3 xl:grid-cols-6`},Yc={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:0ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},Xc={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-success/15 text-success`},Zc={class:`flex min-w-0 flex-col gap-0.5`},Qc={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},$c={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},el={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:50ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},tl={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-info/15 text-info`},nl={class:`flex min-w-0 flex-col gap-0.5`},rl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},il={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},al={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:100ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},ol={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-secondary/15 text-secondary`},sl={class:`flex min-w-0 flex-col gap-0.5`},cl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},ll={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},ul={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:150ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},dl={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-secondary/15 text-secondary`},fl={class:`flex min-w-0 flex-col gap-0.5`},pl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},ml={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},hl={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:200ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},gl={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-warning/15 text-warning`},_l={class:`flex min-w-0 flex-col gap-0.5`},vl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},yl={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},bl={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:250ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},xl={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-error/15 text-error`},Sl={class:`flex min-w-0 flex-col gap-0.5`},Cl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},wl={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},Tl={key:0,class:`animate-fade-slide-in flex items-center justify-center gap-2 rounded-lg border border-primary/15 bg-primary/8 px-4 py-3 [animation-delay:300ms]`},El={class:`text-sm text-base-content/60`},Dl={class:`font-mono text-sm font-medium text-base-content`},Ol={class:`grid min-w-0 grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3`},kl={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:350ms] lg:h-80`},Al={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:400ms] lg:h-80`},jl={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:450ms] lg:h-80`},Ml={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:500ms] lg:h-80`},Nl={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:550ms] lg:h-80`},Pl={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:600ms] lg:h-80`},Fl={class:`grid grid-cols-1 gap-4 md:grid-cols-2`},Il={class:`rounded-xl border border-base-content/10 bg-base-200 p-4`},Ll={class:`flex items-center gap-2 font-semibold text-base-content`},Rl={class:`flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-base-content transition-colors duration-200 hover:bg-base-content/10`},zl=E({__name:`overview`,setup(e){let{t}=ee();s({title:o(()=>t(`overview`))});let n=ne(),i=ge(),l=r(),u=A(),d=e=>B(e).toString(),m=o(()=>(u.curTheme,xe())),h=O(),g=O(),v=O(),y=o(()=>[{name:t(`down`),color:m.value.seriesColors[0]},{name:t(`up`),color:m.value.seriesColors[1]}]),T=o(()=>[[...n.trafficChartHistory.download],[...n.trafficChartHistory.upload]]),E=o(()=>[{name:t(`memory`),color:m.value.seriesColors[2]}]),D=o(()=>[[...n.memoryChartHistory]]),te=o(()=>[{name:t(`activeConnections`),color:m.value.seriesColors[3]}]),k=o(()=>[[...n.connectionCountHistory]]),j=o(()=>({chart:{type:`pie`,backgroundColor:m.value.backgroundColor,animation:!1},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:t(`flow`),style:{color:m.value.textColor}},tooltip:{pointFormatter(){let e=this.y||0,t=this.percentage||0;return`${this.name}<br/>${B(e).toString()} (${t.toFixed(1)}%)`}},plotOptions:{pie:{allowPointSelect:!0,cursor:`pointer`,dataLabels:{enabled:!1},showInLegend:!0,animation:!1}},legend:{itemStyle:{color:m.value.textColor},itemHoverStyle:{color:m.value.textColorHover}},series:[{type:`pie`,name:t(`flow`),data:[{name:t(`downloadTotal`),y:i.latestConnectionMsg?.downloadTotal||0,color:m.value.seriesColors[0]},{name:t(`uploadTotal`),y:i.latestConnectionMsg?.uploadTotal||0,color:m.value.seriesColors[1]}]}]})),N=o(()=>{let e=i.activeConnections,n=0,r=0,a=0;return e.forEach(e=>{let t=e.metadata.network?.toLowerCase()||``;t===`tcp`?n++:t===`udp`?r++:a++}),{chart:{type:`pie`,backgroundColor:m.value.backgroundColor,animation:!1},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:t(`networkTypes`),style:{color:m.value.textColor}},tooltip:{pointFormatter(){let e=this.y||0,t=this.percentage||0;return`${this.name}: <b>${e}</b> (${t.toFixed(1)}%)`}},plotOptions:{pie:{allowPointSelect:!0,cursor:`pointer`,dataLabels:{enabled:!1},showInLegend:!0,animation:!1}},legend:{itemStyle:{color:m.value.textColor},itemHoverStyle:{color:m.value.textColorHover}},series:[{type:`pie`,name:t(`networkTypes`),data:[{name:t(`tcp`),y:n,color:m.value.seriesColors[0]},{name:t(`udp`),y:r,color:m.value.seriesColors[1]},...a>0?[{name:t(`other`),y:a,color:m.value.seriesColors[2]}]:[]]}]}}),I=o(()=>{let e=i.speedGroupByName,n=Object.entries(e).sort(([,e],[,t])=>t-e).slice(0,5),r=n.map(([e])=>e),a=n.map(([,e])=>e);return{chart:{type:`bar`,backgroundColor:m.value.backgroundColor,animation:!1},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:t(`topProxies`),style:{color:m.value.textColor}},xAxis:{categories:r,labels:{style:{color:m.value.textColor}},lineColor:m.value.lineColor},yAxis:{title:{text:void 0},labels:{style:{color:m.value.textColor},formatter(){return`${B(this.value).toString()}/s`}},gridLineColor:m.value.gridLineColor,min:0},tooltip:{formatter(){return`<b>${r[this.x]||this.x}</b><br/>${B(this.y).toString()}/s`}},legend:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!1},animation:!1}},series:[{type:`bar`,name:t(`traffic`),data:a,color:m.value.seriesColors[0]}]}}),L=n.trafficChartHistory.download.at(-1)?.[0]??0,ie=n.memoryChartHistory.at(-1)?.[0]??0,R=n.connectionCountHistory.at(-1)?.[0]??0;return C(()=>n.latestTraffic,e=>{if(e&&h.value?.chartRef){let t=Date.now();t>L&&(h.value.chartRef.addPoints([{seriesIndex:0,time:t,value:e.down},{seriesIndex:1,time:t,value:e.up}]),L=t)}}),C(()=>n.latestMemory?.inuse,e=>{if(e&&g.value?.chartRef){let t=Date.now();t>ie&&(g.value.chartRef.addPoint(0,t,e),ie=t)}}),C(()=>i.latestConnectionMsg?.connections?.length,e=>{if(e!==void 0&&v.value?.chartRef){let t=Date.now();t>R&&(v.value.chartRef.addPoint(0,t,e),R=t)}}),(e,r)=>{let o=De,s=Me,m=xt,C=Bt,ee=Ts,O=Kc;return S(),f(`div`,qc,[w(`div`,Jc,[w(`div`,Yc,[w(`div`,Xc,[_(c(re),{size:20})]),w(`div`,Zc,[w(`span`,Qc,b(c(t)(`upload`)),1),w(`span`,$c,b(d(c(n).latestTraffic?.up||0))+`/s `,1)])]),w(`div`,el,[w(`div`,tl,[_(c(se),{size:20})]),w(`div`,nl,[w(`span`,rl,b(c(t)(`download`)),1),w(`span`,il,b(d(c(n).latestTraffic?.down||0))+`/s `,1)])]),w(`div`,al,[w(`div`,ol,[_(c(F),{size:20})]),w(`div`,sl,[w(`span`,cl,b(c(t)(`uploadTotal`)),1),w(`span`,ll,b(d(c(i).latestConnectionMsg?.uploadTotal||0)),1)])]),w(`div`,ul,[w(`div`,dl,[_(c(F),{size:20})]),w(`div`,fl,[w(`span`,pl,b(c(t)(`downloadTotal`)),1),w(`span`,ml,b(d(c(i).latestConnectionMsg?.downloadTotal||0)),1)])]),w(`div`,hl,[w(`div`,gl,[_(c(pe),{size:20})]),w(`div`,_l,[w(`span`,vl,b(c(t)(`activeConnections`)),1),w(`span`,yl,b(c(i).latestConnectionMsg?.connections?.length||0),1)])]),w(`div`,bl,[w(`div`,xl,[_(c(M),{size:20})]),w(`div`,Sl,[w(`span`,Cl,b(c(t)(`memoryUsage`)),1),w(`span`,wl,b(d(c(n).latestMemory?.inuse||0)),1)])])]),c(l).currentEndpoint?.url?(S(),f(`div`,Tl,[_(c(ue),{size:18,class:`text-primary`}),w(`span`,El,b(c(t)(`connectedTo`))+`:`,1),w(`span`,Dl,b(c(l).currentEndpoint?.url),1)])):p(``,!0),w(`div`,Ol,[w(`div`,kl,[_(o,{ref_key:`trafficChartRef`,ref:h,title:c(t)(`traffic`),"series-config":c(y),"initial-data":c(T),"is-loading":!c(n).latestTraffic},null,8,[`title`,`series-config`,`initial-data`,`is-loading`])]),w(`div`,Al,[_(s,{options:c(j),"is-loading":!c(i).latestConnectionMsg?.connections?.length},null,8,[`options`,`is-loading`])]),w(`div`,jl,[_(o,{ref_key:`memoryChartRef`,ref:g,title:c(t)(`memory`),"series-config":c(E),"initial-data":c(D),"is-loading":!c(n).latestMemory},null,8,[`title`,`series-config`,`initial-data`,`is-loading`])]),w(`div`,Ml,[_(o,{ref_key:`connectionsChartRef`,ref:v,title:c(t)(`connectionsChart`),"series-config":c(te),"initial-data":c(k),"is-loading":!c(i).latestConnectionMsg?.connections?.length,"value-mode":`number`},null,8,[`title`,`series-config`,`initial-data`,`is-loading`])]),w(`div`,Nl,[_(s,{options:c(N),"is-loading":!c(i).latestConnectionMsg?.connections?.length},null,8,[`options`,`is-loading`])]),w(`div`,Pl,[_(s,{options:c(I),"is-loading":Object.keys(c(i).speedGroupByName).length===0},null,8,[`options`,`is-loading`])])]),w(`div`,Fl,[_(m),_(C)]),w(`div`,Il,[w(`div`,{class:`flex cursor-pointer items-center justify-between`,onClick:r[0]||=e=>c(u).showNetworkTopology=!c(u).showNetworkTopology},[w(`div`,Ll,[_(c(ae),{size:20}),w(`h3`,null,b(c(t)(`networkTopology`)),1)]),w(`button`,Rl,[_(c(P),{size:20,class:x([`transition-transform duration-300`,{"rotate-180":c(u).showNetworkTopology}])},null,8,[`class`])])]),c(u).showNetworkTopology?(S(),a(ee,{key:0,class:`mt-4`})):p(``,!0)]),_(O)])}}});export{zl as default};