import{$ as e,A as t,At as n,B as r,G as i,J as a,K as o,N as s,Ot as c,Pt as l,U as u,V as d,W as f,X as p,Y as m,Z as h,dt as g,et as _,ht as v,jt as y,kt as b,lt as x,mt as S,nt as C,ot as w,q as T,st as E,tt as D,ut as O,x as ee,xt as k,z as A}from"./DO0JR7ER.js";import{d as j,p as M}from"./CnEnsHnL.js";import{t as N}from"./CNdGjGfk.js";import"./Dc30IiQz.js";import{a as te,i as ne,n as P,o as re,r as F,t as I}from"./BtRg635b.js";import{B as ie,W as ae,c as oe,d as se,g as L,j as R,o as z,r as B}from"./Dq3bNNT9.js";import{t as V}from"./BLNk-Hhf.js";import{_ as H}from"./Ch85hcd-.js";import{n as ce,r as U,t as W}from"./x5MwCfWL.js";import{c as G,f as le,h as K,n as ue,r as de,s as fe,t as pe,u as q}from"./DwNTAuCO.js";import{t as J}from"./Dxsakos9.js";import{t as me}from"./CboYjUeb.js";import{t as he}from"./B4Qbnrge.js";import{t as Y}from"./DV20IOiY.js";var X={key:0,class:`h-4 w-4 animate-spin rounded-full border-2 border-current/30 border-t-current`},Z=D({__name:`Latency`,props:{proxyName:{},testUrl:{},class:{}},emits:[`click`],setup(t){let n=t,r=U(),i=N(),a=o(()=>n.class||``),s=o(()=>r.getLatencyByName(n.proxyName,n.testUrl)),l=o(()=>r.proxyLatencyTestingMap[n.proxyName]||!1),u=o(()=>q(s.value,i.latencyQualityMap)),d=o(()=>s.value||`---`);return(t,n)=>(x(),p(`span`,{class:b([`flex w-11 cursor-pointer items-center justify-center rounded-md px-1.5 py-1 text-xs font-semibold whitespace-nowrap transition-all duration-200 ease-in-out hover:scale-105`,[c(u),c(a)]]),onClick:n[0]||=e=>t.$emit(`click`,e)},[c(l)?(x(),p(`span`,X)):(x(),p(f,{key:1},[e(y(c(d)),1)],64))],2))}}),Q=Object.assign(Z,{__name:`Latency`}),$={class:`flex items-center gap-2`},ge={class:`my-1 flex flex-1 items-center justify-center overflow-hidden rounded-2xl`},_e=D({__name:`ProxyPreviewBar`,props:{proxyNameList:{},testUrl:{},now:{}},setup(e){let t=e,r=U(),i=N(),s=o(()=>t.proxyNameList.map(e=>r.getLatencyByName(e,t.testUrl))),l=o(()=>s.value.length||1),u=o(()=>s.value.filter(e=>e>i.latencyQualityMap.NOT_CONNECTED&&e<=i.latencyQualityMap.MEDIUM).length),d=o(()=>s.value.filter(e=>e>i.latencyQualityMap.MEDIUM&&e<=i.latencyQualityMap.HIGH).length),f=o(()=>s.value.filter(e=>e>i.latencyQualityMap.HIGH).length),h=o(()=>s.value.filter(e=>e===i.latencyQualityMap.NOT_CONNECTED).length),g=o(()=>u.value*100/l.value),_=o(()=>d.value*100/l.value),v=o(()=>f.value*100/l.value),y=o(()=>h.value*100/l.value);return(t,r)=>{let i=Q;return x(),p(`div`,$,[T(`div`,ge,[T(`div`,{class:`h-2 bg-green-600`,style:n({width:`${c(g)}%`})},null,4),T(`div`,{class:`h-2 bg-yellow-500`,style:n({width:`${c(_)}%`})},null,4),T(`div`,{class:`h-2 bg-red-500`,style:n({width:`${c(v)}%`})},null,4),T(`div`,{class:`h-2 bg-[var(--color-neutral)]`,style:n({width:`${c(y)}%`})},null,4)]),e.now?(x(),a(i,{key:0,"proxy-name":e.now,"test-url":e.testUrl},null,8,[`proxy-name`,`test-url`])):m(``,!0)])}}}),ve=Object.assign(_e,{__name:`ProxyPreviewBar`}),ye={class:`flex items-center gap-2`},be={class:`flex flex-1 flex-wrap items-center gap-1`},xe=[`title`,`onClick`],Se=D({__name:`ProxyPreviewDots`,props:{proxyNameList:{},testUrl:{},now:{},onSelect:{type:Function}},setup(e){let t=e,n=U(),r=N(),i=o(()=>t.proxyNameList.map(e=>[e,n.getLatencyByName(e,t.testUrl)]));function s(e,t){let n=r.latencyQualityMap.NOT_CONNECTED,i=r.latencyQualityMap.MEDIUM,a=r.latencyQualityMap.HIGH;return typeof e!=`number`||e===n?t?`dot-neutral-selected`:`dot-neutral`:e>a?t?`dot-slow-selected`:`dot-slow`:e>i?t?`dot-medium-selected`:`dot-medium`:t?`dot-good-selected`:`dot-good`}return(t,n)=>{let r=Q;return x(),p(`div`,ye,[T(`div`,be,[(x(!0),p(f,null,O(c(i),([t,n])=>(x(),p(`div`,{key:t,class:b([`size-4 rounded-full transition-transform duration-200 ease-out`,[s(n,t===e.now),e.onSelect&&`cursor-pointer hover:scale-125`]]),title:t,onClick:u(n=>e.onSelect&&e.onSelect(t),[`stop`])},null,10,xe))),128))]),e.now?(x(),a(r,{key:0,"proxy-name":e.now,"test-url":e.testUrl},null,8,[`proxy-name`,`test-url`])):m(``,!0)])}}}),Ce=Object.assign(V(Se,[[`__scopeId`,`data-v-476aafa9`]]),{__name:`ProxyPreviewDots`}),we=D({__name:`ProxyNodePreview`,props:{proxyNameList:{},testUrl:{},now:{},onSelect:{type:Function}},setup(e){let t=e,n=N(),r=o(()=>n.proxiesPreviewType===M.OFF),i=o(()=>t.proxyNameList.length<=n.proxiesPreviewAutoThreshold),s=o(()=>{let e=n.proxiesPreviewType;return e===M.BAR||e===M.Auto&&!i.value}),l=o(()=>{let e=n.proxiesPreviewType;return e===M.DOTS||e===M.Auto&&i.value});return(t,n)=>{let i=ve,o=Ce;return c(r)?m(``,!0):(x(),p(f,{key:0},[c(s)?(x(),a(i,{key:0,"proxy-name-list":e.proxyNameList,"test-url":e.testUrl,now:e.now},null,8,[`proxy-name-list`,`test-url`,`now`])):c(l)?(x(),a(o,{key:1,"proxy-name-list":e.proxyNameList,"test-url":e.testUrl,now:e.now,"on-select":e.onSelect},null,8,[`proxy-name-list`,`test-url`,`now`,`on-select`])):m(``,!0)],64))}}}),Te=Object.assign(we,{__name:`ProxyNodePreview`}),Ee=l(K(),1),De={class:`line-clamp-1 min-w-0 flex-1 text-sm font-medium break-all`},Oe={key:1,class:`shrink-0 rounded bg-info px-1.5 py-0.5 text-[0.625rem] font-semibold text-info-content`},ke={key:2,class:`hidden text-xs uppercase opacity-60 sm:inline`},Ae={class:`hidden text-xs uppercase opacity-75 sm:inline`},je={class:`flex flex-col items-center gap-2`},Me={class:`text-lg font-bold`},Ne={key:0,class:`w-full text-xs uppercase`},Pe={key:1,class:`flex max-h-60 w-full flex-col gap-2 overflow-y-auto`},Fe={class:`flex flex-col gap-1`},Ie={class:`text-sm italic`},Le={key:2,class:`text-sm opacity-75`},Re=D({__name:`ProxyNodeListItem`,props:{proxyName:{},testUrl:{},timeout:{},isSelected:{type:Boolean,default:!1}},emits:[`click`],setup(e,{emit:t}){let r=e,s=t,l=U(),d=N(),{t:h}=ee(),g=o(()=>l.proxyNodeMap[r.proxyName]),v=o(()=>fe(g.value?.type||``,h)),S=o(()=>g.value?.xudp||g.value?.udp),C=o(()=>l.proxyLatencyTestingMap[r.proxyName]||!1),w=o(()=>!g.value||!de(g.value.type)?null:[g.value.xudp&&`xudp`,g.value.udp&&`udp`,g.value.tfo&&`TFO`].filter(Boolean).join(` / `)),E=o(()=>l.getLatencyHistoryByName(r.proxyName,r.testUrl).toReversed()),D=k(null),A=k(null),j=k(null),M=k(!1),{floatingStyles:ie,middlewareData:ae,placement:oe}=P(D,A,{placement:`top`,strategy:`fixed`,middleware:[te(10),ne(),re({padding:8}),I({element:j})],whileElementsMounted:F}),se=o(()=>{let e=ae.value.arrow,t={top:`bottom`,right:`left`,bottom:`top`,left:`right`}[oe.value.split(`-`)[0]||`top`]||`bottom`;return{left:e?.x==null?``:`${e.x}px`,top:e?.y==null?``:`${e.y}px`,[t]:`-4px`}}),L=null,R=null;function z(){L&&=(clearTimeout(L),null),R&&=(clearTimeout(R),null)}function V(){z(),L=setTimeout(()=>{M.value=!0},300)}function H(){z(),R=setTimeout(()=>{M.value=!1},100)}function ce(){z()}function W(){z(),M.value=!1}function G(){s(`click`)}function le(){l.proxyLatencyTest(r.proxyName,g.value?.provider||``,r.testUrl,r.timeout)}return(t,r)=>{let o=Q;return x(),p(`div`,{class:b([`relative z-0`,e.isSelected?`z-10`:``])},[T(`div`,{ref_key:`reference`,ref:D,class:b([`relative rounded-lg transition-all duration-300`,e.isSelected?`animate-glow-pulse bg-primary text-primary-content`:`bg-neutral text-neutral-content hover:shadow-md`]),onMouseenter:V,onMouseleave:H},[T(`div`,{class:b([`flex items-center gap-2 px-3 py-1.5`,{"cursor-pointer hover:opacity-80":!!G}]),onClick:G},[e.isSelected?(x(),a(c(B),{key:0,class:`size-4 shrink-0`})):m(``,!0),T(`span`,De,y(e.proxyName),1),c(S)?(x(),p(`span`,Oe,`U`)):m(``,!0),c(w)?(x(),p(`span`,ke,y(c(w)),1)):m(``,!0),T(`span`,Ae,y(c(v)),1),_(o,{"proxy-name":e.proxyName,"test-url":e.testUrl,class:b([`shrink-0`,{"animate-pulse":c(C)}]),onClick:u(le,[`stop`])},null,8,[`proxy-name`,`test-url`,`class`])],2),(x(),a(i,{to:`body`},[c(M)?(x(),p(`div`,{key:0,ref_key:`floating`,ref:A,style:n(c(ie)),class:`z-50 w-max max-w-80 rounded-xl bg-primary p-2.5 text-primary-content shadow-lg`,onMouseenter:ce,onMouseleave:W},[T(`div`,{ref_key:`floatingArrow`,ref:j,class:`absolute size-2 rotate-45 bg-primary`,style:n(c(se))},null,4),T(`div`,je,[T(`h2`,Me,y(e.proxyName),1),c(w)?(x(),p(`div`,Ne,` (`+y(c(w))+`) `,1)):m(``,!0),c(E).length>0?(x(),p(`div`,Pe,[(x(!0),p(f,null,O(c(E),(e,t)=>(x(),p(`div`,{key:t,class:`flex items-start gap-2`},[r[0]||=T(`div`,{class:`mt-1.5 size-2 rounded-full bg-current opacity-50`},null,-1),T(`div`,Fe,[T(`time`,Ie,y(c(Ee.default)(e.time).format(`YYYY-MM-DD HH:mm:ss`)),1),T(`div`,{class:b([`inline-block rounded px-2 py-0.5 text-xs`,c(q)(e.delay,c(d).latencyQualityMap)])},y(e.delay||`---`),3)])]))),128))])):(x(),p(`div`,Le,y(c(h)(`noLatencyHistory`)),1))])],36)):m(``,!0)]))],34)],2)}}}),ze=Object.assign(Re,{__name:`ProxyNodeListItem`});const Be={latency:50,stability:30,successRate:20},Ve={good:80,medium:50};function He(e){let t=e.filter(e=>e!==null&&e>0);if(t.length===0)return 0;let n=t.reduce((e,t)=>e+t,0)/t.length;if(n<=50)return 100;if(n>=5e3)return 0;let r=Math.log(50),i=Math.log(5e3),a=Math.log(n);return Math.round(100*(1-(a-r)/(i-r)))}function Ue(e){let t=e.filter(e=>e!==null&&e>0);if(t.length<2)return 50;let n=t.reduce((e,t)=>e+t,0)/t.length,r=t.map(e=>(e-n)**2).reduce((e,t)=>e+t,0)/t.length,i=Math.sqrt(r)/n;return i<=.1?100:i>=.5?0:Math.round(100*(1-(i-.1)/.4))}function We(e){if(e.length===0)return 0;let t=e.filter(e=>e.success).length;return Math.round(t/e.length*100)}function Ge(e,t=Be){if(e.history.length===0)return 0;let n=e.history.map(e=>e.latency),r=He(n),i=Ue(n),a=We(e.history),o=t.latency+t.stability+t.successRate,s=t.latency/o,c=t.stability/o,l=t.successRate/o,u=r*s+i*c+a*l;return Math.round(u)}function Ke(e){return e>=Ve.good?`text-success`:e>=Ve.medium?`text-warning`:`text-error`}function qe(e){let t=Math.floor((Date.now()-e)/1e3);return t<60?`${t}s ago`:t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}function Je(e,t,n,r=Be){let i=null,a=-1;for(let o of e){if(n.includes(o))continue;let e=t.get(o);if(!e||e.history.length===0)continue;let s=Ge(e,r);s>a&&(a=s,i=o)}return i}var Ye=l(K(),1),Xe={key:0,class:`absolute -top-1 -right-1 z-1 flex size-4 items-center justify-center rounded-full bg-info text-[0.625rem] font-bold text-info-content`},Ze=[`title`],Qe={class:`m-0 line-clamp-1 text-start text-sm leading-tight font-semibold break-all`},$e={class:`flex items-end justify-between gap-1`},et={class:`flex flex-col gap-0.5`},tt={class:`text-xs font-semibold uppercase opacity-75`},nt={key:0,class:`flex items-center gap-1 text-[0.625rem]`},rt={key:0,class:`opacity-50`},it={key:0,class:`flex h-1.5 w-full gap-px overflow-hidden rounded-full`},at={class:`flex flex-col items-center gap-2`},ot={class:`m-0 text-lg font-bold`},st={key:0,class:`w-full text-center text-xs uppercase opacity-80`},ct={key:1,class:`w-full rounded-lg bg-[color-mix(in_oklch,var(--color-primary-content)_10%,transparent)] p-2`},lt={class:`mb-1 flex items-center justify-between text-[0.625rem] opacity-70`},ut={viewBox:`0 0 100 50`,class:`h-8 w-full`,preserveAspectRatio:`none`},dt=[`d`],ft=[`cx`,`cy`],pt={class:`mt-1 flex items-center justify-between text-[0.625rem] opacity-70`},mt={key:2,class:`m-0 max-h-48 w-full list-none overflow-y-auto p-0 pr-2 [scrollbar-color:color-mix(in_oklch,var(--color-primary-content)_30%,transparent)_transparent] [scrollbar-width:thin] [&::-webkit-scrollbar]:block [&::-webkit-scrollbar]:w-1 [&::-webkit-scrollbar-thumb]:rounded-sm [&::-webkit-scrollbar-thumb]:bg-[color-mix(in_oklch,var(--color-primary-content)_30%,transparent)] [&::-webkit-scrollbar-track]:bg-transparent`},ht={class:`flex items-start gap-2 border-b border-[color-mix(in_oklch,var(--color-primary-content)_15%,transparent)] py-1.5 last:border-b-0`},gt={class:`shrink-0 opacity-80`},_t={class:`flex min-w-0 flex-1 flex-col gap-1`},vt={class:`text-xs italic opacity-80`},yt={class:`flex items-center gap-2`},bt={key:0,class:`h-1.5 flex-1 overflow-hidden rounded-full bg-[color-mix(in_oklch,var(--color-primary-content)_15%,transparent)]`},xt={key:3,class:`text-center text-sm opacity-75`},St=10,Ct=D({__name:`ProxyNodeCard`,props:{proxyName:{},testUrl:{},timeout:{},isSelected:{type:Boolean,default:!1},isRecommended:{type:Boolean,default:!1},providerName:{default:``},groupName:{default:``}},emits:[`click`],setup(e,{emit:t}){let r=e,s=t,l=U(),d=N(),h=me(),{t:g}=ee(),v=o(()=>l.proxyNodeMap[r.proxyName]),S=o(()=>fe(v.value?.type||``,g)),C=o(()=>v.value?.xudp||v.value?.udp),E=o(()=>h.getNodePerformance(r.proxyName)),D=o(()=>{let e=E.value;return!e||e.history.length===0?null:Ge(e,h.scoringWeights)}),A=o(()=>{let e=E.value;return e?qe(e.lastTestTime):null}),j=o(()=>{let e=E.value;if(!e||e.history.length<2)return null;let t=e.history.filter(e=>e.success&&e.latency!==null).map(e=>e.latency).slice(0,10).reverse();if(t.length<2)return null;let n=Math.min(...t),r=Math.max(...t),i=r-n||1,a=Math.round(t.reduce((e,t)=>e+t,0)/t.length),o=t.reduce((e,t)=>e+(t-a)**2,0)/t.length,s=Math.round(Math.sqrt(o)),c=e.history.length,l=e.history.filter(e=>e.success).length,u=Math.round(l/c*100);return{points:t.map((e,r)=>({x:r/(t.length-1)*100,y:100-(e-n)/i*80-10})),min:n,max:r,avg:a,jitter:s,successRate:u,totalTests:c,successTests:l}}),M=o(()=>{if(!j.value)return``;let{points:e}=j.value;return e.map((e,t)=>`${t===0?`M`:`L`} ${e.x} ${e.y}`).join(` `)}),ie=o(()=>D.value===null?``:Ke(D.value)),ae=o(()=>r.providerName&&l.proxyProviderLatencyTestingMap[r.providerName]||!1),se=o(()=>r.groupName&&l.proxyGroupLatencyTestingMap[r.groupName]||!1),L=o(()=>l.proxyLatencyTestingMap[r.proxyName]||ae.value||se.value),R=o(()=>de(v.value?.type)?`(${[v.value?.xudp&&`xudp`,v.value?.udp&&`udp`,v.value?.tfo&&`TFO`].filter(Boolean).join(` / `)})`:null),z=o(()=>l.getLatencyHistoryByName(r.proxyName,r.testUrl).toReversed()),V=o(()=>l.getLatencyHistoryByName(r.proxyName,r.testUrl).map(e=>({colorClass:e.delay?q(e.delay,d.latencyQualityMap):`text-neutral-content/30`}))),H=k(null),ce=k(null),W=k(null),G=k(!1),{floatingStyles:le,middlewareData:K,placement:ue}=P(H,ce,{placement:`top`,strategy:`fixed`,middleware:[te(10),ne(),re({padding:8}),I({element:W})],whileElementsMounted:F}),pe=o(()=>{let e=K.value.arrow,t={top:`bottom`,right:`left`,bottom:`top`,left:`right`}[ue.value.split(`-`)[0]||`top`]||`bottom`;return{left:e?.x==null?``:`${e.x}px`,top:e?.y==null?``:`${e.y}px`,[t]:`-4px`}}),J=null,he=null;function Y(){J&&=(clearTimeout(J),null),he&&=(clearTimeout(he),null)}function X(){G.value=!0,document.addEventListener(`click`,$,!0),document.addEventListener(`touchstart`,$,!0)}function Z(){G.value=!1,document.removeEventListener(`click`,$,!0),document.removeEventListener(`touchstart`,$,!0)}function $(e){let t=e.target;H.value?.contains(t)||ce.value?.contains(t)||Z()}function ge(){Y(),J=setTimeout(()=>{X()},300)}function _e(){Y(),he=setTimeout(()=>{Z()},100)}function ve(){Y()}function ye(){Y(),Z()}let be=0,xe=0,Se=!1;function Ce(e){if(G.value)return;let t=e.touches[0];t&&(be=t.clientX,xe=t.clientY,Se=!1)}function we(e){if(Se)return;let t=e.touches[0];if(!t)return;let n=Math.abs(t.clientX-be),r=Math.abs(t.clientY-xe);(n>St||r>St)&&(Se=!0)}function Te(){!Se&&!G.value&&X()}w(()=>{Y(),document.removeEventListener(`click`,$,!0),document.removeEventListener(`touchstart`,$,!0)});function Ee(){s(`click`)}function De(){l.proxyLatencyTest(r.proxyName,v.value?.provider||``,r.testUrl,r.timeout)}return(t,r)=>{let o=Q;return x(),p(`div`,{class:b([`relative p-1`,e.isSelected?`z-10`:`z-0`])},[T(`div`,{ref_key:`reference`,ref:H,class:b([`relative w-full rounded-[0.625rem] transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)]`,[e.isSelected?`scale-[1.02] animate-[glowPulse_2s_ease-in-out_infinite] bg-primary text-primary-content`:`bg-neutral text-neutral-content hover:scale-[1.01] hover:shadow-[0_4px_12px_color-mix(in_oklch,var(--color-base-content)_15%,transparent)]`,c(L)?`animate-[testingPulse_1.5s_ease-in-out_infinite] border border-[color-mix(in_oklch,var(--color-success)_50%,transparent)]`:``]]),onMouseenter:ge,onMouseleave:_e,onTouchstart:Ce,onTouchmove:we,onTouchend:Te},[c(C)?(x(),p(`div`,Xe,` U `)):m(``,!0),e.isRecommended?(x(),p(`div`,{key:1,class:`absolute -top-1 -left-1 z-1 flex size-4 items-center justify-center rounded-full bg-warning text-warning-content`,title:c(g)(`recommendation.recommended`,`Recommended`)},[_(c(oe),{class:`size-3`})],8,Ze)):m(``,!0),T(`div`,{class:b([`flex flex-col gap-2 p-[0.625rem]`,{"cursor-pointer":!!Ee}]),onClick:Ee},[T(`h2`,Qe,y(e.proxyName),1),T(`div`,$e,[T(`div`,et,[T(`div`,tt,y(c(S)),1),c(D)===null?m(``,!0):(x(),p(`div`,nt,[T(`span`,{class:b([c(ie),`font-bold`])},y(c(D)),3),c(A)?(x(),p(`span`,rt,y(c(A)),1)):m(``,!0)]))]),_(o,{"proxy-name":e.proxyName,"test-url":e.testUrl,class:b({"animate-pulse":c(L)}),onClick:u(De,[`stop`])},null,8,[`proxy-name`,`test-url`,`class`])]),c(z).length>1?(x(),p(`div`,it,[(x(!0),p(f,null,O(c(V),(e,t)=>(x(),p(`div`,{key:t,class:b([`h-full flex-1 bg-current first:rounded-l-full last:rounded-r-full`,e.colorClass])},null,2))),128))])):m(``,!0)],2),(x(),a(i,{to:`body`},[c(G)?(x(),p(`div`,{key:0,ref_key:`floating`,ref:ce,style:n(c(le)),class:`z-50 w-max max-w-80 rounded-xl bg-primary p-3 text-primary-content shadow-[0_10px_40px_color-mix(in_oklch,var(--color-base-content)_30%,transparent)]`,onMouseenter:ve,onMouseleave:ye},[T(`div`,{ref_key:`floatingArrow`,ref:W,class:`absolute size-2 rotate-45 bg-primary`,style:n(c(pe))},null,4),T(`div`,at,[T(`h2`,ot,y(e.proxyName),1),c(R)?(x(),p(`div`,st,y(c(R)),1)):m(``,!0),c(j)?(x(),p(`div`,ct,[T(`div`,lt,[T(`span`,null,y(c(j).min)+`ms`,1),T(`span`,null,`avg: `+y(c(j).avg)+`ms`,1),T(`span`,null,y(c(j).max)+`ms`,1)]),(x(),p(`svg`,ut,[r[0]||=T(`line`,{x1:`0`,y1:`25`,x2:`100`,y2:`25`,stroke:`currentColor`,"stroke-opacity":`0.1`,"stroke-dasharray":`2,2`},null,-1),T(`path`,{d:c(M),fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`,class:`opacity-80`},null,8,dt),(x(!0),p(f,null,O(c(j).points,(e,t)=>(x(),p(`circle`,{key:t,cx:e.x,cy:e.y,r:`2`,fill:`currentColor`,class:`opacity-60`},null,8,ft))),128))])),T(`div`,pt,[T(`span`,null,`jitter: `+y(c(j).jitter)+`ms`,1),T(`span`,null,y(c(j).successTests)+`/`+y(c(j).totalTests)+` (`+y(c(j).successRate)+`%)`,1)])])):m(``,!0),c(z).length>0?(x(),p(`ul`,mt,[(x(!0),p(f,null,O(c(z),(e,t)=>(x(),p(`li`,{key:t},[T(`div`,ht,[T(`div`,gt,[_(c(B),{class:`size-4`})]),T(`div`,_t,[T(`time`,vt,y(c(Ye.default)(e.time).format(`YYYY-MM-DD HH:mm:ss`)),1),T(`div`,yt,[T(`div`,{class:b([`inline-block rounded-full px-2 py-0.5 text-xs font-semibold`,c(q)(e.delay,c(d).latencyQualityMap)])},y(e.delay||`---`),3),e.delay&&c(j)?(x(),p(`div`,bt,[T(`div`,{class:b([`h-full rounded-full bg-current transition-all duration-300`,c(q)(e.delay,c(d).latencyQualityMap)]),style:n({width:`${Math.min(e.delay/c(j).max*100,100)}%`})},null,6)])):m(``,!0)])])])]))),128))])):(x(),p(`div`,xt,y(c(g)(`noLatencyHistory`)),1))])],36)):m(``,!0)]))],34)],2)}}}),wt=Object.assign(Ct,{__name:`ProxyNodeCard`}),Tt=l(K(),1),Et={class:`flex items-center gap-2 pt-1`},Dt={class:`h-2 flex-1 overflow-hidden rounded-full bg-base-content/15`},Ot={class:`flex items-center justify-center rounded-full bg-secondary px-2 py-0.5 text-xs font-semibold text-secondary-content`},kt={class:`mt-1.5 flex flex-wrap items-center justify-between gap-2`},At={class:`text-sm text-base-content/60`},jt={class:`text-sm text-base-content/60`},Mt=D({__name:`SubscriptionInfo`,props:{subscriptionInfo:{}},setup(e){let t=e,{t:r}=ee(),i=o(()=>t.subscriptionInfo?W(t.subscriptionInfo.Total||0,{units:`iec`}).toString():`0 B`),a=o(()=>{if(!t.subscriptionInfo)return`0 B`;let{Download:e=0,Upload:n=0}=t.subscriptionInfo;return W(e+n,{units:`iec`}).toString()}),s=o(()=>{if(!t.subscriptionInfo?.Total)return 0;let{Download:e=0,Upload:n=0,Total:r=1}=t.subscriptionInfo;return Math.min(Number(((e+n)/r*100).toFixed(1)),999)}),l=o(()=>t.subscriptionInfo?.Expire?(0,Tt.default)(t.subscriptionInfo.Expire*1e3).format(`YYYY-MM-DD`):r(`noExpire`));return(t,o)=>e.subscriptionInfo?(x(),p(f,{key:0},[T(`div`,Et,[T(`div`,Dt,[T(`div`,{class:`h-full rounded-full transition-[width] duration-500 ease-out`,style:n({width:`${c(s)}%`,background:`linear-gradient(90deg, var(--color-primary), var(--color-secondary))`})},null,4)]),T(`div`,Ot,y(c(s))+`% `,1)]),T(`div`,kt,[T(`div`,At,y(c(a))+` / `+y(c(i)),1),T(`div`,jt,y(c(r)(`expire`))+`: `+y(c(l)),1)])],64)):m(``,!0)}}),Nt=Object.assign(Mt,{__name:`SubscriptionInfo`}),Pt={class:`overflow-hidden rounded-xl transition-[background,border-color] duration-200 ease-out select-none hover:border-[color-mix(in_oklch,var(--color-primary)_40%,transparent)] hover:bg-[color-mix(in_oklch,var(--color-base-200)_95%,transparent)]`,style:{background:`color-mix(in oklch, var(--color-base-200) 80%, transparent)`,border:`1px solid
        color-mix(in oklch, var(--color-secondary) 30%, transparent)`,"box-shadow":`0 2px 8px
        color-mix(in oklch, var(--color-base-content) 5%, transparent)`}},Ft=D({__name:`Collapse`,props:{isOpen:{type:Boolean,default:!1}},emits:[`collapse`],setup(e,{emit:t}){let n=t,r=N(),i=o(()=>r.proxiesDisplayMode===j.LIST);return(t,r)=>(x(),p(`div`,Pt,[T(`div`,{class:`flex cursor-pointer items-center justify-between p-4 pr-3 text-xl font-medium text-[var(--color-base-content)]`,onClick:r[0]||=t=>n(`collapse`,!e.isOpen)},[g(t.$slots,`title`),T(`div`,{class:b([`flex h-6 w-6 items-center justify-center text-[color-mix(in_oklch,var(--color-base-content)_50%,transparent)] transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)]`,e.isOpen?`rotate-180`:``])},[...r[1]||=[T(`svg`,{class:`h-4 w-4`,xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`,"stroke-linecap":`round`,"stroke-linejoin":`round`},[T(`path`,{d:`m6 9 6 6 6-6`})],-1)]],2)]),T(`div`,{class:b([`gap-3 px-4 pt-2 pb-4 transition-opacity duration-300 ease-out`,[e.isOpen?`opacity-100`:`hidden opacity-0`,c(i)?`flex flex-col`:`grid grid-cols-[repeat(auto-fill,minmax(180px,1fr))]`]])},[e.isOpen?g(t.$slots,`default`,{key:0}):m(``,!0)],2)]))}}),It=Object.assign(Ft,{__name:`Collapse`}),Lt={key:0,class:`flex gap-2`},Rt={class:`isolate flex flex-1 flex-col gap-2`},zt={class:`isolate flex flex-1 flex-col gap-2`},Bt={key:1,class:`isolate flex flex-col gap-2`},Vt=D({__name:`ProxiesRenderWrapper`,setup(e,{expose:n}){let r=N(),{width:i}=t(),a=o(()=>i.value>480),s=o(()=>r.renderProxiesInTwoColumns&&a.value);return n({isTwoColumns:s}),(e,t)=>c(s)?(x(),p(`div`,Lt,[T(`div`,Rt,[g(e.$slots,`even`)]),T(`div`,zt,[g(e.$slots,`odd`)])])):(x(),p(`div`,Bt,[g(e.$slots,`default`)]))}}),Ht=Object.assign(Vt,{__name:`ProxiesRenderWrapper`}),Ut=10,Wt=200;function Gt(){let e=N(),t=me(),n=k(!1),r=k({completed:0,total:0,current:``}),i=k(null),a=async(e,t,n)=>{try{return{proxyName:e,delay:(await H().get(`proxies/${encodeURIComponent(e)}/delay`,{searchParams:{url:t,timeout:n}}).json()).delay}}catch{return{proxyName:e,delay:0}}},o=async(e,t,n)=>{try{return await H().get(`group/${encodeURIComponent(e)}/delay`,{searchParams:{url:t,timeout:n}}).json()}catch{return{}}},s=async(e,o)=>{let{url:s,timeout:c,onProgress:l,onNodeComplete:u}=o,d={};n.value=!0,r.value={completed:0,total:e.length,current:``},i.value=new AbortController,t.batchTestProgress={total:e.length,completed:0,current:null,isRunning:!0};try{for(let n=0;n<e.length&&!i.value?.signal.aborted;n+=Ut){let o=e.slice(n,n+Ut).map(async n=>{r.value.current=n,t.batchTestProgress.current=n;let i=await a(n,s,c);return d[n]=i.delay,r.value.completed++,t.batchTestProgress.completed++,l?.(r.value.completed,e.length,n),u?.(n,i.delay),t.recordTestResult(n,i.delay>0?i.delay:null,i.delay>0),i});await Promise.all(o),n+Ut<e.length&&!i.value?.signal.aborted&&await new Promise(e=>setTimeout(e,Wt))}}finally{n.value=!1,r.value.current=``,t.batchTestProgress={total:e.length,completed:r.value.completed,current:null,isRunning:!1},i.value=null}return d},c=async(r,i)=>{let a=i?.url??e.urlForLatencyTest,s=i?.timeout??e.latencyTestTimeoutDuration;n.value=!0,t.batchTestProgress={total:1,completed:0,current:r,isRunning:!0};try{let e=await o(r,a,s);return t.recordBatchResults(e),e}finally{n.value=!1,t.batchTestProgress={total:1,completed:1,current:null,isRunning:!1}}};return{isRunning:n,progress:r,batchTestNodes:s,testGroupNodes:c,testMultipleGroups:async(e,r)=>{let i={};n.value=!0,t.batchTestProgress={total:e.length,completed:0,current:null,isRunning:!0};try{for(let n=0;n<e.length;n++){let a=e[n];a&&(t.batchTestProgress.current=a,t.batchTestProgress.completed=n,i[a]=await c(a,r),n<e.length-1&&await new Promise(e=>setTimeout(e,Wt)))}}finally{n.value=!1,t.batchTestProgress={total:e.length,completed:e.length,current:null,isRunning:!1}}return i},abortTest:()=>{i.value?.abort()}}}var Kt={class:`flex h-full flex-col gap-3 overflow-y-auto p-2`},qt={class:`animate-fade-slide-in flex flex-wrap items-center gap-3`},Jt={class:`flex gap-1 rounded-xl border border-base-content/8 bg-base-200/60 p-1 backdrop-blur-sm`},Yt=[`onClick`],Xt={class:`font-medium`},Zt={class:`flex items-center gap-2`},Qt={class:`hidden text-sm font-medium sm:inline`},$t={key:1,class:`flex items-center gap-2 rounded-lg bg-success/10 px-3 py-1.5 text-sm text-success`},en={key:0,class:`max-w-24 truncate text-xs opacity-70`},tn={class:`ml-auto`},nn={key:0,class:`flex-1 overflow-y-auto`},rn={key:1,class:`flex-1 overflow-y-auto`},an={class:`flex flex-col gap-4`},on={class:`flex w-full justify-center`},sn={class:`flex flex-col`},cn={value:`orderNatural`},ln={value:`orderLatency_asc`},un={value:`orderLatency_desc`},dn={value:`orderName_asc`},fn={value:`orderName_desc`},pn={class:`flex w-full justify-center`},mn={class:`flex w-full justify-center`},hn={value:`cardMode`},gn={value:`listMode`},_n={value:`auto`},vn={value:`dots`},yn={value:`bar`},bn={value:`off`},xn=V(D({__name:`proxies`,setup(t){let{t:i,locale:l}=ee();s({title:o(()=>i(`proxies`))});let u=U(),g=ce(),w=N(),j=me(),{isRunning:te,testMultipleGroups:ne}=Gt(),P=k(`proxies`),re=k(),F=k(),I=k(),oe=e=>W(e).toString(),B=e=>Je(e.all??[],j.performanceData,j.excludedNodes,j.scoringWeights),V=async()=>{await ne(K.value.map(e=>e.name))},H=e=>{let t=B(e);t&&u.selectProxyInGroup(e,t)},K=o(()=>u.proxies.filter(e=>!e.hidden)),de=o(()=>[{type:`proxies`,name:i(`proxies`),count:K.value.length},{type:`proxyProviders`,name:i(`proxyProviders`),count:u.proxyProviders.length}]);function q(e){return ue({proxyNames:le({proxyNames:e.all??[],orderingType:w.proxiesOrderingType,testUrl:e.testUrl||null,getLatencyByName:u.getLatencyByName,latencyQualityMap:w.latencyQualityMap,urlForLatencyTest:w.urlForLatencyTest}),enabled:w.hideUnAvailableProxies,testUrl:e.testUrl||null,getLatencyByName:u.getLatencyByName,isProxyGroup:u.isProxyGroup,latencyQualityMap:w.latencyQualityMap,urlForLatencyTest:w.urlForLatencyTest})}function X(e){return le({proxyNames:e.proxies.map(e=>e.name),orderingType:w.proxiesOrderingType,testUrl:e.testUrl,getLatencyByName:u.getLatencyByName,latencyQualityMap:w.latencyQualityMap,urlForLatencyTest:w.urlForLatencyTest})}E(()=>{u.fetchProxies()});let Z=D({props:{proxyGroup:{type:Object,required:!0},sortedProxyNames:{type:Array,required:!0}},setup(e){let t=o(()=>B(e.proxyGroup)),n=o(()=>t.value!==null&&t.value!==e.proxyGroup.now);return()=>C(`div`,{class:`flex flex-col gap-3 flex-1 min-w-0`},[C(`div`,{class:`flex items-center justify-between gap-2 w-full flex-nowrap`},[C(`div`,{class:`flex flex-wrap items-center gap-2 flex-1 min-w-0`},[e.proxyGroup.icon&&(e.proxyGroup.icon.startsWith(`data:image/svg+xml`)?C(`div`,{style:{height:`${w.iconHeight}px`,width:`${w.iconHeight}px`,color:`oklch(var(--p) / var(--tw-bg-opacity))`,backgroundColor:`currentColor`,marginRight:`${w.iconMarginRight}px`,maskImage:`url('${pe(e.proxyGroup.icon)}')`,maskSize:`100% 100%`}}):C(`img`,{src:e.proxyGroup.icon,style:{height:`${w.iconHeight}px`,marginRight:`${w.iconMarginRight}px`}})),C(`span`,{class:`text-lg font-semibold tracking-tight line-clamp-1 break-all text-base-content`},e.proxyGroup.name),C(`div`,{class:`badge badge-sm text-[0.7rem] font-semibold px-2 py-1 rounded-md bg-primary/12 text-primary border border-primary/20`},e.proxyGroup.all?.length)]),C(`div`,{class:`flex items-center gap-1.5 shrink-0`},[n.value&&C(J,{class:`flex items-center justify-center w-9 h-9 rounded-lg bg-warning/10 border border-warning/20 text-warning transition-all duration-200 hover:bg-warning/20 hover:border-warning/40 hover:-translate-y-px hover:shadow-lg hover:shadow-warning/15 active:translate-y-0`,title:i(`recommendation.switchToRecommended`,`Switch to Recommended: `)+t.value,onClick:t=>{t.stopPropagation(),H(e.proxyGroup)}},{default:()=>C(z,{size:18})}),C(J,{class:`flex items-center justify-center w-9 h-9 rounded-lg bg-base-content/6 border border-base-content/8 text-base-content/60 transition-all duration-200 hover:bg-primary/15 hover:border-primary/30 hover:text-primary hover:-translate-y-px hover:shadow-lg hover:shadow-primary/15 active:translate-y-0 disabled:bg-success/15 disabled:border-success/30 disabled:cursor-not-allowed disabled:opacity-100`,disabled:u.proxyGroupLatencyTestingMap[e.proxyGroup.name],onClick:t=>{t.stopPropagation(),u.proxyGroupLatencyTest(e.proxyGroup.name)}},{default:()=>C(ae,{size:18,class:{"animate-pulse text-success":u.proxyGroupLatencyTestingMap[e.proxyGroup.name]}})})])]),C(`div`,{class:`flex flex-col gap-2.5 pt-1`},[C(`div`,{class:`badge badge-primary badge-sm inline-flex items-center gap-1`},[C(`span`,{class:`font-bold`},fe(e.proxyGroup.type,i)),e.proxyGroup.now?.length>0&&[C(ie,{size:18}),C(`span`,{class:`whitespace-nowrap`},e.proxyGroup.now)]]),C(`div`,{class:`badge badge-secondary badge-sm`},`${oe(g.speedGroupByName[e.proxyGroup.name]||0)}/s`)]),!u.collapsedMap[e.proxyGroup.name]&&C(Te,{proxyNameList:e.sortedProxyNames,now:e.proxyGroup.now,testUrl:e.proxyGroup.testUrl||null,onSelect:t=>u.selectProxyInGroup(e.proxyGroup,t)})])}}),Q=D({props:{proxyGroup:{type:Object,required:!0},sortedProxyNames:{type:Array,required:!0}},setup(e){let t=o(()=>B(e.proxyGroup));return()=>e.sortedProxyNames.map(n=>w.proxiesDisplayMode===`listMode`?C(ze,{key:n,proxyName:n,testUrl:e.proxyGroup.testUrl||null,timeout:e.proxyGroup.timeout??null,isSelected:e.proxyGroup.now===n,onClick:()=>u.selectProxyInGroup(e.proxyGroup,n)}):C(wt,{key:n,proxyName:n,testUrl:e.proxyGroup.testUrl||null,timeout:e.proxyGroup.timeout??null,isSelected:e.proxyGroup.now===n,isRecommended:t.value===n,groupName:e.proxyGroup.name,onClick:()=>u.selectProxyInGroup(e.proxyGroup,n)}))}}),$=D({props:{provider:{type:Object,required:!0},sortedProxyNames:{type:Array,required:!0}},setup(e){return()=>C(`div`,{class:`flex flex-col gap-3 flex-1 min-w-0`},[C(`div`,{class:`flex items-center justify-between gap-2 w-full flex-nowrap`},[C(`div`,{class:`flex flex-wrap items-center gap-2 flex-1 min-w-0`},[C(`span`,{class:`text-lg font-semibold tracking-tight line-clamp-1 break-all text-base-content`},e.provider.name),C(`div`,{class:`badge badge-sm text-[0.7rem] font-semibold px-2 py-1 rounded-md bg-primary/12 text-primary border border-primary/20`},e.provider.proxies.length),C(`div`,{class:`badge badge-sm text-[0.7rem] font-semibold px-2 py-1 rounded-md bg-primary/12 text-primary border border-primary/20`},e.provider.vehicleType)]),C(`div`,{class:`flex items-center gap-1.5 shrink-0`},[C(J,{class:`flex items-center justify-center w-9 h-9 rounded-lg bg-base-content/6 border border-base-content/8 text-base-content/60 transition-all duration-200 hover:bg-primary/15 hover:border-primary/30 hover:text-primary hover:-translate-y-px hover:shadow-lg hover:shadow-primary/15 active:translate-y-0 disabled:bg-success/15 disabled:border-success/30 disabled:cursor-not-allowed disabled:opacity-100`,disabled:u.updatingMap[e.provider.name],onClick:t=>{t.stopPropagation(),u.updateProviderByProviderName(e.provider.name)}},{default:()=>C(L,{size:18,class:{"animate-spin text-success":u.updatingMap[e.provider.name]}})}),C(J,{class:`flex items-center justify-center w-9 h-9 rounded-lg bg-base-content/6 border border-base-content/8 text-base-content/60 transition-all duration-200 hover:bg-primary/15 hover:border-primary/30 hover:text-primary hover:-translate-y-px hover:shadow-lg hover:shadow-primary/15 active:translate-y-0 disabled:bg-success/15 disabled:border-success/30 disabled:cursor-not-allowed disabled:opacity-100`,disabled:u.proxyProviderLatencyTestingMap[e.provider.name],onClick:t=>{t.stopPropagation(),u.proxyProviderLatencyTest(e.provider.name)}},{default:()=>C(ae,{size:18,class:{"animate-pulse text-success":u.proxyProviderLatencyTestingMap[e.provider.name]}})})])]),C(Nt,{subscriptionInfo:e.provider.subscriptionInfo}),C(`div`,{class:`flex flex-col gap-2.5 pt-1`},[C(`div`,{class:`inline-flex items-center gap-1.5 text-xs font-medium text-base-content/45 px-2.5 py-1 bg-base-content/5 rounded-full w-fit`},`${i(`updated`)} ${G(e.provider.updatedAt,l.value)}`),!u.collapsedMap[e.provider.name]&&C(Te,{proxyNameList:e.sortedProxyNames,testUrl:e.provider.testUrl})])])}}),ge=D({props:{provider:{type:Object,required:!0},sortedProxyNames:{type:Array,required:!0}},setup(e){return()=>e.sortedProxyNames.map(t=>w.proxiesDisplayMode===`listMode`?C(ze,{key:t,proxyName:t,testUrl:e.provider.testUrl,timeout:e.provider.timeout??null,providerName:e.provider.name}):C(wt,{key:t,proxyName:t,testUrl:e.provider.testUrl,timeout:e.provider.timeout??null,providerName:e.provider.name}))}});return(t,o)=>{let s=It,l=Ht,g=he,C=Y;return x(),p(`div`,Kt,[T(`div`,qt,[T(`div`,Jt,[(x(!0),p(f,null,O(c(de),e=>(x(),p(`button`,{key:e.type,class:b([`flex items-center gap-2 rounded-lg px-3 py-1.5 text-sm text-base-content/70 transition-all duration-200 hover:bg-base-content/5`,{"bg-primary text-primary-content shadow-md shadow-primary/30 hover:bg-primary":c(P)===e.type}]),onClick:t=>P.value=e.type},[T(`span`,Xt,y(e.name),1),T(`span`,{class:b([`rounded-md bg-base-content/10 px-1.5 py-0.5 text-xs font-semibold`,{"bg-primary-content/20":c(P)===e.type}])},y(e.count),3)],10,Yt))),128))]),T(`div`,Zt,[c(P)===`proxies`?(x(),a(J,{key:0,class:`flex h-9 items-center gap-1.5 rounded-[0.625rem] border border-base-content/10 bg-base-200/80 px-3 transition-all duration-200 hover:border-primary/30 hover:bg-primary/15 hover:text-primary`,disabled:c(te),title:c(i)(`recommendation.testAllGroups`,`Test All Groups`),onClick:V},{default:S(()=>[_(c(ae),{size:18,class:b({"animate-pulse text-success":c(te)})},null,8,[`class`]),T(`span`,Qt,y(c(i)(`recommendation.testAll`,`Test All`)),1)]),_:1},8,[`disabled`,`title`])):m(``,!0),c(te)?(x(),p(`div`,$t,[o[13]||=T(`span`,{class:`loading loading-xs loading-spinner`},null,-1),T(`span`,null,y(c(j).batchTestProgress.completed)+`/`+y(c(j).batchTestProgress.total),1),c(j).batchTestProgress.current?(x(),p(`span`,en,y(c(j).batchTestProgress.current),1)):m(``,!0)])):m(``,!0),c(P)===`proxyProviders`?(x(),a(J,{key:2,class:`flex h-9 w-9 items-center justify-center rounded-[0.625rem] border border-base-content/10 bg-base-200/80 transition-all duration-200 hover:border-primary/30 hover:bg-primary/15 hover:text-primary`,disabled:c(u).isAllProviderUpdating,onClick:c(u).updateAllProvider},{default:S(()=>[_(c(L),{size:18,class:b({"animate-spin text-success":c(u).isAllProviderUpdating})},null,8,[`class`])]),_:1},8,[`disabled`,`onClick`])):m(``,!0)]),T(`div`,tn,[_(J,{class:`flex h-9 w-9 items-center justify-center rounded-[0.625rem] border border-base-content/10 bg-primary/10 text-primary transition-all duration-200 hover:border-primary/30 hover:bg-primary/15`,onClick:o[0]||=e=>c(re)?.open()},{default:S(()=>[_(c(se),{size:18})]),_:1})])]),c(P)===`proxies`?(x(),p(`div`,nn,[_(l,{ref_key:`proxyGroupsWrapper`,ref:F},h({_:2},[c(F)?.isTwoColumns?{name:`even`,fn:S(()=>[(x(!0),p(f,null,O(c(K).filter((e,t)=>t%2==0),(e,t)=>(x(),a(s,{key:e.name,class:`animate-fade-slide-in`,style:n({animationDelay:`${t*50}ms`}),"is-open":c(u).collapsedMap[e.name]||!1,onCollapse:t=>c(u).collapsedMap[e.name]=t},{title:S(()=>[_(c(Z),{"proxy-group":e,"sorted-proxy-names":q(e)},null,8,[`proxy-group`,`sorted-proxy-names`])]),default:S(()=>[_(c(Q),{"proxy-group":e,"sorted-proxy-names":q(e)},null,8,[`proxy-group`,`sorted-proxy-names`])]),_:2},1032,[`style`,`is-open`,`onCollapse`]))),128))]),key:`0`}:void 0,c(F)?.isTwoColumns?{name:`odd`,fn:S(()=>[(x(!0),p(f,null,O(c(K).filter((e,t)=>t%2==1),(e,t)=>(x(),a(s,{key:e.name,class:`animate-fade-slide-in`,style:n({animationDelay:`${t*50+25}ms`}),"is-open":c(u).collapsedMap[e.name]||!1,onCollapse:t=>c(u).collapsedMap[e.name]=t},{title:S(()=>[_(c(Z),{"proxy-group":e,"sorted-proxy-names":q(e)},null,8,[`proxy-group`,`sorted-proxy-names`])]),default:S(()=>[_(c(Q),{"proxy-group":e,"sorted-proxy-names":q(e)},null,8,[`proxy-group`,`sorted-proxy-names`])]),_:2},1032,[`style`,`is-open`,`onCollapse`]))),128))]),key:`1`}:void 0,c(F)?.isTwoColumns?void 0:{name:`default`,fn:S(()=>[(x(!0),p(f,null,O(c(K),(e,t)=>(x(),a(s,{key:e.name,class:`animate-fade-slide-in`,style:n({animationDelay:`${t*40}ms`}),"is-open":c(u).collapsedMap[e.name]||!1,onCollapse:t=>c(u).collapsedMap[e.name]=t},{title:S(()=>[_(c(Z),{"proxy-group":e,"sorted-proxy-names":q(e)},null,8,[`proxy-group`,`sorted-proxy-names`])]),default:S(()=>[_(c(Q),{"proxy-group":e,"sorted-proxy-names":q(e)},null,8,[`proxy-group`,`sorted-proxy-names`])]),_:2},1032,[`style`,`is-open`,`onCollapse`]))),128))]),key:`2`}]),1536)])):(x(),p(`div`,rn,[_(l,{ref_key:`providersWrapper`,ref:I},h({_:2},[c(I)?.isTwoColumns?{name:`even`,fn:S(()=>[(x(!0),p(f,null,O(c(u).proxyProviders.filter((e,t)=>t%2==0),(e,t)=>(x(),a(s,{key:e.name,class:`animate-fade-slide-in`,style:n({animationDelay:`${t*50}ms`}),"is-open":c(u).collapsedMap[e.name]||!1,onCollapse:t=>c(u).collapsedMap[e.name]=t},{title:S(()=>[_(c($),{provider:e,"sorted-proxy-names":X(e)},null,8,[`provider`,`sorted-proxy-names`])]),default:S(()=>[_(c(ge),{provider:e,"sorted-proxy-names":X(e)},null,8,[`provider`,`sorted-proxy-names`])]),_:2},1032,[`style`,`is-open`,`onCollapse`]))),128))]),key:`0`}:void 0,c(I)?.isTwoColumns?{name:`odd`,fn:S(()=>[(x(!0),p(f,null,O(c(u).proxyProviders.filter((e,t)=>t%2==1),(e,t)=>(x(),a(s,{key:e.name,class:`animate-fade-slide-in`,style:n({animationDelay:`${t*50+25}ms`}),"is-open":c(u).collapsedMap[e.name]||!1,onCollapse:t=>c(u).collapsedMap[e.name]=t},{title:S(()=>[_(c($),{provider:e,"sorted-proxy-names":X(e)},null,8,[`provider`,`sorted-proxy-names`])]),default:S(()=>[_(c(ge),{provider:e,"sorted-proxy-names":X(e)},null,8,[`provider`,`sorted-proxy-names`])]),_:2},1032,[`style`,`is-open`,`onCollapse`]))),128))]),key:`1`}:void 0,c(I)?.isTwoColumns?void 0:{name:`default`,fn:S(()=>[(x(!0),p(f,null,O(c(u).proxyProviders,(e,t)=>(x(),a(s,{key:e.name,class:`animate-fade-slide-in`,style:n({animationDelay:`${t*40}ms`}),"is-open":c(u).collapsedMap[e.name]||!1,onCollapse:t=>c(u).collapsedMap[e.name]=t},{title:S(()=>[_(c($),{provider:e,"sorted-proxy-names":X(e)},null,8,[`provider`,`sorted-proxy-names`])]),default:S(()=>[_(c(ge),{provider:e,"sorted-proxy-names":X(e)},null,8,[`provider`,`sorted-proxy-names`])]),_:2},1032,[`style`,`is-open`,`onCollapse`]))),128))]),key:`2`}]),1536)])),_(C,{ref_key:`settingsModal`,ref:re,title:c(i)(`proxiesSettings`)},{icon:S(()=>[_(c(R),{size:24})]),default:S(()=>[T(`div`,an,[T(`div`,null,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`autoCloseConns`)),1)]),_:1}),T(`div`,on,[v(T(`input`,{"onUpdate:modelValue":o[1]||=e=>c(w).autoCloseConns=e,class:`toggle toggle-primary`,type:`checkbox`},null,512),[[A,c(w).autoCloseConns]])])]),T(`div`,sn,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`urlForLatencyTest`)),1)]),_:1}),v(T(`input`,{"onUpdate:modelValue":o[2]||=e=>c(w).urlForLatencyTest=e,class:`input-bordered input w-full`,type:`text`},null,512),[[d,c(w).urlForLatencyTest]])]),T(`div`,null,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`latencyTestTimeoutDuration`))+` (`+y(c(i)(`ms`))+`) `,1)]),_:1}),v(T(`input`,{"onUpdate:modelValue":o[3]||=e=>c(w).latencyTestTimeoutDuration=e,class:`input-bordered input w-full`,type:`number`},null,512),[[d,c(w).latencyTestTimeoutDuration,void 0,{number:!0}]])]),T(`div`,null,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`proxiesSorting`)),1)]),_:1}),v(T(`select`,{"onUpdate:modelValue":o[4]||=e=>c(w).proxiesOrderingType=e,class:`select-bordered select w-full`},[T(`option`,cn,y(c(i)(`orderNatural`)),1),T(`option`,ln,y(c(i)(`orderLatency_asc`)),1),T(`option`,un,y(c(i)(`orderLatency_desc`)),1),T(`option`,dn,y(c(i)(`orderName_asc`)),1),T(`option`,fn,y(c(i)(`orderName_desc`)),1)],512),[[r,c(w).proxiesOrderingType]])]),T(`div`,null,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`hideUnavailableProxies`)),1)]),_:1}),T(`div`,pn,[v(T(`input`,{"onUpdate:modelValue":o[5]||=e=>c(w).hideUnAvailableProxies=e,class:`toggle toggle-primary`,type:`checkbox`},null,512),[[A,c(w).hideUnAvailableProxies]])])]),T(`div`,null,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`renderInTwoColumns`)),1)]),_:1}),T(`div`,mn,[v(T(`input`,{"onUpdate:modelValue":o[6]||=e=>c(w).renderProxiesInTwoColumns=e,class:`toggle toggle-primary`,type:`checkbox`},null,512),[[A,c(w).renderProxiesInTwoColumns]])])]),T(`div`,null,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`proxiesDisplayMode`)),1)]),_:1}),v(T(`select`,{"onUpdate:modelValue":o[7]||=e=>c(w).proxiesDisplayMode=e,class:`select-bordered select w-full`},[T(`option`,hn,y(c(i)(`cardMode`)),1),T(`option`,gn,y(c(i)(`listMode`)),1)],512),[[r,c(w).proxiesDisplayMode]])]),T(`div`,null,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`proxiesPreviewType`)),1)]),_:1}),v(T(`select`,{"onUpdate:modelValue":o[8]||=e=>c(w).proxiesPreviewType=e,class:`select-bordered select w-full`},[T(`option`,_n,y(c(i)(`auto`)),1),T(`option`,vn,y(c(i)(`dots`)),1),T(`option`,yn,y(c(i)(`bar`)),1),T(`option`,bn,y(c(i)(`off`)),1)],512),[[r,c(w).proxiesPreviewType]]),c(w).proxiesPreviewType===(`PROXIES_PREVIEW_TYPE`in t?t.PROXIES_PREVIEW_TYPE:c(M)).Auto?(x(),p(f,{key:0},[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`proxiesPreviewAutoThreshold`)),1)]),_:1}),v(T(`input`,{"onUpdate:modelValue":o[9]||=e=>c(w).proxiesPreviewAutoThreshold=e,class:`input-bordered input w-full`,type:`number`,min:`1`},null,512),[[d,c(w).proxiesPreviewAutoThreshold,void 0,{number:!0}]])],64)):m(``,!0)]),T(`div`,null,[_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`iconHeight`)),1)]),_:1}),v(T(`input`,{"onUpdate:modelValue":o[10]||=e=>c(w).iconHeight=e,class:`input-bordered input w-full`,type:`number`},null,512),[[d,c(w).iconHeight,void 0,{number:!0}]]),_(g,{"with-divider":``},{default:S(()=>[e(y(c(i)(`iconMarginRight`)),1)]),_:1}),v(T(`input`,{"onUpdate:modelValue":o[11]||=e=>c(w).iconMarginRight=e,class:`input-bordered input w-full`,type:`number`},null,512),[[d,c(w).iconMarginRight,void 0,{number:!0}]])]),T(`div`,null,[T(`button`,{class:`btn w-full btn-error`,onClick:o[12]||=e=>c(w).resetProxiesSettings()},y(c(i)(`resetSettings`)),1)])])]),_:1},8,[`title`])])}}}),[[`__scopeId`,`data-v-9ea3884d`]]);export{xn as default};